DEBUG - 2026-02-02 00:00:25 --> ApiController initialized
DEBUG - 2026-02-02 00:00:25 --> ApiController initialized
DEBUG - 2026-02-02 00:00:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:00:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:00:55 --> ApiController initialized
DEBUG - 2026-02-02 00:00:55 --> ApiController initialized
DEBUG - 2026-02-02 00:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:01:25 --> ApiController initialized
DEBUG - 2026-02-02 00:01:25 --> ApiController initialized
DEBUG - 2026-02-02 00:01:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:01:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:02:19 --> ApiController initialized
DEBUG - 2026-02-02 00:02:19 --> ApiController initialized
DEBUG - 2026-02-02 00:02:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:02:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:03:19 --> ApiController initialized
DEBUG - 2026-02-02 00:03:19 --> ApiController initialized
DEBUG - 2026-02-02 00:03:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:03:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:04:19 --> ApiController initialized
DEBUG - 2026-02-02 00:04:19 --> ApiController initialized
DEBUG - 2026-02-02 00:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:19 --> ApiController initialized
DEBUG - 2026-02-02 00:05:19 --> ApiController initialized
DEBUG - 2026-02-02 00:05:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:28 --> ApiController initialized
DEBUG - 2026-02-02 00:05:28 --> ApiController initialized
DEBUG - 2026-02-02 00:05:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:35 --> ApiController initialized
DEBUG - 2026-02-02 00:05:35 --> ApiController initialized
DEBUG - 2026-02-02 00:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:35 --> ApiController initialized
DEBUG - 2026-02-02 00:05:35 --> ApiController initialized
DEBUG - 2026-02-02 00:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:35 --> ApiController initialized
DEBUG - 2026-02-02 00:05:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":null,"created_at":"2026-01-31 03:54:21","updated_at":"2026-01-31 03:54:21","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":null,"created_at":"2026-01-31 03:55:42","updated_at":"2026-01-31 03:55:42","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:35 --> Groups data: []
DEBUG - 2026-02-02 00:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:36 --> ApiController initialized
DEBUG - 2026-02-02 00:05:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:05:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:09 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 00:06:09 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 00:06:09 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 00:06:09 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 00:06:09 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 00:06:09 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 00:06:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> ApiController initialized
DEBUG - 2026-02-02 00:06:36 --> ApiController initialized
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-01 23:57:38","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:05:57","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":null,"created_at":"2026-01-31 03:55:42","updated_at":"2026-01-31 03:55:42","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:06:36 --> ApiController initialized
DEBUG - 2026-02-02 00:06:36 --> ApiController initialized
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> ApiController initialized
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:06:36 --> Groups data: []
DEBUG - 2026-02-02 00:06:36 --> ApiController initialized
DEBUG - 2026-02-02 00:06:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:07:07 --> ApiController initialized
DEBUG - 2026-02-02 00:07:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:07:36 --> ApiController initialized
DEBUG - 2026-02-02 00:07:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:06 --> ApiController initialized
DEBUG - 2026-02-02 00:08:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:19 --> TSR Dashboard: User ID: 5, Role: tsr
DEBUG - 2026-02-02 00:08:19 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 00:08:19 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 00:08:19 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 00:08:19 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 00:08:19 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 00:08:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:24 --> ApiController initialized
DEBUG - 2026-02-02 00:08:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:24 --> ApiController initialized
DEBUG - 2026-02-02 00:08:24 --> ApiController initialized
DEBUG - 2026-02-02 00:08:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:24 --> ApiController initialized
DEBUG - 2026-02-02 00:08:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:24 --> ApiController initialized
DEBUG - 2026-02-02 00:08:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:25 --> Groups data: []
DEBUG - 2026-02-02 00:08:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:25 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-01 23:57:38","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:05:57","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:08:25 --> ApiController initialized
DEBUG - 2026-02-02 00:08:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> ApiController initialized
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> ApiController initialized
DEBUG - 2026-02-02 00:08:55 --> ApiController initialized
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> ApiController initialized
DEBUG - 2026-02-02 00:08:55 --> ApiController initialized
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:08:55 --> Groups data: []
DEBUG - 2026-02-02 00:08:55 --> ApiController initialized
DEBUG - 2026-02-02 00:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:25 --> ApiController initialized
DEBUG - 2026-02-02 00:09:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> ApiController initialized
DEBUG - 2026-02-02 00:09:30 --> ApiController initialized
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> ApiController initialized
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> ApiController initialized
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> Groups data: []
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> ApiController initialized
DEBUG - 2026-02-02 00:09:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:30 --> ApiController initialized
DEBUG - 2026-02-02 00:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> ApiController initialized
DEBUG - 2026-02-02 00:09:38 --> Groups data: []
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:39 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:09:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:09:39 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:09:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:09:39"}}
ERROR - 2026-02-02 00:09:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:09:39 --> Found 104 direct messages
DEBUG - 2026-02-02 00:09:39 --> ApiController initialized
DEBUG - 2026-02-02 00:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:39 --> ApiController initialized
DEBUG - 2026-02-02 00:09:39 --> ApiController initialized
DEBUG - 2026-02-02 00:09:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:09:39 --> Groups data: []
DEBUG - 2026-02-02 00:10:09 --> ApiController initialized
DEBUG - 2026-02-02 00:10:09 --> ApiController initialized
DEBUG - 2026-02-02 00:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:10:39 --> ApiController initialized
DEBUG - 2026-02-02 00:10:39 --> ApiController initialized
DEBUG - 2026-02-02 00:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:11:09 --> ApiController initialized
DEBUG - 2026-02-02 00:11:09 --> ApiController initialized
DEBUG - 2026-02-02 00:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:11:39 --> ApiController initialized
DEBUG - 2026-02-02 00:11:39 --> ApiController initialized
DEBUG - 2026-02-02 00:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:12:09 --> ApiController initialized
DEBUG - 2026-02-02 00:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:12:09 --> ApiController initialized
DEBUG - 2026-02-02 00:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:12:39 --> ApiController initialized
DEBUG - 2026-02-02 00:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:12:39 --> ApiController initialized
DEBUG - 2026-02-02 00:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:19 --> ApiController initialized
DEBUG - 2026-02-02 00:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:19 --> ApiController initialized
DEBUG - 2026-02-02 00:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:28 --> Groups data: []
DEBUG - 2026-02-02 00:13:28 --> ApiController initialized
DEBUG - 2026-02-02 00:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:29 --> ApiController initialized
DEBUG - 2026-02-02 00:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:29 --> ApiController initialized
DEBUG - 2026-02-02 00:13:29 --> Groups data: []
DEBUG - 2026-02-02 00:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:29 --> ApiController initialized
DEBUG - 2026-02-02 00:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:29 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:13:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:13:29 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:13:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:13:29"}}
ERROR - 2026-02-02 00:13:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:13:29 --> Found 104 direct messages
DEBUG - 2026-02-02 00:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:35 --> ApiController initialized
DEBUG - 2026-02-02 00:13:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:36 --> ApiController initialized
DEBUG - 2026-02-02 00:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:36 --> ApiController initialized
DEBUG - 2026-02-02 00:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:36 --> ApiController initialized
DEBUG - 2026-02-02 00:13:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:13:36 --> ApiController initialized
DEBUG - 2026-02-02 00:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:36 --> Groups data: []
DEBUG - 2026-02-02 00:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:13:36 --> ApiController initialized
DEBUG - 2026-02-02 00:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:14:06 --> ApiController initialized
DEBUG - 2026-02-02 00:14:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:14:36 --> ApiController initialized
DEBUG - 2026-02-02 00:14:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:15:06 --> ApiController initialized
DEBUG - 2026-02-02 00:15:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:15:36 --> ApiController initialized
DEBUG - 2026-02-02 00:15:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:06 --> ApiController initialized
DEBUG - 2026-02-02 00:16:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> ApiController initialized
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:16:28 --> ApiController initialized
DEBUG - 2026-02-02 00:16:28 --> ApiController initialized
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> ApiController initialized
DEBUG - 2026-02-02 00:16:28 --> ApiController initialized
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:28 --> Groups data: []
DEBUG - 2026-02-02 00:16:28 --> ApiController initialized
DEBUG - 2026-02-02 00:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:29 --> ApiController initialized
DEBUG - 2026-02-02 00:16:29 --> ApiController initialized
DEBUG - 2026-02-02 00:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:29 --> ApiController initialized
DEBUG - 2026-02-02 00:16:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:16:29 --> ApiController initialized
DEBUG - 2026-02-02 00:16:29 --> ApiController initialized
DEBUG - 2026-02-02 00:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:29 --> ApiController initialized
DEBUG - 2026-02-02 00:16:29 --> Groups data: []
DEBUG - 2026-02-02 00:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> ApiController initialized
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> ApiController initialized
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:16:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:16:30 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:16:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:16:30"}}
ERROR - 2026-02-02 00:16:30 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:16:30 --> Found 104 direct messages
DEBUG - 2026-02-02 00:16:30 --> ApiController initialized
DEBUG - 2026-02-02 00:16:30 --> ApiController initialized
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:16:30 --> ApiController initialized
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:30 --> Groups data: []
DEBUG - 2026-02-02 00:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> ApiController initialized
DEBUG - 2026-02-02 00:16:38 --> ApiController initialized
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> ApiController initialized
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> ApiController initialized
DEBUG - 2026-02-02 00:16:38 --> ApiController initialized
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> Groups data: []
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:16:38 --> ApiController initialized
DEBUG - 2026-02-02 00:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:17:09 --> ApiController initialized
DEBUG - 2026-02-02 00:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:17:39 --> ApiController initialized
DEBUG - 2026-02-02 00:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:09 --> ApiController initialized
DEBUG - 2026-02-02 00:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:39 --> ApiController initialized
DEBUG - 2026-02-02 00:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:41 --> ApiController initialized
DEBUG - 2026-02-02 00:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:41 --> ApiController initialized
DEBUG - 2026-02-02 00:18:41 --> ApiController initialized
DEBUG - 2026-02-02 00:18:41 --> Groups data: []
DEBUG - 2026-02-02 00:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:41 --> ApiController initialized
DEBUG - 2026-02-02 00:18:41 --> ApiController initialized
DEBUG - 2026-02-02 00:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:41 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:42 --> ApiController initialized
DEBUG - 2026-02-02 00:18:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> Groups data: []
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:18:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:18:43 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:18:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:18:43"}}
ERROR - 2026-02-02 00:18:43 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:18:43 --> Found 104 direct messages
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> Groups data: []
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:43 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:18:43 --> ApiController initialized
DEBUG - 2026-02-02 00:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:47 --> ApiController initialized
DEBUG - 2026-02-02 00:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:47 --> ApiController initialized
DEBUG - 2026-02-02 00:18:47 --> ApiController initialized
DEBUG - 2026-02-02 00:18:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:47 --> ApiController initialized
DEBUG - 2026-02-02 00:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:47 --> Groups data: []
DEBUG - 2026-02-02 00:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:47 --> ApiController initialized
DEBUG - 2026-02-02 00:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:18:48 --> ApiController initialized
DEBUG - 2026-02-02 00:18:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Groups data: []
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:19:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:19:06 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:19:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:19:06"}}
ERROR - 2026-02-02 00:19:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:19:06 --> Found 104 direct messages
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> Groups data: []
DEBUG - 2026-02-02 00:19:06 --> ApiController initialized
DEBUG - 2026-02-02 00:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:18 --> ApiController initialized
DEBUG - 2026-02-02 00:19:18 --> ApiController initialized
DEBUG - 2026-02-02 00:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:18 --> ApiController initialized
DEBUG - 2026-02-02 00:19:18 --> ApiController initialized
DEBUG - 2026-02-02 00:19:18 --> ApiController initialized
DEBUG - 2026-02-02 00:19:18 --> Groups data: []
DEBUG - 2026-02-02 00:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:18 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:19 --> ApiController initialized
DEBUG - 2026-02-02 00:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:19:49 --> ApiController initialized
DEBUG - 2026-02-02 00:19:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:19 --> ApiController initialized
DEBUG - 2026-02-02 00:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:26 --> ApiController initialized
DEBUG - 2026-02-02 00:20:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:26 --> ApiController initialized
DEBUG - 2026-02-02 00:20:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:26 --> Groups data: []
DEBUG - 2026-02-02 00:20:26 --> ApiController initialized
DEBUG - 2026-02-02 00:20:26 --> ApiController initialized
DEBUG - 2026-02-02 00:20:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:26 --> ApiController initialized
DEBUG - 2026-02-02 00:20:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:26 --> ApiController initialized
DEBUG - 2026-02-02 00:20:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Groups data: []
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> Groups data: []
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:20:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:20:28 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:20:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:20:28"}}
ERROR - 2026-02-02 00:20:28 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:20:28 --> Found 104 direct messages
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> ApiController initialized
DEBUG - 2026-02-02 00:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Groups data: []
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:20:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:20:36 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:20:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:20:36"}}
ERROR - 2026-02-02 00:20:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:20:36 --> Found 104 direct messages
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> ApiController initialized
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:36 --> Groups data: []
DEBUG - 2026-02-02 00:20:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Groups data: []
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> Groups data: []
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:20:53 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:20:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:20:53 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:20:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:20:53"}}
ERROR - 2026-02-02 00:20:53 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:20:53 --> Found 104 direct messages
DEBUG - 2026-02-02 00:20:53 --> ApiController initialized
DEBUG - 2026-02-02 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:07 --> ApiController initialized
DEBUG - 2026-02-02 00:21:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:07 --> ApiController initialized
DEBUG - 2026-02-02 00:21:07 --> ApiController initialized
DEBUG - 2026-02-02 00:21:07 --> ApiController initialized
DEBUG - 2026-02-02 00:21:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:07 --> Groups data: []
DEBUG - 2026-02-02 00:21:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:08 --> ApiController initialized
DEBUG - 2026-02-02 00:21:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:21:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:08 --> ApiController initialized
DEBUG - 2026-02-02 00:21:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:21:38 --> ApiController initialized
DEBUG - 2026-02-02 00:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:08 --> ApiController initialized
DEBUG - 2026-02-02 00:22:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:38 --> ApiController initialized
DEBUG - 2026-02-02 00:22:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> ApiController initialized
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> ApiController initialized
DEBUG - 2026-02-02 00:22:45 --> Groups data: []
DEBUG - 2026-02-02 00:22:45 --> ApiController initialized
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> ApiController initialized
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> ApiController initialized
DEBUG - 2026-02-02 00:22:45 --> ApiController initialized
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Groups data: []
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:22:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:22:47 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:22:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:22:47"}}
ERROR - 2026-02-02 00:22:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:22:47 --> Found 104 direct messages
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> ApiController initialized
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:47 --> Groups data: []
DEBUG - 2026-02-02 00:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Groups data: []
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> Groups data: []
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:53 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> ApiController initialized
DEBUG - 2026-02-02 00:22:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:22:53 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:22:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:22:53"}}
ERROR - 2026-02-02 00:22:53 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:22:53 --> Found 104 direct messages
DEBUG - 2026-02-02 00:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:22:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:24 --> ApiController initialized
DEBUG - 2026-02-02 00:23:24 --> ApiController initialized
DEBUG - 2026-02-02 00:23:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:55 --> ApiController initialized
DEBUG - 2026-02-02 00:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:55 --> ApiController initialized
DEBUG - 2026-02-02 00:23:55 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:23:55 --> ApiController initialized
DEBUG - 2026-02-02 00:23:55 --> ApiController initialized
DEBUG - 2026-02-02 00:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:55 --> ApiController initialized
DEBUG - 2026-02-02 00:23:55 --> Groups data: []
DEBUG - 2026-02-02 00:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:23:56 --> ApiController initialized
DEBUG - 2026-02-02 00:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:07 --> ApiController initialized
DEBUG - 2026-02-02 00:24:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:07 --> Groups data: []
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:24:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:24:08 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:24:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:24:08"}}
ERROR - 2026-02-02 00:24:08 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:24:08 --> Found 104 direct messages
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:08 --> Groups data: []
DEBUG - 2026-02-02 00:24:08 --> ApiController initialized
DEBUG - 2026-02-02 00:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:29 --> ApiController initialized
DEBUG - 2026-02-02 00:24:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:29 --> ApiController initialized
DEBUG - 2026-02-02 00:24:29 --> ApiController initialized
DEBUG - 2026-02-02 00:24:30 --> ApiController initialized
DEBUG - 2026-02-02 00:24:30 --> ApiController initialized
DEBUG - 2026-02-02 00:24:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:30 --> Groups data: []
DEBUG - 2026-02-02 00:24:30 --> ApiController initialized
DEBUG - 2026-02-02 00:24:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> Groups data: []
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:36 --> Groups data: []
DEBUG - 2026-02-02 00:24:36 --> ApiController initialized
DEBUG - 2026-02-02 00:24:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:37 --> ApiController initialized
DEBUG - 2026-02-02 00:24:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:37 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:24:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:24:37 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:24:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:24:37"}}
ERROR - 2026-02-02 00:24:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:24:37 --> Found 104 direct messages
DEBUG - 2026-02-02 00:24:38 --> ApiController initialized
DEBUG - 2026-02-02 00:24:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:55 --> Groups data: []
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> ApiController initialized
DEBUG - 2026-02-02 00:24:55 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:56 --> ApiController initialized
DEBUG - 2026-02-02 00:24:56 --> ApiController initialized
DEBUG - 2026-02-02 00:24:56 --> ApiController initialized
DEBUG - 2026-02-02 00:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:56 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:24:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:24:56 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:24:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:24:56"}}
ERROR - 2026-02-02 00:24:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:24:56 --> Found 104 direct messages
DEBUG - 2026-02-02 00:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:24:56 --> Groups data: []
DEBUG - 2026-02-02 00:24:56 --> ApiController initialized
DEBUG - 2026-02-02 00:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:25:25 --> ApiController initialized
DEBUG - 2026-02-02 00:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:25:25 --> ApiController initialized
DEBUG - 2026-02-02 00:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:25:55 --> ApiController initialized
DEBUG - 2026-02-02 00:25:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:25:56 --> ApiController initialized
DEBUG - 2026-02-02 00:25:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:25 --> ApiController initialized
DEBUG - 2026-02-02 00:26:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:25 --> ApiController initialized
DEBUG - 2026-02-02 00:26:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:35 --> ApiController initialized
DEBUG - 2026-02-02 00:26:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Groups data: []
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> Groups data: []
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:36 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:26:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:26:36 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:26:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:26:36"}}
ERROR - 2026-02-02 00:26:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:26:36 --> Found 104 direct messages
DEBUG - 2026-02-02 00:26:36 --> ApiController initialized
DEBUG - 2026-02-02 00:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> Groups data: []
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> Groups data: []
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> ApiController initialized
DEBUG - 2026-02-02 00:26:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:39 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:26:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:26:39 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:26:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:26:39"}}
ERROR - 2026-02-02 00:26:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:26:39 --> Found 104 direct messages
DEBUG - 2026-02-02 00:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:26:40 --> ApiController initialized
DEBUG - 2026-02-02 00:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:27:09 --> ApiController initialized
DEBUG - 2026-02-02 00:27:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:27:09 --> ApiController initialized
DEBUG - 2026-02-02 00:27:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:27:39 --> ApiController initialized
DEBUG - 2026-02-02 00:27:39 --> ApiController initialized
DEBUG - 2026-02-02 00:27:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:27:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:28:09 --> ApiController initialized
DEBUG - 2026-02-02 00:28:09 --> ApiController initialized
DEBUG - 2026-02-02 00:28:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:28:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:28:39 --> ApiController initialized
DEBUG - 2026-02-02 00:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:28:39 --> ApiController initialized
DEBUG - 2026-02-02 00:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:09 --> ApiController initialized
DEBUG - 2026-02-02 00:29:09 --> ApiController initialized
DEBUG - 2026-02-02 00:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:39 --> ApiController initialized
DEBUG - 2026-02-02 00:29:39 --> ApiController initialized
DEBUG - 2026-02-02 00:29:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:58 --> ApiController initialized
DEBUG - 2026-02-02 00:29:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> Groups data: []
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:29:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:29:59"}}
ERROR - 2026-02-02 00:29:59 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:29:59 --> Found 104 direct messages
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> ApiController initialized
DEBUG - 2026-02-02 00:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:29:59 --> Groups data: []
DEBUG - 2026-02-02 00:30:29 --> ApiController initialized
DEBUG - 2026-02-02 00:30:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:30:29 --> ApiController initialized
DEBUG - 2026-02-02 00:30:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:30:59 --> ApiController initialized
DEBUG - 2026-02-02 00:30:59 --> ApiController initialized
DEBUG - 2026-02-02 00:30:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:30:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:30 --> ApiController initialized
DEBUG - 2026-02-02 00:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:30 --> ApiController initialized
DEBUG - 2026-02-02 00:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:39 --> ApiController initialized
DEBUG - 2026-02-02 00:31:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:39 --> ApiController initialized
DEBUG - 2026-02-02 00:31:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:39 --> ApiController initialized
DEBUG - 2026-02-02 00:31:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:50 --> ApiController initialized
DEBUG - 2026-02-02 00:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:50 --> ApiController initialized
DEBUG - 2026-02-02 00:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:50 --> ApiController initialized
DEBUG - 2026-02-02 00:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:06 --> ApiController initialized
DEBUG - 2026-02-02 00:32:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:06 --> ApiController initialized
DEBUG - 2026-02-02 00:32:06 --> ApiController initialized
DEBUG - 2026-02-02 00:32:06 --> ApiController initialized
DEBUG - 2026-02-02 00:32:06 --> ApiController initialized
DEBUG - 2026-02-02 00:32:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:06 --> ApiController initialized
DEBUG - 2026-02-02 00:32:06 --> Groups data: []
DEBUG - 2026-02-02 00:32:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:07 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:32:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:10 --> ApiController initialized
DEBUG - 2026-02-02 00:32:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:10 --> ApiController initialized
DEBUG - 2026-02-02 00:32:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:10 --> ApiController initialized
DEBUG - 2026-02-02 00:32:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:19 --> ApiController initialized
DEBUG - 2026-02-02 00:32:19 --> ApiController initialized
DEBUG - 2026-02-02 00:32:19 --> ApiController initialized
DEBUG - 2026-02-02 00:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:19 --> Groups data: []
DEBUG - 2026-02-02 00:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:19 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> Groups data: []
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> ApiController initialized
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:20 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:32:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:32:20 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:32:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:32:20"}}
ERROR - 2026-02-02 00:32:20 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:32:20 --> Found 104 direct messages
DEBUG - 2026-02-02 00:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:25 --> ApiController initialized
DEBUG - 2026-02-02 00:32:25 --> ApiController initialized
DEBUG - 2026-02-02 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:25 --> ApiController initialized
DEBUG - 2026-02-02 00:32:25 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:25 --> ApiController initialized
DEBUG - 2026-02-02 00:32:25 --> ApiController initialized
DEBUG - 2026-02-02 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:25 --> Groups data: []
DEBUG - 2026-02-02 00:32:25 --> ApiController initialized
DEBUG - 2026-02-02 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:32:54 --> ApiController initialized
DEBUG - 2026-02-02 00:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:33:25 --> ApiController initialized
DEBUG - 2026-02-02 00:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:33:55 --> ApiController initialized
DEBUG - 2026-02-02 00:33:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:34:25 --> ApiController initialized
DEBUG - 2026-02-02 00:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:34:55 --> ApiController initialized
DEBUG - 2026-02-02 00:34:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:08 --> ApiController initialized
DEBUG - 2026-02-02 00:35:08 --> ApiController initialized
DEBUG - 2026-02-02 00:35:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:08 --> ApiController initialized
DEBUG - 2026-02-02 00:35:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:08 --> ApiController initialized
DEBUG - 2026-02-02 00:35:08 --> ApiController initialized
DEBUG - 2026-02-02 00:35:08 --> ApiController initialized
DEBUG - 2026-02-02 00:35:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> ApiController initialized
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> Groups data: []
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> ApiController initialized
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> ApiController initialized
DEBUG - 2026-02-02 00:35:09 --> ApiController initialized
DEBUG - 2026-02-02 00:35:09 --> Groups data: []
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> ApiController initialized
DEBUG - 2026-02-02 00:35:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:09 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:35:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:35:10 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:35:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:35:10"}}
ERROR - 2026-02-02 00:35:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:35:10 --> Found 104 direct messages
DEBUG - 2026-02-02 00:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:40 --> ApiController initialized
DEBUG - 2026-02-02 00:35:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:35:40 --> ApiController initialized
DEBUG - 2026-02-02 00:35:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:36:09 --> ApiController initialized
DEBUG - 2026-02-02 00:36:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:36:09 --> ApiController initialized
DEBUG - 2026-02-02 00:36:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:36:39 --> ApiController initialized
DEBUG - 2026-02-02 00:36:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:36:39 --> ApiController initialized
DEBUG - 2026-02-02 00:36:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:37:09 --> ApiController initialized
DEBUG - 2026-02-02 00:37:09 --> ApiController initialized
DEBUG - 2026-02-02 00:37:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:37:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:37:39 --> ApiController initialized
DEBUG - 2026-02-02 00:37:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:37:39 --> ApiController initialized
DEBUG - 2026-02-02 00:37:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:38:09 --> ApiController initialized
DEBUG - 2026-02-02 00:38:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:38:09 --> ApiController initialized
DEBUG - 2026-02-02 00:38:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:38:53 --> ApiController initialized
DEBUG - 2026-02-02 00:38:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:38:53 --> ApiController initialized
DEBUG - 2026-02-02 00:38:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:39:19 --> ApiController initialized
DEBUG - 2026-02-02 00:39:19 --> ApiController initialized
DEBUG - 2026-02-02 00:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:40:19 --> ApiController initialized
DEBUG - 2026-02-02 00:40:19 --> ApiController initialized
DEBUG - 2026-02-02 00:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:41:19 --> ApiController initialized
DEBUG - 2026-02-02 00:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:41:19 --> ApiController initialized
DEBUG - 2026-02-02 00:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:10 --> ApiController initialized
DEBUG - 2026-02-02 00:42:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:10 --> ApiController initialized
DEBUG - 2026-02-02 00:42:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> Groups data: []
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:12 --> Groups data: []
DEBUG - 2026-02-02 00:42:12 --> ApiController initialized
DEBUG - 2026-02-02 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:13 --> ApiController initialized
DEBUG - 2026-02-02 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:13 --> ApiController initialized
DEBUG - 2026-02-02 00:42:13 --> ApiController initialized
DEBUG - 2026-02-02 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:13 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:42:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:42:13 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:42:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:42:13"}}
ERROR - 2026-02-02 00:42:13 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:42:13 --> Found 104 direct messages
DEBUG - 2026-02-02 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:13 --> ApiController initialized
DEBUG - 2026-02-02 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:42 --> ApiController initialized
DEBUG - 2026-02-02 00:42:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:42:42 --> ApiController initialized
DEBUG - 2026-02-02 00:42:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:12 --> ApiController initialized
DEBUG - 2026-02-02 00:43:12 --> ApiController initialized
DEBUG - 2026-02-02 00:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:42 --> ApiController initialized
DEBUG - 2026-02-02 00:43:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:42 --> ApiController initialized
DEBUG - 2026-02-02 00:43:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:43 --> ApiController initialized
DEBUG - 2026-02-02 00:43:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:43 --> ApiController initialized
DEBUG - 2026-02-02 00:43:43 --> ApiController initialized
DEBUG - 2026-02-02 00:43:43 --> ApiController initialized
DEBUG - 2026-02-02 00:43:43 --> ApiController initialized
DEBUG - 2026-02-02 00:43:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> ApiController initialized
DEBUG - 2026-02-02 00:43:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> Groups data: []
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> Groups data: []
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> ApiController initialized
DEBUG - 2026-02-02 00:43:44 --> ApiController initialized
DEBUG - 2026-02-02 00:43:44 --> ApiController initialized
DEBUG - 2026-02-02 00:43:44 --> ApiController initialized
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:44 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:43:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:43:44 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:43:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:43:44"}}
ERROR - 2026-02-02 00:43:44 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:43:44 --> Found 104 direct messages
DEBUG - 2026-02-02 00:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:43:45 --> ApiController initialized
DEBUG - 2026-02-02 00:43:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:06 --> ApiController initialized
DEBUG - 2026-02-02 00:44:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:06 --> ApiController initialized
DEBUG - 2026-02-02 00:44:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:06 --> ApiController initialized
DEBUG - 2026-02-02 00:44:06 --> ApiController initialized
DEBUG - 2026-02-02 00:44:06 --> ApiController initialized
DEBUG - 2026-02-02 00:44:06 --> Groups data: []
DEBUG - 2026-02-02 00:44:07 --> ApiController initialized
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> ApiController initialized
DEBUG - 2026-02-02 00:44:07 --> ApiController initialized
DEBUG - 2026-02-02 00:44:07 --> ApiController initialized
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> Groups data: []
DEBUG - 2026-02-02 00:44:07 --> ApiController initialized
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:07 --> ApiController initialized
DEBUG - 2026-02-02 00:44:07 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:44:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:44:07 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:44:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:44:07"}}
ERROR - 2026-02-02 00:44:07 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:44:07 --> Found 104 direct messages
DEBUG - 2026-02-02 00:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:37 --> ApiController initialized
DEBUG - 2026-02-02 00:44:37 --> ApiController initialized
DEBUG - 2026-02-02 00:44:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:44:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:45:07 --> ApiController initialized
DEBUG - 2026-02-02 00:45:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:45:07 --> ApiController initialized
DEBUG - 2026-02-02 00:45:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:45:37 --> ApiController initialized
DEBUG - 2026-02-02 00:45:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:45:37 --> ApiController initialized
DEBUG - 2026-02-02 00:45:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:46:07 --> ApiController initialized
DEBUG - 2026-02-02 00:46:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:46:07 --> ApiController initialized
DEBUG - 2026-02-02 00:46:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:46:37 --> ApiController initialized
DEBUG - 2026-02-02 00:46:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:46:37 --> ApiController initialized
DEBUG - 2026-02-02 00:46:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:47:07 --> ApiController initialized
DEBUG - 2026-02-02 00:47:07 --> ApiController initialized
DEBUG - 2026-02-02 00:47:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:47:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:19 --> ApiController initialized
DEBUG - 2026-02-02 00:48:19 --> ApiController initialized
DEBUG - 2026-02-02 00:48:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:34 --> ApiController initialized
DEBUG - 2026-02-02 00:48:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:34 --> Groups data: []
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:48:35 --> ApiController initialized
DEBUG - 2026-02-02 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:35 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:48:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:48:36 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:48:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:48:36"}}
DEBUG - 2026-02-02 00:48:36 --> ApiController initialized
DEBUG - 2026-02-02 00:48:36 --> ApiController initialized
ERROR - 2026-02-02 00:48:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:48:36 --> Found 104 direct messages
DEBUG - 2026-02-02 00:48:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:36 --> Groups data: []
DEBUG - 2026-02-02 00:48:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:44 --> ApiController initialized
DEBUG - 2026-02-02 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:44 --> ApiController initialized
DEBUG - 2026-02-02 00:48:44 --> ApiController initialized
DEBUG - 2026-02-02 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:48:44 --> ApiController initialized
DEBUG - 2026-02-02 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:44 --> Groups data: []
DEBUG - 2026-02-02 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:44 --> ApiController initialized
DEBUG - 2026-02-02 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:44 --> ApiController initialized
DEBUG - 2026-02-02 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:49 --> ApiController initialized
DEBUG - 2026-02-02 00:48:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Groups data: []
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:50 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:48:50 --> ApiController initialized
DEBUG - 2026-02-02 00:48:50 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:48:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:48:50"}}
ERROR - 2026-02-02 00:48:50 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:48:50 --> Found 104 direct messages
DEBUG - 2026-02-02 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:51 --> Groups data: []
DEBUG - 2026-02-02 00:48:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:48:51 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:49:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:02 --> ApiController initialized
DEBUG - 2026-02-02 00:49:03 --> ApiController initialized
DEBUG - 2026-02-02 00:49:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:49:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:03 --> ApiController initialized
DEBUG - 2026-02-02 00:49:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:03 --> ApiController initialized
DEBUG - 2026-02-02 00:49:03 --> ApiController initialized
DEBUG - 2026-02-02 00:49:03 --> ApiController initialized
DEBUG - 2026-02-02 00:49:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:03 --> Groups data: []
DEBUG - 2026-02-02 00:49:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:49:33 --> ApiController initialized
DEBUG - 2026-02-02 00:49:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:02 --> ApiController initialized
DEBUG - 2026-02-02 00:50:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:17 --> ApiController initialized
DEBUG - 2026-02-02 00:50:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:17 --> ApiController initialized
DEBUG - 2026-02-02 00:50:17 --> ApiController initialized
DEBUG - 2026-02-02 00:50:17 --> ApiController initialized
DEBUG - 2026-02-02 00:50:17 --> ApiController initialized
DEBUG - 2026-02-02 00:50:17 --> ApiController initialized
DEBUG - 2026-02-02 00:50:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:17 --> Groups data: []
DEBUG - 2026-02-02 00:50:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:17 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> ApiController initialized
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> ApiController initialized
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> ApiController initialized
DEBUG - 2026-02-02 00:50:18 --> ApiController initialized
DEBUG - 2026-02-02 00:50:18 --> ApiController initialized
DEBUG - 2026-02-02 00:50:18 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:50:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:50:18 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:50:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:50:18"}}
ERROR - 2026-02-02 00:50:18 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:50:18 --> Found 104 direct messages
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:18 --> Groups data: []
DEBUG - 2026-02-02 00:50:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:25 --> ApiController initialized
DEBUG - 2026-02-02 00:50:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:25 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:50:25 --> ApiController initialized
DEBUG - 2026-02-02 00:50:25 --> ApiController initialized
DEBUG - 2026-02-02 00:50:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:25 --> ApiController initialized
DEBUG - 2026-02-02 00:50:25 --> Groups data: []
DEBUG - 2026-02-02 00:50:25 --> ApiController initialized
DEBUG - 2026-02-02 00:50:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:25 --> ApiController initialized
DEBUG - 2026-02-02 00:50:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:50:55 --> ApiController initialized
DEBUG - 2026-02-02 00:50:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:51:25 --> ApiController initialized
DEBUG - 2026-02-02 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:51:55 --> ApiController initialized
DEBUG - 2026-02-02 00:51:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:52:25 --> ApiController initialized
DEBUG - 2026-02-02 00:52:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:52:56 --> ApiController initialized
DEBUG - 2026-02-02 00:52:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:53:25 --> ApiController initialized
DEBUG - 2026-02-02 00:53:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:53:55 --> ApiController initialized
DEBUG - 2026-02-02 00:53:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:54:56 --> ApiController initialized
DEBUG - 2026-02-02 00:54:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:55:57 --> ApiController initialized
DEBUG - 2026-02-02 00:55:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:56:58 --> ApiController initialized
DEBUG - 2026-02-02 00:56:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:13 --> ApiController initialized
DEBUG - 2026-02-02 00:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:13 --> ApiController initialized
DEBUG - 2026-02-02 00:57:13 --> ApiController initialized
DEBUG - 2026-02-02 00:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:13 --> ApiController initialized
DEBUG - 2026-02-02 00:57:13 --> Groups data: []
DEBUG - 2026-02-02 00:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:13 --> ApiController initialized
DEBUG - 2026-02-02 00:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:13 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:14 --> ApiController initialized
DEBUG - 2026-02-02 00:57:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:15 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> Groups data: []
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:16 --> ApiController initialized
DEBUG - 2026-02-02 00:57:17 --> ApiController initialized
DEBUG - 2026-02-02 00:57:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:17 --> Groups data: []
DEBUG - 2026-02-02 00:57:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:17 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 00:57:17 --> ApiController initialized
DEBUG - 2026-02-02 00:57:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 00:57:17 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 00:57:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 00:57:17"}}
ERROR - 2026-02-02 00:57:17 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 00:57:17 --> Found 104 direct messages
DEBUG - 2026-02-02 00:57:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:40 --> ApiController initialized
DEBUG - 2026-02-02 00:57:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:40 --> ApiController initialized
DEBUG - 2026-02-02 00:57:40 --> ApiController initialized
DEBUG - 2026-02-02 00:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:41 --> Groups data: []
DEBUG - 2026-02-02 00:57:41 --> ApiController initialized
DEBUG - 2026-02-02 00:57:41 --> ApiController initialized
DEBUG - 2026-02-02 00:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:41 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 00:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:57:41 --> ApiController initialized
DEBUG - 2026-02-02 00:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:58:11 --> ApiController initialized
DEBUG - 2026-02-02 00:58:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:58:41 --> ApiController initialized
DEBUG - 2026-02-02 00:58:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:59:11 --> ApiController initialized
DEBUG - 2026-02-02 00:59:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 00:59:41 --> ApiController initialized
DEBUG - 2026-02-02 00:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:00:11 --> ApiController initialized
DEBUG - 2026-02-02 01:00:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:00:41 --> ApiController initialized
DEBUG - 2026-02-02 01:00:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:01:11 --> ApiController initialized
DEBUG - 2026-02-02 01:01:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:02:12 --> ApiController initialized
DEBUG - 2026-02-02 01:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:03:15 --> ApiController initialized
DEBUG - 2026-02-02 01:03:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:04:15 --> ApiController initialized
DEBUG - 2026-02-02 01:04:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:05:10 --> ApiController initialized
DEBUG - 2026-02-02 01:05:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:05:41 --> ApiController initialized
DEBUG - 2026-02-02 01:05:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:06:11 --> ApiController initialized
DEBUG - 2026-02-02 01:06:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:07:12 --> ApiController initialized
DEBUG - 2026-02-02 01:07:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:08:13 --> ApiController initialized
DEBUG - 2026-02-02 01:08:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:09:20 --> ApiController initialized
DEBUG - 2026-02-02 01:09:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:09:56 --> ApiController initialized
DEBUG - 2026-02-02 01:09:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:10:11 --> ApiController initialized
DEBUG - 2026-02-02 01:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:10:41 --> ApiController initialized
DEBUG - 2026-02-02 01:10:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:11 --> ApiController initialized
DEBUG - 2026-02-02 01:11:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:31 --> ApiController initialized
DEBUG - 2026-02-02 01:11:31 --> ApiController initialized
DEBUG - 2026-02-02 01:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:31 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:31 --> ApiController initialized
DEBUG - 2026-02-02 01:11:31 --> ApiController initialized
DEBUG - 2026-02-02 01:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:31 --> ApiController initialized
DEBUG - 2026-02-02 01:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:31 --> Groups data: []
DEBUG - 2026-02-02 01:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:32 --> ApiController initialized
DEBUG - 2026-02-02 01:11:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> Groups data: []
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:08:19","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 00:08:34","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:34 --> ApiController initialized
DEBUG - 2026-02-02 01:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:35 --> Groups data: []
DEBUG - 2026-02-02 01:11:35 --> ApiController initialized
DEBUG - 2026-02-02 01:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:35 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:11:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:11:35 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:11:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:11:35"}}
ERROR - 2026-02-02 01:11:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:11:35 --> Found 104 direct messages
DEBUG - 2026-02-02 01:11:35 --> ApiController initialized
DEBUG - 2026-02-02 01:11:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:50 --> TSR Dashboard: User ID: 5, Role: tsr
DEBUG - 2026-02-02 01:11:50 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 01:11:50 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 01:11:50 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 01:11:50 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 01:11:50 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 01:11:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> ApiController initialized
DEBUG - 2026-02-02 01:11:55 --> ApiController initialized
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> Groups data: []
DEBUG - 2026-02-02 01:11:55 --> ApiController initialized
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> ApiController initialized
DEBUG - 2026-02-02 01:11:55 --> ApiController initialized
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:11:55 --> ApiController initialized
DEBUG - 2026-02-02 01:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:03 --> ApiController initialized
DEBUG - 2026-02-02 01:12:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:04 --> ApiController initialized
DEBUG - 2026-02-02 01:12:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> Groups data: []
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> Getting direct messages between user 1 and 5
DEBUG - 2026-02-02 01:12:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
OR    (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:12:08 --> Marked messages from user 5 to 1 as read
DEBUG - 2026-02-02 01:12:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"5","is_group":false,"timestamp":"2026-02-02 01:12:08"}}
ERROR - 2026-02-02 01:12:08 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:12:08 --> Found 0 direct messages
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> ApiController initialized
DEBUG - 2026-02-02 01:12:08 --> Groups data: []
DEBUG - 2026-02-02 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:25 --> ApiController initialized
DEBUG - 2026-02-02 01:12:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Groups data: []
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:12:29 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:12:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:12:29"}}
ERROR - 2026-02-02 01:12:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:12:29 --> Found 104 direct messages
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> ApiController initialized
DEBUG - 2026-02-02 01:12:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"104","sender_id":"1","receiver_id":"3","group_id":null,"content":"File: cropped.png","type":"image","file_url":"cropped.png","is_group":"0","created_at":"2026-01-31 10:37:03","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:29 --> Groups data: []
DEBUG - 2026-02-02 01:12:35 --> ApiController initialized
DEBUG - 2026-02-02 01:12:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:35 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryN3xBJedXLPweuId3
DEBUG - 2026-02-02 01:12:35 --> Processing form data
DEBUG - 2026-02-02 01:12:35 --> POST data: {"content":"try","is_group":"0","receiver_id":"3","type":"text"}
DEBUG - 2026-02-02 01:12:35 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 01:12:35 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 01:12:35 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 09:12:35","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-02-02 01:12:35 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 01:12:35 --> Message saved successfully with ID: 105
DEBUG - 2026-02-02 01:12:35 --> Sending message to socket server: {"event":"new_message","data":{"id":105,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 01:12:35","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 01:12:35 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:12:35 --> ApiController initialized
DEBUG - 2026-02-02 01:12:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Groups data: []
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:12:38 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:12:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:12:38"}}
ERROR - 2026-02-02 01:12:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:12:38 --> Found 0 direct messages
DEBUG - 2026-02-02 01:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:38 --> ApiController initialized
DEBUG - 2026-02-02 01:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:39 --> ApiController initialized
DEBUG - 2026-02-02 01:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:39 --> Groups data: []
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> Groups data: []
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:41 --> ApiController initialized
DEBUG - 2026-02-02 01:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:42 --> Getting direct messages between user 5 and 3
DEBUG - 2026-02-02 01:12:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:12:42 --> Marked messages from user 3 to 5 as read
DEBUG - 2026-02-02 01:12:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:12:42"}}
ERROR - 2026-02-02 01:12:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:12:42 --> Found 0 direct messages
DEBUG - 2026-02-02 01:12:42 --> ApiController initialized
DEBUG - 2026-02-02 01:12:42 --> ApiController initialized
DEBUG - 2026-02-02 01:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:42 --> ApiController initialized
DEBUG - 2026-02-02 01:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:42 --> Groups data: []
DEBUG - 2026-02-02 01:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Groups data: []
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:12:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:12:44 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:12:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:12:44"}}
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
ERROR - 2026-02-02 01:12:44 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:12:44 --> Found 0 direct messages
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> ApiController initialized
DEBUG - 2026-02-02 01:12:44 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:44 --> Groups data: []
DEBUG - 2026-02-02 01:12:59 --> ApiController initialized
DEBUG - 2026-02-02 01:12:59 --> ApiController initialized
DEBUG - 2026-02-02 01:12:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:59 --> ApiController initialized
DEBUG - 2026-02-02 01:12:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:12:59 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:12:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:12:59 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:12:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:12:59"}}
ERROR - 2026-02-02 01:13:01 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2237 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:01 --> Found 105 direct messages
DEBUG - 2026-02-02 01:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:03 --> ApiController initialized
DEBUG - 2026-02-02 01:13:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:03 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:13:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:04 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:13:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:13:04"}}
ERROR - 2026-02-02 01:13:06 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:06 --> Found 0 direct messages
DEBUG - 2026-02-02 01:13:09 --> ApiController initialized
DEBUG - 2026-02-02 01:13:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:09 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:13:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:09 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:13:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:09"}}
ERROR - 2026-02-02 01:13:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:13:11 --> Found 105 direct messages
DEBUG - 2026-02-02 01:13:13 --> ApiController initialized
DEBUG - 2026-02-02 01:13:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:13 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:13:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:13 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:13:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:13:13"}}
ERROR - 2026-02-02 01:13:13 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:13:13 --> Found 0 direct messages
DEBUG - 2026-02-02 01:13:14 --> ApiController initialized
DEBUG - 2026-02-02 01:13:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:14 --> ApiController initialized
DEBUG - 2026-02-02 01:13:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:14 --> ApiController initialized
DEBUG - 2026-02-02 01:13:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:14 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:13:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:14 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:13:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:14"}}
ERROR - 2026-02-02 01:13:14 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:13:14 --> Found 105 direct messages
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> ApiController initialized
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:18 --> Groups data: []
DEBUG - 2026-02-02 01:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:19 --> Getting direct messages between user 5 and 3
DEBUG - 2026-02-02 01:13:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:19 --> Marked messages from user 3 to 5 as read
DEBUG - 2026-02-02 01:13:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:19"}}
ERROR - 2026-02-02 01:13:19 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:13:19 --> Found 0 direct messages
DEBUG - 2026-02-02 01:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:19 --> ApiController initialized
DEBUG - 2026-02-02 01:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:19 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:13:19 --> ApiController initialized
DEBUG - 2026-02-02 01:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:19 --> ApiController initialized
DEBUG - 2026-02-02 01:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:19 --> Groups data: []
DEBUG - 2026-02-02 01:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> Groups data: []
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:13:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:21 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:13:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:13:21"}}
ERROR - 2026-02-02 01:13:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:13:21 --> Found 0 direct messages
DEBUG - 2026-02-02 01:13:21 --> ApiController initialized
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:21 --> Groups data: []
DEBUG - 2026-02-02 01:13:23 --> ApiController initialized
DEBUG - 2026-02-02 01:13:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:23 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary9PIB5oqdshNmlkYF
DEBUG - 2026-02-02 01:13:23 --> Processing form data
DEBUG - 2026-02-02 01:13:23 --> POST data: {"content":"gsdgsd","is_group":"0","receiver_id":"1","type":"text"}
DEBUG - 2026-02-02 01:13:23 --> Processed message data: {"sender_id":"5","content":"gsdgsd","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 01:13:23 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 01:13:23 --> Inserting message data: {"sender_id":"5","content":"gsdgsd","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 09:13:23","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-02-02 01:13:23 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 01:13:23 --> Message saved successfully with ID: 106
DEBUG - 2026-02-02 01:13:23 --> Sending message to socket server: {"event":"new_message","data":{"id":106,"sender_id":"5","receiver_id":"1","group_id":null,"is_group":0,"content":"gsdgsd","type":"text","file_url":null,"created_at":"2026-02-02 01:13:23","username":"test3","nickname":"Christian Gutierrez","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 01:13:23 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:13:23 --> ApiController initialized
DEBUG - 2026-02-02 01:13:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:29 --> ApiController initialized
DEBUG - 2026-02-02 01:13:29 --> ApiController initialized
DEBUG - 2026-02-02 01:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:29 --> ApiController initialized
DEBUG - 2026-02-02 01:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:29 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:13:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:29 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:13:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:29"}}
DEBUG - 2026-02-02 01:13:30 --> ApiController initialized
DEBUG - 2026-02-02 01:13:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:30 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:13:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:31 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:13:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:13:31"}}
ERROR - 2026-02-02 01:13:31 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:31 --> Found 105 direct messages
DEBUG - 2026-02-02 01:13:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 01:13:33 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:33 --> Found 1 direct messages
DEBUG - 2026-02-02 01:13:40 --> ApiController initialized
DEBUG - 2026-02-02 01:13:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:40 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:13:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:40 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:13:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:40"}}
DEBUG - 2026-02-02 01:13:41 --> ApiController initialized
DEBUG - 2026-02-02 01:13:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:41 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:13:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:41 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:13:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:13:41"}}
ERROR - 2026-02-02 01:13:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:42 --> Found 105 direct messages
ERROR - 2026-02-02 01:13:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:43 --> Found 1 direct messages
DEBUG - 2026-02-02 01:13:50 --> ApiController initialized
DEBUG - 2026-02-02 01:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:50 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:13:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:50 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:13:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:50"}}
DEBUG - 2026-02-02 01:13:51 --> ApiController initialized
DEBUG - 2026-02-02 01:13:51 --> ApiController initialized
DEBUG - 2026-02-02 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:51 --> ApiController initialized
DEBUG - 2026-02-02 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:51 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:13:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:51 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:13:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:13:51"}}
ERROR - 2026-02-02 01:13:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:52 --> Found 105 direct messages
ERROR - 2026-02-02 01:13:53 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2228 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:13:53 --> Found 1 direct messages
DEBUG - 2026-02-02 01:13:59 --> ApiController initialized
DEBUG - 2026-02-02 01:13:59 --> ApiController initialized
DEBUG - 2026-02-02 01:13:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:13:59 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:13:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:13:59 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:13:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:13:59"}}
DEBUG - 2026-02-02 01:13:59 --> ApiController initialized
DEBUG - 2026-02-02 01:14:01 --> ApiController initialized
DEBUG - 2026-02-02 01:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:01 --> Getting direct messages between user 5 and 1
DEBUG - 2026-02-02 01:14:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:14:01 --> Marked messages from user 1 to 5 as read
DEBUG - 2026-02-02 01:14:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"5","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:14:01"}}
ERROR - 2026-02-02 01:14:01 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2226 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:01 --> Found 105 direct messages
DEBUG - 2026-02-02 01:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 01:14:03 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2233 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:03 --> Found 1 direct messages
DEBUG - 2026-02-02 01:14:10 --> ApiController initialized
DEBUG - 2026-02-02 01:14:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:10 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:14:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:14:10 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:14:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:14:10"}}
ERROR - 2026-02-02 01:14:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:12 --> Found 105 direct messages
DEBUG - 2026-02-02 01:14:20 --> ApiController initialized
DEBUG - 2026-02-02 01:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:20 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:14:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:14:20 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:14:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:14:20"}}
ERROR - 2026-02-02 01:14:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:22 --> Found 105 direct messages
DEBUG - 2026-02-02 01:14:30 --> ApiController initialized
DEBUG - 2026-02-02 01:14:30 --> ApiController initialized
DEBUG - 2026-02-02 01:14:30 --> ApiController initialized
DEBUG - 2026-02-02 01:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:30 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:14:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:14:30 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:14:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:14:30"}}
DEBUG - 2026-02-02 01:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 01:14:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:32 --> Found 105 direct messages
DEBUG - 2026-02-02 01:14:40 --> ApiController initialized
DEBUG - 2026-02-02 01:14:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:40 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:14:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:14:40 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:14:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:14:40"}}
ERROR - 2026-02-02 01:14:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2224 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:42 --> Found 105 direct messages
DEBUG - 2026-02-02 01:14:50 --> ApiController initialized
DEBUG - 2026-02-02 01:14:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:14:50 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:14:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:14:50 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:14:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:14:50"}}
ERROR - 2026-02-02 01:14:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:14:52 --> Found 105 direct messages
DEBUG - 2026-02-02 01:15:00 --> ApiController initialized
DEBUG - 2026-02-02 01:15:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:15:00 --> ApiController initialized
DEBUG - 2026-02-02 01:15:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:15:19 --> ApiController initialized
DEBUG - 2026-02-02 01:15:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:15:19 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:15:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:15:19 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:15:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:15:19"}}
ERROR - 2026-02-02 01:15:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:15:21 --> Found 105 direct messages
DEBUG - 2026-02-02 01:15:30 --> ApiController initialized
DEBUG - 2026-02-02 01:15:30 --> ApiController initialized
DEBUG - 2026-02-02 01:15:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:15:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:15 --> ApiController initialized
DEBUG - 2026-02-02 01:16:15 --> ApiController initialized
DEBUG - 2026-02-02 01:16:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:15 --> ApiController initialized
DEBUG - 2026-02-02 01:16:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:15 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:16:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:16:15 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:16:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:16:15"}}
ERROR - 2026-02-02 01:16:17 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:16:17 --> Found 105 direct messages
DEBUG - 2026-02-02 01:16:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:20 --> ApiController initialized
DEBUG - 2026-02-02 01:16:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:20 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:16:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:16:20 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:16:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:16:20"}}
ERROR - 2026-02-02 01:16:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:16:22 --> Found 105 direct messages
DEBUG - 2026-02-02 01:16:30 --> ApiController initialized
DEBUG - 2026-02-02 01:16:30 --> ApiController initialized
DEBUG - 2026-02-02 01:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:30 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:16:30 --> ApiController initialized
DEBUG - 2026-02-02 01:16:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:16:30 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:16:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:16:30"}}
ERROR - 2026-02-02 01:16:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2236 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:16:32 --> Found 105 direct messages
DEBUG - 2026-02-02 01:16:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Groups data: []
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> Groups data: []
DEBUG - 2026-02-02 01:16:39 --> ApiController initialized
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:49 --> ApiController initialized
DEBUG - 2026-02-02 01:16:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:49 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:16:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:16:49 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:16:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:16:49"}}
ERROR - 2026-02-02 01:16:51 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:16:51 --> Found 105 direct messages
DEBUG - 2026-02-02 01:16:59 --> ApiController initialized
DEBUG - 2026-02-02 01:16:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:16:59 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:16:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:16:59 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:16:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:16:59"}}
ERROR - 2026-02-02 01:17:01 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:17:01 --> Found 105 direct messages
DEBUG - 2026-02-02 01:17:09 --> ApiController initialized
DEBUG - 2026-02-02 01:17:09 --> ApiController initialized
DEBUG - 2026-02-02 01:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:09 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:17:09 --> ApiController initialized
DEBUG - 2026-02-02 01:17:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:17:09 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:17:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:17:09"}}
ERROR - 2026-02-02 01:17:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:17:11 --> Found 105 direct messages
DEBUG - 2026-02-02 01:17:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:19 --> ApiController initialized
DEBUG - 2026-02-02 01:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:19 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:17:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:17:19 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:17:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:17:19"}}
ERROR - 2026-02-02 01:17:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:17:21 --> Found 105 direct messages
DEBUG - 2026-02-02 01:17:29 --> ApiController initialized
DEBUG - 2026-02-02 01:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:29 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:17:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:17:29 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:17:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:17:29"}}
ERROR - 2026-02-02 01:17:31 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:17:31 --> Found 105 direct messages
DEBUG - 2026-02-02 01:17:39 --> ApiController initialized
DEBUG - 2026-02-02 01:17:39 --> ApiController initialized
DEBUG - 2026-02-02 01:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:39 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:17:39 --> ApiController initialized
DEBUG - 2026-02-02 01:17:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:17:39 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:17:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:17:39"}}
ERROR - 2026-02-02 01:17:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:17:39 --> Found 105 direct messages
DEBUG - 2026-02-02 01:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:40 --> ApiController initialized
DEBUG - 2026-02-02 01:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:17:40 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:17:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:17:40 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:17:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:17:40"}}
ERROR - 2026-02-02 01:17:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:17:40 --> Found 105 direct messages
DEBUG - 2026-02-02 01:18:09 --> ApiController initialized
DEBUG - 2026-02-02 01:18:09 --> ApiController initialized
DEBUG - 2026-02-02 01:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:18:39 --> ApiController initialized
DEBUG - 2026-02-02 01:18:39 --> ApiController initialized
DEBUG - 2026-02-02 01:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:19:09 --> ApiController initialized
DEBUG - 2026-02-02 01:19:09 --> ApiController initialized
DEBUG - 2026-02-02 01:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:19:39 --> ApiController initialized
DEBUG - 2026-02-02 01:19:39 --> ApiController initialized
DEBUG - 2026-02-02 01:19:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:19:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:20:09 --> ApiController initialized
DEBUG - 2026-02-02 01:20:09 --> ApiController initialized
DEBUG - 2026-02-02 01:20:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:20:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:20:40 --> ApiController initialized
DEBUG - 2026-02-02 01:20:40 --> ApiController initialized
DEBUG - 2026-02-02 01:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:21:09 --> ApiController initialized
DEBUG - 2026-02-02 01:21:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:21:09 --> ApiController initialized
DEBUG - 2026-02-02 01:21:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:21:39 --> ApiController initialized
DEBUG - 2026-02-02 01:21:39 --> ApiController initialized
DEBUG - 2026-02-02 01:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:09 --> ApiController initialized
DEBUG - 2026-02-02 01:22:09 --> ApiController initialized
DEBUG - 2026-02-02 01:22:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:39 --> ApiController initialized
DEBUG - 2026-02-02 01:22:39 --> ApiController initialized
DEBUG - 2026-02-02 01:22:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> Groups data: []
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> Groups data: []
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:22:58 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:22:58 --> ApiController initialized
DEBUG - 2026-02-02 01:22:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:22:58 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:22:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:22:58"}}
ERROR - 2026-02-02 01:22:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:22:58 --> Found 105 direct messages
DEBUG - 2026-02-02 01:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:07 --> ApiController initialized
DEBUG - 2026-02-02 01:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:07 --> ApiController initialized
DEBUG - 2026-02-02 01:23:08 --> ApiController initialized
DEBUG - 2026-02-02 01:23:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:08 --> ApiController initialized
DEBUG - 2026-02-02 01:23:08 --> Groups data: []
DEBUG - 2026-02-02 01:23:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:08 --> ApiController initialized
DEBUG - 2026-02-02 01:23:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:23:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:08 --> ApiController initialized
DEBUG - 2026-02-02 01:23:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:23:38 --> ApiController initialized
DEBUG - 2026-02-02 01:23:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:07 --> ApiController initialized
DEBUG - 2026-02-02 01:24:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Groups data: []
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:24:09 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:24:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:24:09"}}
ERROR - 2026-02-02 01:24:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:24:09 --> Found 105 direct messages
DEBUG - 2026-02-02 01:24:09 --> ApiController initialized
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:09 --> Groups data: []
DEBUG - 2026-02-02 01:24:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:13 --> ApiController initialized
DEBUG - 2026-02-02 01:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:13 --> ApiController initialized
DEBUG - 2026-02-02 01:24:13 --> ApiController initialized
DEBUG - 2026-02-02 01:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:13 --> ApiController initialized
DEBUG - 2026-02-02 01:24:13 --> Groups data: []
DEBUG - 2026-02-02 01:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:13 --> ApiController initialized
DEBUG - 2026-02-02 01:24:13 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:13 --> ApiController initialized
DEBUG - 2026-02-02 01:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:24:43 --> ApiController initialized
DEBUG - 2026-02-02 01:24:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:25:13 --> ApiController initialized
DEBUG - 2026-02-02 01:25:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:25:43 --> ApiController initialized
DEBUG - 2026-02-02 01:25:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:26:13 --> ApiController initialized
DEBUG - 2026-02-02 01:26:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:26:43 --> ApiController initialized
DEBUG - 2026-02-02 01:26:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:27:13 --> ApiController initialized
DEBUG - 2026-02-02 01:27:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:27:43 --> ApiController initialized
DEBUG - 2026-02-02 01:27:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:28:19 --> ApiController initialized
DEBUG - 2026-02-02 01:28:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:29:19 --> ApiController initialized
DEBUG - 2026-02-02 01:29:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:30:19 --> ApiController initialized
DEBUG - 2026-02-02 01:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:31:19 --> ApiController initialized
DEBUG - 2026-02-02 01:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:32:19 --> ApiController initialized
DEBUG - 2026-02-02 01:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:33:19 --> ApiController initialized
DEBUG - 2026-02-02 01:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:19 --> ApiController initialized
DEBUG - 2026-02-02 01:34:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Groups data: []
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Getting direct messages between user 1 and 5
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
OR    (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:34:28 --> Marked messages from user 5 to 1 as read
DEBUG - 2026-02-02 01:34:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"106","user_id":"1","other_user_id":"5","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 01:34:28"}}
ERROR - 2026-02-02 01:34:28 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:34:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"5","is_group":false,"timestamp":"2026-02-02 01:34:28"}}
ERROR - 2026-02-02 01:34:28 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:34:28 --> Found 1 direct messages
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:34:28 --> ApiController initialized
DEBUG - 2026-02-02 01:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:29 --> Groups data: []
DEBUG - 2026-02-02 01:34:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:29 --> ApiController initialized
DEBUG - 2026-02-02 01:34:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:29 --> Marking message 106 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 01:34:29 --> Updated is_read column for message 106
DEBUG - 2026-02-02 01:34:29 --> Updated existing message status for message 106
DEBUG - 2026-02-02 01:34:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"106","user_id":"1","other_user_id":5,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 01:34:29"}}
ERROR - 2026-02-02 01:34:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:34:29 --> Found 1 users who have seen message 106
DEBUG - 2026-02-02 01:34:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Groups data: []
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:34:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:34:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:34:32"}}
ERROR - 2026-02-02 01:34:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:34:32 --> Found 0 direct messages
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> ApiController initialized
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:32 --> Groups data: []
DEBUG - 2026-02-02 01:34:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Groups data: []
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:34:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:34:34 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:34:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:34:34"}}
ERROR - 2026-02-02 01:34:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:34:34 --> Found 105 direct messages
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> Groups data: []
DEBUG - 2026-02-02 01:34:34 --> ApiController initialized
DEBUG - 2026-02-02 01:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:34:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:35:04 --> ApiController initialized
DEBUG - 2026-02-02 01:35:04 --> ApiController initialized
DEBUG - 2026-02-02 01:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:35:34 --> ApiController initialized
DEBUG - 2026-02-02 01:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:35:34 --> ApiController initialized
DEBUG - 2026-02-02 01:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:36:04 --> ApiController initialized
DEBUG - 2026-02-02 01:36:04 --> ApiController initialized
DEBUG - 2026-02-02 01:36:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:36:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:36:34 --> ApiController initialized
DEBUG - 2026-02-02 01:36:34 --> ApiController initialized
DEBUG - 2026-02-02 01:36:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:36:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:37:04 --> ApiController initialized
DEBUG - 2026-02-02 01:37:04 --> ApiController initialized
DEBUG - 2026-02-02 01:37:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:37:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:37:34 --> ApiController initialized
DEBUG - 2026-02-02 01:37:34 --> ApiController initialized
DEBUG - 2026-02-02 01:37:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:37:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:38:19 --> ApiController initialized
DEBUG - 2026-02-02 01:38:19 --> ApiController initialized
DEBUG - 2026-02-02 01:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:39:19 --> ApiController initialized
DEBUG - 2026-02-02 01:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:39:19 --> ApiController initialized
DEBUG - 2026-02-02 01:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:40:19 --> ApiController initialized
DEBUG - 2026-02-02 01:40:19 --> ApiController initialized
DEBUG - 2026-02-02 01:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:19 --> ApiController initialized
DEBUG - 2026-02-02 01:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:19 --> ApiController initialized
DEBUG - 2026-02-02 01:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:38 --> ApiController initialized
DEBUG - 2026-02-02 01:41:38 --> ApiController initialized
DEBUG - 2026-02-02 01:41:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:39 --> ApiController initialized
DEBUG - 2026-02-02 01:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:39 --> ApiController initialized
DEBUG - 2026-02-02 01:41:39 --> ApiController initialized
DEBUG - 2026-02-02 01:41:39 --> ApiController initialized
DEBUG - 2026-02-02 01:41:39 --> ApiController initialized
DEBUG - 2026-02-02 01:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> Groups data: []
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> ApiController initialized
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> ApiController initialized
DEBUG - 2026-02-02 01:41:40 --> ApiController initialized
DEBUG - 2026-02-02 01:41:40 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:41:40 --> ApiController initialized
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> Groups data: []
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> ApiController initialized
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:40 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:41:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:41:40 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:41:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:41:40"}}
DEBUG - 2026-02-02 01:41:40 --> ApiController initialized
ERROR - 2026-02-02 01:41:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:41:40 --> Found 105 direct messages
DEBUG - 2026-02-02 01:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:43 --> ApiController initialized
DEBUG - 2026-02-02 01:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:43 --> Marking message 91 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 01:41:43 --> Updated is_read column for message 91
DEBUG - 2026-02-02 01:41:43 --> Updated existing message status for message 91
DEBUG - 2026-02-02 01:41:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"91","user_id":"1","other_user_id":3,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 01:41:43"}}
ERROR - 2026-02-02 01:41:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:41:43 --> Found 1 users who have seen message 91
DEBUG - 2026-02-02 01:41:43 --> ApiController initialized
DEBUG - 2026-02-02 01:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:43 --> Marking message 89 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 01:41:43 --> Updated is_read column for message 89
DEBUG - 2026-02-02 01:41:43 --> Updated existing message status for message 89
DEBUG - 2026-02-02 01:41:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"89","user_id":"1","other_user_id":3,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 01:41:43"}}
ERROR - 2026-02-02 01:41:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:41:43 --> Found 1 users who have seen message 89
DEBUG - 2026-02-02 01:41:44 --> ApiController initialized
DEBUG - 2026-02-02 01:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:44 --> Marking message 88 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 01:41:44 --> Updated is_read column for message 88
DEBUG - 2026-02-02 01:41:44 --> Updated existing message status for message 88
DEBUG - 2026-02-02 01:41:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"88","user_id":"1","other_user_id":3,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 01:41:44"}}
ERROR - 2026-02-02 01:41:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:41:44 --> Found 1 users who have seen message 88
DEBUG - 2026-02-02 01:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:58 --> ApiController initialized
DEBUG - 2026-02-02 01:41:58 --> ApiController initialized
DEBUG - 2026-02-02 01:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:58 --> Groups data: []
DEBUG - 2026-02-02 01:41:58 --> ApiController initialized
DEBUG - 2026-02-02 01:41:58 --> ApiController initialized
DEBUG - 2026-02-02 01:41:58 --> ApiController initialized
DEBUG - 2026-02-02 01:41:58 --> ApiController initialized
DEBUG - 2026-02-02 01:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> ApiController initialized
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> ApiController initialized
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:41:59 --> ApiController initialized
DEBUG - 2026-02-02 01:41:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:41:59 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:41:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:41:59"}}
ERROR - 2026-02-02 01:41:59 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:41:59 --> Found 0 direct messages
DEBUG - 2026-02-02 01:41:59 --> ApiController initialized
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> ApiController initialized
DEBUG - 2026-02-02 01:41:59 --> Groups data: []
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:41:59 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> Groups data: []
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:03 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:42:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:42:03 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:42:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:42:03"}}
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
ERROR - 2026-02-02 01:42:03 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:42:03 --> Found 105 direct messages
DEBUG - 2026-02-02 01:42:03 --> ApiController initialized
DEBUG - 2026-02-02 01:42:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:42:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:04 --> ApiController initialized
DEBUG - 2026-02-02 01:42:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:04 --> Groups data: []
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Groups data: []
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:13 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:42:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:42:13 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:42:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:42:13"}}
ERROR - 2026-02-02 01:42:13 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:42:13 --> Found 105 direct messages
DEBUG - 2026-02-02 01:42:13 --> ApiController initialized
DEBUG - 2026-02-02 01:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:14 --> Groups data: []
DEBUG - 2026-02-02 01:42:14 --> ApiController initialized
DEBUG - 2026-02-02 01:42:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:14 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:18 --> Groups data: []
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:18 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:42:18 --> ApiController initialized
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:19 --> ApiController initialized
DEBUG - 2026-02-02 01:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:42:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:42:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:42:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:42:19"}}
DEBUG - 2026-02-02 01:42:19 --> ApiController initialized
ERROR - 2026-02-02 01:42:19 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:42:19 --> Found 0 direct messages
DEBUG - 2026-02-02 01:42:19 --> ApiController initialized
DEBUG - 2026-02-02 01:42:19 --> ApiController initialized
DEBUG - 2026-02-02 01:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:19 --> Groups data: []
DEBUG - 2026-02-02 01:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:19 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:48 --> ApiController initialized
DEBUG - 2026-02-02 01:42:48 --> ApiController initialized
DEBUG - 2026-02-02 01:42:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:42:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:18 --> ApiController initialized
DEBUG - 2026-02-02 01:43:18 --> ApiController initialized
DEBUG - 2026-02-02 01:43:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:48 --> ApiController initialized
DEBUG - 2026-02-02 01:43:48 --> ApiController initialized
DEBUG - 2026-02-02 01:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> Groups data: []
DEBUG - 2026-02-02 01:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:53 --> ApiController initialized
DEBUG - 2026-02-02 01:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:54 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:43:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:43:54 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:43:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:43:54"}}
ERROR - 2026-02-02 01:43:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:43:54 --> Found 105 direct messages
DEBUG - 2026-02-02 01:43:54 --> ApiController initialized
DEBUG - 2026-02-02 01:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:54 --> ApiController initialized
DEBUG - 2026-02-02 01:43:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:43:54 --> Groups data: []
DEBUG - 2026-02-02 01:43:54 --> ApiController initialized
DEBUG - 2026-02-02 01:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:44:24 --> ApiController initialized
DEBUG - 2026-02-02 01:44:24 --> ApiController initialized
DEBUG - 2026-02-02 01:44:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:44:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:44:54 --> ApiController initialized
DEBUG - 2026-02-02 01:44:54 --> ApiController initialized
DEBUG - 2026-02-02 01:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:24 --> ApiController initialized
DEBUG - 2026-02-02 01:45:24 --> ApiController initialized
DEBUG - 2026-02-02 01:45:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> Groups data: []
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 00:06:09","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 00:08:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> Groups data: []
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:45:49 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:45:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:45:49 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:45:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:45:49"}}
ERROR - 2026-02-02 01:45:49 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:45:49 --> Found 105 direct messages
DEBUG - 2026-02-02 01:45:49 --> ApiController initialized
DEBUG - 2026-02-02 01:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:46:19 --> ApiController initialized
DEBUG - 2026-02-02 01:46:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:46:19 --> ApiController initialized
DEBUG - 2026-02-02 01:46:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:46:48 --> ApiController initialized
DEBUG - 2026-02-02 01:46:48 --> ApiController initialized
DEBUG - 2026-02-02 01:46:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:46:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:06 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 01:47:06 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 01:47:06 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 01:47:06 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 01:47:06 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 01:47:06 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 01:47:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> ApiController initialized
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> ApiController initialized
DEBUG - 2026-02-02 01:47:11 --> ApiController initialized
DEBUG - 2026-02-02 01:47:11 --> ApiController initialized
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> ApiController initialized
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> Groups data: []
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:11 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:11 --> ApiController initialized
DEBUG - 2026-02-02 01:47:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Groups data: []
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:47:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:47:17 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:47:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:47:17"}}
ERROR - 2026-02-02 01:47:17 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:47:17 --> Found 0 direct messages
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Groups data: []
DEBUG - 2026-02-02 01:47:17 --> ApiController initialized
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:17 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> Groups data: []
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:47:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:47:27 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:47:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:47:27"}}
ERROR - 2026-02-02 01:47:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:47:27 --> Found 0 direct messages
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> ApiController initialized
DEBUG - 2026-02-02 01:47:27 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:27 --> Groups data: []
DEBUG - 2026-02-02 01:47:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:46 --> ApiController initialized
DEBUG - 2026-02-02 01:47:46 --> ApiController initialized
DEBUG - 2026-02-02 01:47:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:51 --> ApiController initialized
DEBUG - 2026-02-02 01:47:51 --> ApiController initialized
DEBUG - 2026-02-02 01:47:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Groups data: []
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:47:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:47:52 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:47:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:47:52"}}
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
ERROR - 2026-02-02 01:47:52 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:47:52 --> Found 0 direct messages
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> ApiController initialized
DEBUG - 2026-02-02 01:47:52 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:52 --> Groups data: []
DEBUG - 2026-02-02 01:47:57 --> ApiController initialized
DEBUG - 2026-02-02 01:47:57 --> ApiController initialized
DEBUG - 2026-02-02 01:47:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:47:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:48:22 --> ApiController initialized
DEBUG - 2026-02-02 01:48:22 --> ApiController initialized
DEBUG - 2026-02-02 01:48:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:48:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:48:52 --> ApiController initialized
DEBUG - 2026-02-02 01:48:52 --> ApiController initialized
DEBUG - 2026-02-02 01:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> Groups data: []
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:13 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:49:13 --> ApiController initialized
DEBUG - 2026-02-02 01:49:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:49:13 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:49:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:49:13"}}
ERROR - 2026-02-02 01:49:13 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:49:13 --> Found 105 direct messages
DEBUG - 2026-02-02 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:14 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-01-31 06:41:14","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-31 06:41:14","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:49:14 --> ApiController initialized
DEBUG - 2026-02-02 01:49:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:14 --> Groups data: []
DEBUG - 2026-02-02 01:49:14 --> ApiController initialized
DEBUG - 2026-02-02 01:49:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:43 --> ApiController initialized
DEBUG - 2026-02-02 01:49:43 --> ApiController initialized
DEBUG - 2026-02-02 01:49:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:49:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:13 --> ApiController initialized
DEBUG - 2026-02-02 01:50:13 --> ApiController initialized
DEBUG - 2026-02-02 01:50:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:31 --> ApiController initialized
DEBUG - 2026-02-02 01:50:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:31 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Groups data: []
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:26","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:50:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:50:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:50:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:50:32"}}
ERROR - 2026-02-02 01:50:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:50:32 --> Found 0 direct messages
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> Groups data: []
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> ApiController initialized
DEBUG - 2026-02-02 01:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:26","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:47:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:47:06","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:42 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 01:50:42 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 01:50:42 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 01:50:42 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 01:50:42 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 01:50:42 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 01:50:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:46 --> ApiController initialized
DEBUG - 2026-02-02 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:46 --> Groups data: []
DEBUG - 2026-02-02 01:50:46 --> ApiController initialized
DEBUG - 2026-02-02 01:50:46 --> ApiController initialized
DEBUG - 2026-02-02 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:46 --> ApiController initialized
DEBUG - 2026-02-02 01:50:46 --> ApiController initialized
DEBUG - 2026-02-02 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:46 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:47 --> ApiController initialized
DEBUG - 2026-02-02 01:50:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:48 --> ApiController initialized
DEBUG - 2026-02-02 01:50:49 --> ApiController initialized
DEBUG - 2026-02-02 01:50:49 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> ApiController initialized
DEBUG - 2026-02-02 01:50:49 --> Groups data: []
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:50:49 --> ApiController initialized
DEBUG - 2026-02-02 01:50:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:50:49 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:50:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:50:49"}}
ERROR - 2026-02-02 01:50:49 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:50:49 --> Found 0 direct messages
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:50:49 --> ApiController initialized
DEBUG - 2026-02-02 01:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:50:49 --> Groups data: []
DEBUG - 2026-02-02 01:51:16 --> ApiController initialized
DEBUG - 2026-02-02 01:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:17 --> ApiController initialized
DEBUG - 2026-02-02 01:51:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:17 --> ApiController initialized
DEBUG - 2026-02-02 01:51:17 --> ApiController initialized
DEBUG - 2026-02-02 01:51:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Groups data: []
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:51:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:51:18 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:51:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:51:18"}}
ERROR - 2026-02-02 01:51:18 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:51:18 --> Found 0 direct messages
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Groups data: []
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> ApiController initialized
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:47 --> ApiController initialized
DEBUG - 2026-02-02 01:51:47 --> ApiController initialized
DEBUG - 2026-02-02 01:51:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:49 --> ApiController initialized
DEBUG - 2026-02-02 01:51:49 --> ApiController initialized
DEBUG - 2026-02-02 01:51:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:51:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:17 --> ApiController initialized
DEBUG - 2026-02-02 01:52:17 --> ApiController initialized
DEBUG - 2026-02-02 01:52:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:19 --> ApiController initialized
DEBUG - 2026-02-02 01:52:19 --> ApiController initialized
DEBUG - 2026-02-02 01:52:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:47 --> ApiController initialized
DEBUG - 2026-02-02 01:52:47 --> ApiController initialized
DEBUG - 2026-02-02 01:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:49 --> ApiController initialized
DEBUG - 2026-02-02 01:52:49 --> ApiController initialized
DEBUG - 2026-02-02 01:52:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:59 --> Groups data: []
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:52:59 --> ApiController initialized
DEBUG - 2026-02-02 01:53:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> Groups data: []
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> ApiController initialized
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> ApiController initialized
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:53:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:53:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:53:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:53:00"}}
ERROR - 2026-02-02 01:53:00 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:53:00 --> Found 0 direct messages
DEBUG - 2026-02-02 01:53:00 --> ApiController initialized
DEBUG - 2026-02-02 01:53:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Groups data: []
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 01:53:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:53:05 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 01:53:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 01:53:05"}}
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
ERROR - 2026-02-02 01:53:05 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:53:05 --> Found 105 direct messages
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Groups data: []
DEBUG - 2026-02-02 01:53:05 --> ApiController initialized
DEBUG - 2026-02-02 01:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:05 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> Groups data: []
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Groups data: []
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:53:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:53:07 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:53:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:53:07"}}
ERROR - 2026-02-02 01:53:07 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:53:07 --> Found 0 direct messages
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> ApiController initialized
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:07 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:18 --> ApiController initialized
DEBUG - 2026-02-02 01:53:18 --> ApiController initialized
DEBUG - 2026-02-02 01:53:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:37 --> ApiController initialized
DEBUG - 2026-02-02 01:53:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:37 --> ApiController initialized
DEBUG - 2026-02-02 01:53:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Groups data: []
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Groups data: []
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:43 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:53:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:53:43 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:53:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:53:43"}}
ERROR - 2026-02-02 01:53:43 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:53:43 --> Found 0 direct messages
DEBUG - 2026-02-02 01:53:43 --> ApiController initialized
DEBUG - 2026-02-02 01:53:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:45 --> ApiController initialized
DEBUG - 2026-02-02 01:53:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:45 --> ApiController initialized
DEBUG - 2026-02-02 01:53:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:45 --> ApiController initialized
DEBUG - 2026-02-02 01:53:45 --> ApiController initialized
DEBUG - 2026-02-02 01:53:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:45 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Groups data: []
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:53:46 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:53:46 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:53:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:53:46"}}
ERROR - 2026-02-02 01:53:46 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:53:46 --> Found 0 direct messages
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> Groups data: []
DEBUG - 2026-02-02 01:53:46 --> ApiController initialized
DEBUG - 2026-02-02 01:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:53:46 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 01:54:07 --> ApiController initialized
DEBUG - 2026-02-02 01:54:07 --> ApiController initialized
DEBUG - 2026-02-02 01:54:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:15 --> ApiController initialized
DEBUG - 2026-02-02 01:54:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:15 --> ApiController initialized
DEBUG - 2026-02-02 01:54:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:37 --> ApiController initialized
DEBUG - 2026-02-02 01:54:37 --> ApiController initialized
DEBUG - 2026-02-02 01:54:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:45 --> ApiController initialized
DEBUG - 2026-02-02 01:54:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:54:45 --> ApiController initialized
DEBUG - 2026-02-02 01:54:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:07 --> ApiController initialized
DEBUG - 2026-02-02 01:55:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:07 --> ApiController initialized
DEBUG - 2026-02-02 01:55:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:15 --> ApiController initialized
DEBUG - 2026-02-02 01:55:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:15 --> ApiController initialized
DEBUG - 2026-02-02 01:55:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:37 --> ApiController initialized
DEBUG - 2026-02-02 01:55:37 --> ApiController initialized
DEBUG - 2026-02-02 01:55:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:45 --> ApiController initialized
DEBUG - 2026-02-02 01:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:55:45 --> ApiController initialized
DEBUG - 2026-02-02 01:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:56:07 --> ApiController initialized
DEBUG - 2026-02-02 01:56:07 --> ApiController initialized
DEBUG - 2026-02-02 01:56:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:56:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:56:15 --> ApiController initialized
DEBUG - 2026-02-02 01:56:15 --> ApiController initialized
DEBUG - 2026-02-02 01:56:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:56:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:56:46 --> ApiController initialized
DEBUG - 2026-02-02 01:56:46 --> ApiController initialized
DEBUG - 2026-02-02 01:56:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:56:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:57:16 --> ApiController initialized
DEBUG - 2026-02-02 01:57:16 --> ApiController initialized
DEBUG - 2026-02-02 01:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:57:19 --> ApiController initialized
DEBUG - 2026-02-02 01:57:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:57:19 --> ApiController initialized
DEBUG - 2026-02-02 01:57:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:19 --> ApiController initialized
DEBUG - 2026-02-02 01:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:58:19 --> ApiController initialized
DEBUG - 2026-02-02 01:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:19 --> ApiController initialized
DEBUG - 2026-02-02 01:58:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:58:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:58:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:58:19"}}
DEBUG - 2026-02-02 01:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:19 --> ApiController initialized
DEBUG - 2026-02-02 01:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:58:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:58:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:58:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:58:19"}}
DEBUG - 2026-02-02 01:58:19 --> ApiController initialized
DEBUG - 2026-02-02 01:58:19 --> ApiController initialized
ERROR - 2026-02-02 01:58:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:58:21 --> Found 0 direct messages
ERROR - 2026-02-02 01:58:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:58:21 --> Found 0 direct messages
DEBUG - 2026-02-02 01:58:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:25 --> ApiController initialized
DEBUG - 2026-02-02 01:58:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:25 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:58:25 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:58:25 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:58:25 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:58:25"}}
ERROR - 2026-02-02 01:58:28 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:58:28 --> Found 0 direct messages
DEBUG - 2026-02-02 01:58:35 --> ApiController initialized
DEBUG - 2026-02-02 01:58:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:35 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:58:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:58:35 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:58:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:58:35"}}
ERROR - 2026-02-02 01:58:38 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:58:38 --> Found 0 direct messages
DEBUG - 2026-02-02 01:58:46 --> ApiController initialized
DEBUG - 2026-02-02 01:58:46 --> ApiController initialized
DEBUG - 2026-02-02 01:58:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:46 --> ApiController initialized
DEBUG - 2026-02-02 01:58:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:46 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:58:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:58:46 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:58:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:58:46"}}
ERROR - 2026-02-02 01:58:48 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:58:48 --> Found 0 direct messages
DEBUG - 2026-02-02 01:58:56 --> ApiController initialized
DEBUG - 2026-02-02 01:58:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:58:56 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:58:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:58:56 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:58:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:58:56"}}
ERROR - 2026-02-02 01:58:58 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:58:58 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:06 --> ApiController initialized
DEBUG - 2026-02-02 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:06 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:59:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:06 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:59:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:59:06"}}
ERROR - 2026-02-02 01:59:08 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:59:08 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:15 --> ApiController initialized
DEBUG - 2026-02-02 01:59:15 --> ApiController initialized
DEBUG - 2026-02-02 01:59:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:15 --> ApiController initialized
DEBUG - 2026-02-02 01:59:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:15 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:59:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:15 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:59:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:59:15"}}
ERROR - 2026-02-02 01:59:18 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:59:18 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:19 --> ApiController initialized
DEBUG - 2026-02-02 01:59:19 --> ApiController initialized
DEBUG - 2026-02-02 01:59:19 --> ApiController initialized
DEBUG - 2026-02-02 01:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 01:59:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 01:59:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 01:59:19"}}
ERROR - 2026-02-02 01:59:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:59:21 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:26 --> ApiController initialized
DEBUG - 2026-02-02 01:59:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:26 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:59:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:26 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:59:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:59:26"}}
ERROR - 2026-02-02 01:59:28 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:59:28 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:36 --> ApiController initialized
DEBUG - 2026-02-02 01:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:59:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:59:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:59:36"}}
ERROR - 2026-02-02 01:59:38 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:59:38 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:46 --> ApiController initialized
DEBUG - 2026-02-02 01:59:46 --> ApiController initialized
DEBUG - 2026-02-02 01:59:46 --> ApiController initialized
DEBUG - 2026-02-02 01:59:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:46 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:59:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:46 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:59:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:59:46"}}
ERROR - 2026-02-02 01:59:48 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 01:59:48 --> Found 0 direct messages
DEBUG - 2026-02-02 01:59:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:56 --> ApiController initialized
DEBUG - 2026-02-02 01:59:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 01:59:56 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 01:59:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 01:59:56 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 01:59:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 01:59:56"}}
ERROR - 2026-02-02 01:59:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 01:59:56 --> Found 0 direct messages
DEBUG - 2026-02-02 02:00:02 --> ApiController initialized
DEBUG - 2026-02-02 02:00:02 --> ApiController initialized
DEBUG - 2026-02-02 02:00:02 --> ApiController initialized
DEBUG - 2026-02-02 02:00:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:02 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:00:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:00:02 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:00:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:00:02"}}
ERROR - 2026-02-02 02:00:02 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:00:02 --> Found 0 direct messages
DEBUG - 2026-02-02 02:00:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Groups data: []
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> Groups data: []
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:04 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:00:04 --> ApiController initialized
DEBUG - 2026-02-02 02:00:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:00:04 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:00:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:00:04"}}
ERROR - 2026-02-02 02:00:04 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:00:04 --> Found 0 direct messages
DEBUG - 2026-02-02 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:06 --> ApiController initialized
DEBUG - 2026-02-02 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:06 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:00:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:00:06 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:00:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:00:06"}}
ERROR - 2026-02-02 02:00:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:00:06 --> Found 0 direct messages
DEBUG - 2026-02-02 02:00:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:08 --> ApiController initialized
DEBUG - 2026-02-02 02:00:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Groups data: []
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Groups data: []
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> ApiController initialized
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:00:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:00:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:00:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:00:09"}}
ERROR - 2026-02-02 02:00:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:00:09 --> Found 0 direct messages
DEBUG - 2026-02-02 02:00:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:34 --> ApiController initialized
DEBUG - 2026-02-02 02:00:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:34 --> ApiController initialized
DEBUG - 2026-02-02 02:00:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:38 --> ApiController initialized
DEBUG - 2026-02-02 02:00:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:00:39 --> ApiController initialized
DEBUG - 2026-02-02 02:00:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:04 --> ApiController initialized
DEBUG - 2026-02-02 02:01:04 --> ApiController initialized
DEBUG - 2026-02-02 02:01:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:08 --> ApiController initialized
DEBUG - 2026-02-02 02:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:08 --> ApiController initialized
DEBUG - 2026-02-02 02:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:34 --> ApiController initialized
DEBUG - 2026-02-02 02:01:34 --> ApiController initialized
DEBUG - 2026-02-02 02:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:38 --> ApiController initialized
DEBUG - 2026-02-02 02:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:01:39 --> ApiController initialized
DEBUG - 2026-02-02 02:01:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:04 --> ApiController initialized
DEBUG - 2026-02-02 02:02:04 --> ApiController initialized
DEBUG - 2026-02-02 02:02:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:08 --> ApiController initialized
DEBUG - 2026-02-02 02:02:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:09 --> ApiController initialized
DEBUG - 2026-02-02 02:02:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:34 --> ApiController initialized
DEBUG - 2026-02-02 02:02:34 --> ApiController initialized
DEBUG - 2026-02-02 02:02:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:38 --> ApiController initialized
DEBUG - 2026-02-02 02:02:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:02:39 --> ApiController initialized
DEBUG - 2026-02-02 02:02:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:04 --> ApiController initialized
DEBUG - 2026-02-02 02:03:04 --> ApiController initialized
DEBUG - 2026-02-02 02:03:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:08 --> ApiController initialized
DEBUG - 2026-02-02 02:03:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:08 --> ApiController initialized
DEBUG - 2026-02-02 02:03:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:34 --> ApiController initialized
DEBUG - 2026-02-02 02:03:34 --> ApiController initialized
DEBUG - 2026-02-02 02:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:38 --> ApiController initialized
DEBUG - 2026-02-02 02:03:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:03:39 --> ApiController initialized
DEBUG - 2026-02-02 02:03:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:04 --> ApiController initialized
DEBUG - 2026-02-02 02:04:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:04 --> ApiController initialized
DEBUG - 2026-02-02 02:04:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:08 --> ApiController initialized
DEBUG - 2026-02-02 02:04:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:08 --> ApiController initialized
DEBUG - 2026-02-02 02:04:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:34 --> ApiController initialized
DEBUG - 2026-02-02 02:04:34 --> ApiController initialized
DEBUG - 2026-02-02 02:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:38 --> ApiController initialized
DEBUG - 2026-02-02 02:04:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:04:38 --> ApiController initialized
DEBUG - 2026-02-02 02:04:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:04 --> ApiController initialized
DEBUG - 2026-02-02 02:05:04 --> ApiController initialized
DEBUG - 2026-02-02 02:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:08 --> ApiController initialized
DEBUG - 2026-02-02 02:05:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:09 --> ApiController initialized
DEBUG - 2026-02-02 02:05:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:34 --> ApiController initialized
DEBUG - 2026-02-02 02:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:34 --> ApiController initialized
DEBUG - 2026-02-02 02:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:38 --> ApiController initialized
DEBUG - 2026-02-02 02:05:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:05:38 --> ApiController initialized
DEBUG - 2026-02-02 02:05:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:04 --> ApiController initialized
DEBUG - 2026-02-02 02:06:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:04 --> ApiController initialized
DEBUG - 2026-02-02 02:06:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:08 --> ApiController initialized
DEBUG - 2026-02-02 02:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:08 --> ApiController initialized
DEBUG - 2026-02-02 02:06:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:34 --> ApiController initialized
DEBUG - 2026-02-02 02:06:34 --> ApiController initialized
DEBUG - 2026-02-02 02:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:38 --> ApiController initialized
DEBUG - 2026-02-02 02:06:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:06:38 --> ApiController initialized
DEBUG - 2026-02-02 02:06:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:04 --> ApiController initialized
DEBUG - 2026-02-02 02:07:04 --> ApiController initialized
DEBUG - 2026-02-02 02:07:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:08 --> ApiController initialized
DEBUG - 2026-02-02 02:07:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:09 --> ApiController initialized
DEBUG - 2026-02-02 02:07:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:34 --> ApiController initialized
DEBUG - 2026-02-02 02:07:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:34 --> ApiController initialized
DEBUG - 2026-02-02 02:07:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:38 --> ApiController initialized
DEBUG - 2026-02-02 02:07:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:07:39 --> ApiController initialized
DEBUG - 2026-02-02 02:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:04 --> ApiController initialized
DEBUG - 2026-02-02 02:08:04 --> ApiController initialized
DEBUG - 2026-02-02 02:08:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:08 --> ApiController initialized
DEBUG - 2026-02-02 02:08:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:09 --> ApiController initialized
DEBUG - 2026-02-02 02:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:34 --> ApiController initialized
DEBUG - 2026-02-02 02:08:34 --> ApiController initialized
DEBUG - 2026-02-02 02:08:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:38 --> ApiController initialized
DEBUG - 2026-02-02 02:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:08:39 --> ApiController initialized
DEBUG - 2026-02-02 02:08:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:04 --> ApiController initialized
DEBUG - 2026-02-02 02:09:04 --> ApiController initialized
DEBUG - 2026-02-02 02:09:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:08 --> ApiController initialized
DEBUG - 2026-02-02 02:09:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:09 --> ApiController initialized
DEBUG - 2026-02-02 02:09:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:34 --> ApiController initialized
DEBUG - 2026-02-02 02:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:34 --> ApiController initialized
DEBUG - 2026-02-02 02:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:38 --> ApiController initialized
DEBUG - 2026-02-02 02:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:09:38 --> ApiController initialized
DEBUG - 2026-02-02 02:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:04 --> ApiController initialized
DEBUG - 2026-02-02 02:10:04 --> ApiController initialized
DEBUG - 2026-02-02 02:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:08 --> ApiController initialized
DEBUG - 2026-02-02 02:10:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:08 --> ApiController initialized
DEBUG - 2026-02-02 02:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:34 --> ApiController initialized
DEBUG - 2026-02-02 02:10:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:34 --> ApiController initialized
DEBUG - 2026-02-02 02:10:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:38 --> ApiController initialized
DEBUG - 2026-02-02 02:10:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:10:39 --> ApiController initialized
DEBUG - 2026-02-02 02:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:04 --> ApiController initialized
DEBUG - 2026-02-02 02:11:04 --> ApiController initialized
DEBUG - 2026-02-02 02:11:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:08 --> ApiController initialized
DEBUG - 2026-02-02 02:11:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:08 --> ApiController initialized
DEBUG - 2026-02-02 02:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:34 --> ApiController initialized
DEBUG - 2026-02-02 02:11:34 --> ApiController initialized
DEBUG - 2026-02-02 02:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:38 --> ApiController initialized
DEBUG - 2026-02-02 02:11:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:11:39 --> ApiController initialized
DEBUG - 2026-02-02 02:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:04 --> ApiController initialized
DEBUG - 2026-02-02 02:12:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:04 --> ApiController initialized
DEBUG - 2026-02-02 02:12:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:08 --> ApiController initialized
DEBUG - 2026-02-02 02:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:08 --> ApiController initialized
DEBUG - 2026-02-02 02:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:34 --> ApiController initialized
DEBUG - 2026-02-02 02:12:34 --> ApiController initialized
DEBUG - 2026-02-02 02:12:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:38 --> ApiController initialized
DEBUG - 2026-02-02 02:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:12:39 --> ApiController initialized
DEBUG - 2026-02-02 02:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:04 --> ApiController initialized
DEBUG - 2026-02-02 02:13:04 --> ApiController initialized
DEBUG - 2026-02-02 02:13:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:08 --> ApiController initialized
DEBUG - 2026-02-02 02:13:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:08 --> ApiController initialized
DEBUG - 2026-02-02 02:13:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:34 --> ApiController initialized
DEBUG - 2026-02-02 02:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:34 --> ApiController initialized
DEBUG - 2026-02-02 02:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:38 --> ApiController initialized
DEBUG - 2026-02-02 02:13:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:13:38 --> ApiController initialized
DEBUG - 2026-02-02 02:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:04 --> ApiController initialized
DEBUG - 2026-02-02 02:14:04 --> ApiController initialized
DEBUG - 2026-02-02 02:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:08 --> ApiController initialized
DEBUG - 2026-02-02 02:14:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:09 --> ApiController initialized
DEBUG - 2026-02-02 02:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:34 --> ApiController initialized
DEBUG - 2026-02-02 02:14:34 --> ApiController initialized
DEBUG - 2026-02-02 02:14:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:38 --> ApiController initialized
DEBUG - 2026-02-02 02:14:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:14:38 --> ApiController initialized
DEBUG - 2026-02-02 02:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:04 --> ApiController initialized
DEBUG - 2026-02-02 02:15:04 --> ApiController initialized
DEBUG - 2026-02-02 02:15:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:08 --> ApiController initialized
DEBUG - 2026-02-02 02:15:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:08 --> ApiController initialized
DEBUG - 2026-02-02 02:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:34 --> ApiController initialized
DEBUG - 2026-02-02 02:15:34 --> ApiController initialized
DEBUG - 2026-02-02 02:15:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:38 --> ApiController initialized
DEBUG - 2026-02-02 02:15:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:15:39 --> ApiController initialized
DEBUG - 2026-02-02 02:15:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:04 --> ApiController initialized
DEBUG - 2026-02-02 02:16:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:04 --> ApiController initialized
DEBUG - 2026-02-02 02:16:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:08 --> ApiController initialized
DEBUG - 2026-02-02 02:16:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:08 --> ApiController initialized
DEBUG - 2026-02-02 02:16:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:34 --> ApiController initialized
DEBUG - 2026-02-02 02:16:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:34 --> ApiController initialized
DEBUG - 2026-02-02 02:16:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:38 --> ApiController initialized
DEBUG - 2026-02-02 02:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:16:38 --> ApiController initialized
DEBUG - 2026-02-02 02:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:04 --> ApiController initialized
DEBUG - 2026-02-02 02:17:04 --> ApiController initialized
DEBUG - 2026-02-02 02:17:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:08 --> ApiController initialized
DEBUG - 2026-02-02 02:17:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:09 --> ApiController initialized
DEBUG - 2026-02-02 02:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:34 --> ApiController initialized
DEBUG - 2026-02-02 02:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:34 --> ApiController initialized
DEBUG - 2026-02-02 02:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:39 --> ApiController initialized
DEBUG - 2026-02-02 02:17:39 --> ApiController initialized
DEBUG - 2026-02-02 02:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:05 --> ApiController initialized
DEBUG - 2026-02-02 02:18:05 --> ApiController initialized
DEBUG - 2026-02-02 02:18:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:09 --> ApiController initialized
DEBUG - 2026-02-02 02:18:09 --> ApiController initialized
DEBUG - 2026-02-02 02:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:35 --> ApiController initialized
DEBUG - 2026-02-02 02:18:35 --> ApiController initialized
DEBUG - 2026-02-02 02:18:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:39 --> ApiController initialized
DEBUG - 2026-02-02 02:18:39 --> ApiController initialized
DEBUG - 2026-02-02 02:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:19:05 --> ApiController initialized
DEBUG - 2026-02-02 02:19:05 --> ApiController initialized
DEBUG - 2026-02-02 02:19:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:19:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:19:09 --> ApiController initialized
DEBUG - 2026-02-02 02:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:19:09 --> ApiController initialized
DEBUG - 2026-02-02 02:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:19:35 --> ApiController initialized
DEBUG - 2026-02-02 02:19:35 --> ApiController initialized
DEBUG - 2026-02-02 02:19:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:19:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:02 --> ApiController initialized
DEBUG - 2026-02-02 02:20:02 --> ApiController initialized
DEBUG - 2026-02-02 02:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:09 --> ApiController initialized
DEBUG - 2026-02-02 02:20:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:09 --> ApiController initialized
DEBUG - 2026-02-02 02:20:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:20:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:20:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:20:09"}}
DEBUG - 2026-02-02 02:20:09 --> ApiController initialized
ERROR - 2026-02-02 02:20:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:20:11 --> Found 0 direct messages
DEBUG - 2026-02-02 02:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:18 --> ApiController initialized
DEBUG - 2026-02-02 02:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:18 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:20:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:18 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:20:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:20:18"}}
DEBUG - 2026-02-02 02:20:19 --> ApiController initialized
DEBUG - 2026-02-02 02:20:19 --> ApiController initialized
DEBUG - 2026-02-02 02:20:19 --> ApiController initialized
DEBUG - 2026-02-02 02:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:20:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:20:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:20:19"}}
ERROR - 2026-02-02 02:20:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:20:21 --> Found 0 direct messages
ERROR - 2026-02-02 02:20:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:20:21 --> Found 0 direct messages
DEBUG - 2026-02-02 02:20:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:28 --> ApiController initialized
DEBUG - 2026-02-02 02:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:28 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:20:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:28 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:20:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:20:28"}}
ERROR - 2026-02-02 02:20:31 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:20:31 --> Found 0 direct messages
DEBUG - 2026-02-02 02:20:39 --> ApiController initialized
DEBUG - 2026-02-02 02:20:39 --> ApiController initialized
DEBUG - 2026-02-02 02:20:39 --> ApiController initialized
DEBUG - 2026-02-02 02:20:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:39 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:20:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:39 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:20:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:20:39"}}
ERROR - 2026-02-02 02:20:41 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:20:41 --> Found 0 direct messages
DEBUG - 2026-02-02 02:20:49 --> ApiController initialized
DEBUG - 2026-02-02 02:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:49 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:20:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:49 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:20:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:20:49"}}
ERROR - 2026-02-02 02:20:51 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:20:51 --> Found 0 direct messages
DEBUG - 2026-02-02 02:20:59 --> ApiController initialized
DEBUG - 2026-02-02 02:20:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:20:59 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:20:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:20:59 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:20:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:20:59"}}
ERROR - 2026-02-02 02:21:01 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:21:01 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:09 --> ApiController initialized
DEBUG - 2026-02-02 02:21:09 --> ApiController initialized
DEBUG - 2026-02-02 02:21:09 --> ApiController initialized
DEBUG - 2026-02-02 02:21:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:21:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:21:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:21:09"}}
ERROR - 2026-02-02 02:21:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:21:11 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:19 --> ApiController initialized
DEBUG - 2026-02-02 02:21:19 --> ApiController initialized
DEBUG - 2026-02-02 02:21:19 --> ApiController initialized
DEBUG - 2026-02-02 02:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:21:19 --> ApiController initialized
DEBUG - 2026-02-02 02:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:21:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:21:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:21:19"}}
DEBUG - 2026-02-02 02:21:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:21:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:21:19"}}
ERROR - 2026-02-02 02:21:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
ERROR - 2026-02-02 02:21:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:21:21 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:21 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:29 --> ApiController initialized
DEBUG - 2026-02-02 02:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:21:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:21:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:21:29"}}
ERROR - 2026-02-02 02:21:31 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2225 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:21:31 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:39 --> ApiController initialized
DEBUG - 2026-02-02 02:21:39 --> ApiController initialized
DEBUG - 2026-02-02 02:21:39 --> ApiController initialized
DEBUG - 2026-02-02 02:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:39 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:21:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:39 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:21:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:21:39"}}
ERROR - 2026-02-02 02:21:41 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:21:41 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:49 --> ApiController initialized
DEBUG - 2026-02-02 02:21:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:49 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:21:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:49 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:21:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:21:49"}}
ERROR - 2026-02-02 02:21:51 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:21:51 --> Found 0 direct messages
DEBUG - 2026-02-02 02:21:59 --> ApiController initialized
DEBUG - 2026-02-02 02:21:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:21:59 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:21:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:21:59 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:21:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:21:59"}}
ERROR - 2026-02-02 02:22:01 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2228 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:01 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:09 --> ApiController initialized
DEBUG - 2026-02-02 02:22:09 --> ApiController initialized
DEBUG - 2026-02-02 02:22:09 --> ApiController initialized
DEBUG - 2026-02-02 02:22:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:22:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:22:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:22:09"}}
ERROR - 2026-02-02 02:22:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:11 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:19 --> ApiController initialized
DEBUG - 2026-02-02 02:22:19 --> ApiController initialized
DEBUG - 2026-02-02 02:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:22:19 --> ApiController initialized
DEBUG - 2026-02-02 02:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:22:19 --> ApiController initialized
DEBUG - 2026-02-02 02:22:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:22:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:22:19"}}
DEBUG - 2026-02-02 02:22:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:22:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:22:19"}}
ERROR - 2026-02-02 02:22:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:21 --> Found 0 direct messages
ERROR - 2026-02-02 02:22:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:21 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:29 --> ApiController initialized
DEBUG - 2026-02-02 02:22:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:22:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:22:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:22:29"}}
ERROR - 2026-02-02 02:22:31 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:31 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:39 --> ApiController initialized
DEBUG - 2026-02-02 02:22:39 --> ApiController initialized
DEBUG - 2026-02-02 02:22:39 --> ApiController initialized
DEBUG - 2026-02-02 02:22:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:39 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:22:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:39 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:22:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:22:39"}}
ERROR - 2026-02-02 02:22:41 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2225 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:41 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:49 --> ApiController initialized
DEBUG - 2026-02-02 02:22:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:49 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:22:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:49 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:22:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:22:49"}}
DEBUG - 2026-02-02 02:22:50 --> ApiController initialized
DEBUG - 2026-02-02 02:22:50 --> ApiController initialized
DEBUG - 2026-02-02 02:22:50 --> ApiController initialized
DEBUG - 2026-02-02 02:22:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:22:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:22:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:22:50"}}
ERROR - 2026-02-02 02:22:51 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2268 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:51 --> Found 0 direct messages
ERROR - 2026-02-02 02:22:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2227 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:22:52 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> Groups data: []
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> Groups data: []
DEBUG - 2026-02-02 02:22:53 --> ApiController initialized
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:58 --> ApiController initialized
DEBUG - 2026-02-02 02:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:58 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:22:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:58 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:22:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:22:58"}}
ERROR - 2026-02-02 02:22:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:22:58 --> Found 0 direct messages
DEBUG - 2026-02-02 02:22:59 --> ApiController initialized
DEBUG - 2026-02-02 02:22:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:22:59 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:22:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:22:59 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:22:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:22:59"}}
ERROR - 2026-02-02 02:22:59 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:22:59 --> Found 0 direct messages
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Groups data: []
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> Groups data: []
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:07 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:23:07 --> ApiController initialized
DEBUG - 2026-02-02 02:23:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:09 --> ApiController initialized
DEBUG - 2026-02-02 02:23:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:23:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:23:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:23:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:23:09"}}
ERROR - 2026-02-02 02:23:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:23:09 --> Found 0 direct messages
DEBUG - 2026-02-02 02:23:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:10 --> ApiController initialized
DEBUG - 2026-02-02 02:23:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:10 --> ApiController initialized
DEBUG - 2026-02-02 02:23:10 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:23:10 --> ApiController initialized
DEBUG - 2026-02-02 02:23:10 --> ApiController initialized
DEBUG - 2026-02-02 02:23:10 --> ApiController initialized
DEBUG - 2026-02-02 02:23:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:10 --> ApiController initialized
DEBUG - 2026-02-02 02:23:10 --> Groups data: []
DEBUG - 2026-02-02 02:23:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:10 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> ApiController initialized
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> ApiController initialized
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> ApiController initialized
DEBUG - 2026-02-02 02:23:11 --> Groups data: []
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> ApiController initialized
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:11 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:23:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:23:11 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:23:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:23:11"}}
ERROR - 2026-02-02 02:23:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:23:11 --> Found 0 direct messages
DEBUG - 2026-02-02 02:23:11 --> ApiController initialized
DEBUG - 2026-02-02 02:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:23 --> ApiController initialized
DEBUG - 2026-02-02 02:23:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:23 --> ApiController initialized
DEBUG - 2026-02-02 02:23:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:40 --> ApiController initialized
DEBUG - 2026-02-02 02:23:40 --> ApiController initialized
DEBUG - 2026-02-02 02:23:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:53 --> ApiController initialized
DEBUG - 2026-02-02 02:23:53 --> ApiController initialized
DEBUG - 2026-02-02 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:10 --> ApiController initialized
DEBUG - 2026-02-02 02:24:10 --> ApiController initialized
DEBUG - 2026-02-02 02:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:23 --> ApiController initialized
DEBUG - 2026-02-02 02:24:23 --> ApiController initialized
DEBUG - 2026-02-02 02:24:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:40 --> ApiController initialized
DEBUG - 2026-02-02 02:24:40 --> ApiController initialized
DEBUG - 2026-02-02 02:24:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:53 --> ApiController initialized
DEBUG - 2026-02-02 02:24:53 --> ApiController initialized
DEBUG - 2026-02-02 02:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> Groups data: []
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:16 --> Groups data: []
DEBUG - 2026-02-02 02:25:16 --> ApiController initialized
DEBUG - 2026-02-02 02:25:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:17 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> Groups data: []
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> Groups data: []
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:18 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:25:18 --> ApiController initialized
DEBUG - 2026-02-02 02:25:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:25:18 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:25:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:25:18"}}
ERROR - 2026-02-02 02:25:18 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:25:18 --> Found 0 direct messages
DEBUG - 2026-02-02 02:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Groups data: []
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Groups data: []
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Groups data: []
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Groups data: []
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> ApiController initialized
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:22 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:25:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:25:22 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:25:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:25:22"}}
DEBUG - 2026-02-02 02:25:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:25:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:25:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:25:23"}}
ERROR - 2026-02-02 02:25:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:25:23 --> Found 0 direct messages
DEBUG - 2026-02-02 02:25:23 --> ApiController initialized
ERROR - 2026-02-02 02:25:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:25:23 --> Found 0 direct messages
DEBUG - 2026-02-02 02:25:23 --> ApiController initialized
DEBUG - 2026-02-02 02:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:26 --> ApiController initialized
DEBUG - 2026-02-02 02:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:26 --> ApiController initialized
DEBUG - 2026-02-02 02:25:26 --> ApiController initialized
DEBUG - 2026-02-02 02:25:26 --> ApiController initialized
DEBUG - 2026-02-02 02:25:26 --> ApiController initialized
DEBUG - 2026-02-02 02:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:26 --> Groups data: []
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> ApiController initialized
DEBUG - 2026-02-02 02:25:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> ApiController initialized
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> ApiController initialized
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:25:27 --> ApiController initialized
DEBUG - 2026-02-02 02:25:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:25:27 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:25:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:25:27"}}
ERROR - 2026-02-02 02:25:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:25:27 --> Found 0 direct messages
DEBUG - 2026-02-02 02:25:27 --> ApiController initialized
DEBUG - 2026-02-02 02:25:27 --> ApiController initialized
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> Groups data: []
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:25:32 --> ApiController initialized
DEBUG - 2026-02-02 02:25:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:32 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryiVAExRqdMVp95meN
DEBUG - 2026-02-02 02:25:32 --> Processing form data
DEBUG - 2026-02-02 02:25:32 --> POST data: {"content":"hi","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 02:25:32 --> Processed message data: {"sender_id":"1","content":"hi","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 02:25:32 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 02:25:32 --> Inserting message data: {"sender_id":"1","content":"hi","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 10:25:32","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 02:25:32 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 02:25:32 --> Message saved successfully with ID: 107
DEBUG - 2026-02-02 02:25:32 --> Sending message to socket server: {"event":"new_message","data":{"id":107,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"hi","type":"text","file_url":null,"created_at":"2026-02-02 02:25:32","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 02:25:32 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:25:32 --> ApiController initialized
DEBUG - 2026-02-02 02:25:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:32 --> ApiController initialized
DEBUG - 2026-02-02 02:25:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:32 --> ApiController initialized
DEBUG - 2026-02-02 02:25:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:33 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:25:33 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:25:33 --> Created new message status for message 107. Insert result: success
DEBUG - 2026-02-02 02:25:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:25:33"}}
ERROR - 2026-02-02 02:25:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:25:33 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:25:52 --> ApiController initialized
DEBUG - 2026-02-02 02:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:52 --> ApiController initialized
DEBUG - 2026-02-02 02:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:56 --> ApiController initialized
DEBUG - 2026-02-02 02:25:56 --> ApiController initialized
DEBUG - 2026-02-02 02:25:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:25:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Groups data: []
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"107","sender_id":"1","receiver_id":"4","group_id":null,"content":"hi","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:25:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:26:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:26:01 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:26:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:26:01"}}
ERROR - 2026-02-02 02:26:01 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:01 --> Found 1 direct messages
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> ApiController initialized
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> Groups data: []
DEBUG - 2026-02-02 02:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"107","sender_id":"1","receiver_id":"4","group_id":null,"content":"hi","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:25:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:26:02 --> ApiController initialized
DEBUG - 2026-02-02 02:26:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:02 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:26:02 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:26:02 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:26:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:26:02"}}
ERROR - 2026-02-02 02:26:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:02 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:26:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Groups data: []
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"107","sender_id":"1","receiver_id":"4","group_id":null,"content":"hi","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:25:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:26:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:26:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:26:03"}}
ERROR - 2026-02-02 02:26:03 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:03 --> Found 1 direct messages
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Groups data: []
DEBUG - 2026-02-02 02:26:03 --> ApiController initialized
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"107","sender_id":"1","receiver_id":"4","group_id":null,"content":"hi","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:25:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:26:08 --> ApiController initialized
DEBUG - 2026-02-02 02:26:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:08 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryeZlma9nWcA3wUYDb
DEBUG - 2026-02-02 02:26:08 --> Processing form data
DEBUG - 2026-02-02 02:26:08 --> POST data: {"content":"hi","is_group":"0","receiver_id":"1","type":"text","reply_to_id":"107","reply_to_sender_id":"1","reply_to_content":"hi","reply_to_sender_name":"test"}
DEBUG - 2026-02-02 02:26:08 --> Processed message data: {"sender_id":"4","content":"hi","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"107","reply_to_sender_id":"1","reply_to_content":"hi","reply_to_sender_name":"test"}
DEBUG - 2026-02-02 02:26:08 --> Original reply_to_sender_id received: 1
DEBUG - 2026-02-02 02:26:09 --> Using original message sender ID: 1
DEBUG - 2026-02-02 02:26:09 --> Final reply_to_sender_id: 1
DEBUG - 2026-02-02 02:26:09 --> Reply data: ID=107, SenderID=1, SenderName=test, Content=hi
DEBUG - 2026-02-02 02:26:09 --> Inserting message data: {"sender_id":"4","content":"hi","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 10:26:09","is_read":0,"reply_to_id":"107","reply_to_sender_id":1,"reply_to_content":"hi","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-02-02 02:26:09 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 02:26:09 --> Message saved successfully with ID: 108
DEBUG - 2026-02-02 02:26:09 --> Sending message to socket server: {"event":"new_message","data":{"id":108,"sender_id":"4","receiver_id":"1","group_id":null,"is_group":0,"content":"hi","type":"text","file_url":null,"created_at":"2026-02-02 02:26:09","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png","reply_to_id":"107","reply_to_sender_id":1,"reply_to_content":"hi","reply_to_sender_name":"test"}}
ERROR - 2026-02-02 02:26:09 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:09 --> ApiController initialized
DEBUG - 2026-02-02 02:26:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:09 --> ApiController initialized
DEBUG - 2026-02-02 02:26:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:10 --> ApiController initialized
DEBUG - 2026-02-02 02:26:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:10 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:26:10 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:26:10 --> Created new message status for message 108. Insert result: success
DEBUG - 2026-02-02 02:26:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:26:10"}}
ERROR - 2026-02-02 02:26:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:10 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:26:14 --> ApiController initialized
DEBUG - 2026-02-02 02:26:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:14 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryS8BJ7a8FDGFvQ6QX
DEBUG - 2026-02-02 02:26:14 --> Processing form data
DEBUG - 2026-02-02 02:26:14 --> POST data: {"content":"test","is_group":"0","receiver_id":"1","type":"text"}
DEBUG - 2026-02-02 02:26:14 --> Processed message data: {"sender_id":"4","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 02:26:14 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 02:26:14 --> Inserting message data: {"sender_id":"4","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 10:26:14","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-02-02 02:26:14 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 02:26:14 --> Message saved successfully with ID: 109
DEBUG - 2026-02-02 02:26:14 --> Sending message to socket server: {"event":"new_message","data":{"id":109,"sender_id":"4","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-02-02 02:26:14","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 02:26:14 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:15 --> ApiController initialized
DEBUG - 2026-02-02 02:26:15 --> ApiController initialized
DEBUG - 2026-02-02 02:26:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:15 --> ApiController initialized
DEBUG - 2026-02-02 02:26:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:15 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:26:15 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:26:15 --> Created new message status for message 109. Insert result: success
DEBUG - 2026-02-02 02:26:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:26:15"}}
ERROR - 2026-02-02 02:26:15 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:15 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:26:19 --> ApiController initialized
DEBUG - 2026-02-02 02:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:19 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarysJBPiGdyVkQu0TAY
DEBUG - 2026-02-02 02:26:19 --> Processing form data
DEBUG - 2026-02-02 02:26:19 --> POST data: {"content":"test","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 02:26:19 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 02:26:19 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 02:26:19 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 10:26:19","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 02:26:19 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 02:26:19 --> Message saved successfully with ID: 110
DEBUG - 2026-02-02 02:26:19 --> Sending message to socket server: {"event":"new_message","data":{"id":110,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-02-02 02:26:19","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 02:26:19 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:19 --> ApiController initialized
DEBUG - 2026-02-02 02:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:20 --> ApiController initialized
DEBUG - 2026-02-02 02:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:20 --> ApiController initialized
DEBUG - 2026-02-02 02:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:20 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:26:20 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:26:20 --> Created new message status for message 110. Insert result: success
DEBUG - 2026-02-02 02:26:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:26:20"}}
ERROR - 2026-02-02 02:26:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:20 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Groups data: []
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:26:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:26:24 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:26:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:26:24"}}
ERROR - 2026-02-02 02:26:24 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:24 --> Found 4 direct messages
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:24 --> ApiController initialized
DEBUG - 2026-02-02 02:26:24 --> Groups data: []
DEBUG - 2026-02-02 02:26:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:25 --> ApiController initialized
DEBUG - 2026-02-02 02:26:25 --> ApiController initialized
DEBUG - 2026-02-02 02:26:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:25 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:26:25 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:26:25 --> Updated existing message status for message 108
DEBUG - 2026-02-02 02:26:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:26:25"}}
ERROR - 2026-02-02 02:26:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:25 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:26:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:25 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:26:25 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:26:25 --> Updated existing message status for message 109
DEBUG - 2026-02-02 02:26:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:26:25"}}
ERROR - 2026-02-02 02:26:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:26:25 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:26:31 --> ApiController initialized
DEBUG - 2026-02-02 02:26:31 --> ApiController initialized
DEBUG - 2026-02-02 02:26:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:55 --> ApiController initialized
DEBUG - 2026-02-02 02:26:55 --> ApiController initialized
DEBUG - 2026-02-02 02:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:01 --> ApiController initialized
DEBUG - 2026-02-02 02:27:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:01 --> ApiController initialized
DEBUG - 2026-02-02 02:27:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:25 --> ApiController initialized
DEBUG - 2026-02-02 02:27:25 --> ApiController initialized
DEBUG - 2026-02-02 02:27:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:31 --> ApiController initialized
DEBUG - 2026-02-02 02:27:31 --> ApiController initialized
DEBUG - 2026-02-02 02:27:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:55 --> ApiController initialized
DEBUG - 2026-02-02 02:27:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:27:55 --> ApiController initialized
DEBUG - 2026-02-02 02:27:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:01 --> ApiController initialized
DEBUG - 2026-02-02 02:28:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:01 --> ApiController initialized
DEBUG - 2026-02-02 02:28:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:25 --> ApiController initialized
DEBUG - 2026-02-02 02:28:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:25 --> ApiController initialized
DEBUG - 2026-02-02 02:28:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:31 --> ApiController initialized
DEBUG - 2026-02-02 02:28:31 --> ApiController initialized
DEBUG - 2026-02-02 02:28:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:55 --> ApiController initialized
DEBUG - 2026-02-02 02:28:55 --> ApiController initialized
DEBUG - 2026-02-02 02:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:29:02 --> ApiController initialized
DEBUG - 2026-02-02 02:29:02 --> ApiController initialized
DEBUG - 2026-02-02 02:29:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:29:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:29:25 --> ApiController initialized
DEBUG - 2026-02-02 02:29:25 --> ApiController initialized
DEBUG - 2026-02-02 02:29:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:29:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:29:32 --> ApiController initialized
DEBUG - 2026-02-02 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:29:32 --> ApiController initialized
DEBUG - 2026-02-02 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:03 --> ApiController initialized
DEBUG - 2026-02-02 02:30:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:03 --> ApiController initialized
DEBUG - 2026-02-02 02:30:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:05 --> ApiController initialized
DEBUG - 2026-02-02 02:30:05 --> ApiController initialized
DEBUG - 2026-02-02 02:30:05 --> ApiController initialized
DEBUG - 2026-02-02 02:30:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Groups data: []
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:30:06 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:30:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:30:06"}}
ERROR - 2026-02-02 02:30:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:30:06 --> Found 4 direct messages
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Groups data: []
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> ApiController initialized
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:30:06 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:30:06 --> Updated existing message status for message 110
DEBUG - 2026-02-02 02:30:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:30:06"}}
ERROR - 2026-02-02 02:30:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:30:06 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 02:30:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:06 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:30:06 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:30:06 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:30:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:30:06"}}
ERROR - 2026-02-02 02:30:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:30:06 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:30:19 --> ApiController initialized
DEBUG - 2026-02-02 02:30:19 --> ApiController initialized
DEBUG - 2026-02-02 02:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:35 --> ApiController initialized
DEBUG - 2026-02-02 02:30:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:30:35 --> ApiController initialized
DEBUG - 2026-02-02 02:30:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:05 --> ApiController initialized
DEBUG - 2026-02-02 02:31:05 --> ApiController initialized
DEBUG - 2026-02-02 02:31:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:19 --> ApiController initialized
DEBUG - 2026-02-02 02:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:19 --> ApiController initialized
DEBUG - 2026-02-02 02:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:27 --> ApiController initialized
DEBUG - 2026-02-02 02:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:27 --> ApiController initialized
DEBUG - 2026-02-02 02:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:28 --> ApiController initialized
DEBUG - 2026-02-02 02:31:28 --> ApiController initialized
DEBUG - 2026-02-02 02:31:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:28 --> ApiController initialized
DEBUG - 2026-02-02 02:31:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:36 --> ApiController initialized
DEBUG - 2026-02-02 02:31:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:36 --> ApiController initialized
DEBUG - 2026-02-02 02:31:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> Groups data: []
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:37 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:37 --> ApiController initialized
DEBUG - 2026-02-02 02:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:38 --> ApiController initialized
DEBUG - 2026-02-02 02:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:38 --> ApiController initialized
DEBUG - 2026-02-02 02:31:38 --> Groups data: []
DEBUG - 2026-02-02 02:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:31:38 --> ApiController initialized
DEBUG - 2026-02-02 02:31:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:31:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:31:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:31:38"}}
ERROR - 2026-02-02 02:31:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:31:38 --> Found 4 direct messages
DEBUG - 2026-02-02 02:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:39 --> ApiController initialized
DEBUG - 2026-02-02 02:31:39 --> ApiController initialized
DEBUG - 2026-02-02 02:31:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:39 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:31:39 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:31:39 --> Updated existing message status for message 109
DEBUG - 2026-02-02 02:31:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:31:39"}}
ERROR - 2026-02-02 02:31:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:31:39 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:31:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:31:39 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:31:39 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:31:39 --> Updated existing message status for message 108
DEBUG - 2026-02-02 02:31:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:31:39"}}
ERROR - 2026-02-02 02:31:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:31:39 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:32:06 --> ApiController initialized
DEBUG - 2026-02-02 02:32:06 --> ApiController initialized
DEBUG - 2026-02-02 02:32:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:08 --> ApiController initialized
DEBUG - 2026-02-02 02:32:08 --> ApiController initialized
DEBUG - 2026-02-02 02:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:36 --> ApiController initialized
DEBUG - 2026-02-02 02:32:36 --> ApiController initialized
DEBUG - 2026-02-02 02:32:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:38 --> ApiController initialized
DEBUG - 2026-02-02 02:32:38 --> ApiController initialized
DEBUG - 2026-02-02 02:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:33:06 --> ApiController initialized
DEBUG - 2026-02-02 02:33:06 --> ApiController initialized
DEBUG - 2026-02-02 02:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:33:08 --> ApiController initialized
DEBUG - 2026-02-02 02:33:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:33:08 --> ApiController initialized
DEBUG - 2026-02-02 02:33:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:33:38 --> ApiController initialized
DEBUG - 2026-02-02 02:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:33:38 --> ApiController initialized
DEBUG - 2026-02-02 02:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:07 --> ApiController initialized
DEBUG - 2026-02-02 02:34:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:07 --> ApiController initialized
DEBUG - 2026-02-02 02:34:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:08 --> ApiController initialized
DEBUG - 2026-02-02 02:34:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:08 --> ApiController initialized
DEBUG - 2026-02-02 02:34:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:36 --> ApiController initialized
DEBUG - 2026-02-02 02:34:36 --> ApiController initialized
DEBUG - 2026-02-02 02:34:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:38 --> ApiController initialized
DEBUG - 2026-02-02 02:34:38 --> ApiController initialized
DEBUG - 2026-02-02 02:34:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:34:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:35:06 --> ApiController initialized
DEBUG - 2026-02-02 02:35:06 --> ApiController initialized
DEBUG - 2026-02-02 02:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:35:08 --> ApiController initialized
DEBUG - 2026-02-02 02:35:08 --> ApiController initialized
DEBUG - 2026-02-02 02:35:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:35:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:36:19 --> ApiController initialized
DEBUG - 2026-02-02 02:36:19 --> ApiController initialized
DEBUG - 2026-02-02 02:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:36:19 --> ApiController initialized
DEBUG - 2026-02-02 02:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:36:19 --> ApiController initialized
DEBUG - 2026-02-02 02:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:16 --> ApiController initialized
DEBUG - 2026-02-02 02:37:16 --> ApiController initialized
DEBUG - 2026-02-02 02:37:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:19 --> ApiController initialized
DEBUG - 2026-02-02 02:37:19 --> ApiController initialized
DEBUG - 2026-02-02 02:37:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:21 --> ApiController initialized
DEBUG - 2026-02-02 02:37:21 --> ApiController initialized
DEBUG - 2026-02-02 02:37:21 --> ApiController initialized
DEBUG - 2026-02-02 02:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:21 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:37:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:37:21 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:37:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:37:21"}}
ERROR - 2026-02-02 02:37:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:37:21 --> Found 4 direct messages
DEBUG - 2026-02-02 02:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:22 --> ApiController initialized
DEBUG - 2026-02-02 02:37:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:36 --> ApiController initialized
DEBUG - 2026-02-02 02:37:36 --> ApiController initialized
DEBUG - 2026-02-02 02:37:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:37:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:38:06 --> ApiController initialized
DEBUG - 2026-02-02 02:38:06 --> ApiController initialized
DEBUG - 2026-02-02 02:38:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:38:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:38:46 --> ApiController initialized
DEBUG - 2026-02-02 02:38:46 --> ApiController initialized
DEBUG - 2026-02-02 02:38:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:38:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:39:06 --> ApiController initialized
DEBUG - 2026-02-02 02:39:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:39:06 --> ApiController initialized
DEBUG - 2026-02-02 02:39:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:39:36 --> ApiController initialized
DEBUG - 2026-02-02 02:39:36 --> ApiController initialized
DEBUG - 2026-02-02 02:39:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:39:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:40:10 --> ApiController initialized
DEBUG - 2026-02-02 02:40:10 --> ApiController initialized
DEBUG - 2026-02-02 02:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:40:36 --> ApiController initialized
DEBUG - 2026-02-02 02:40:36 --> ApiController initialized
DEBUG - 2026-02-02 02:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:41:06 --> ApiController initialized
DEBUG - 2026-02-02 02:41:06 --> ApiController initialized
DEBUG - 2026-02-02 02:41:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:41:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:41:36 --> ApiController initialized
DEBUG - 2026-02-02 02:41:36 --> ApiController initialized
DEBUG - 2026-02-02 02:41:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:41:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:42:06 --> ApiController initialized
DEBUG - 2026-02-02 02:42:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:42:06 --> ApiController initialized
DEBUG - 2026-02-02 02:42:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:42:37 --> ApiController initialized
DEBUG - 2026-02-02 02:42:37 --> ApiController initialized
DEBUG - 2026-02-02 02:42:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:42:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:43:06 --> ApiController initialized
DEBUG - 2026-02-02 02:43:06 --> ApiController initialized
DEBUG - 2026-02-02 02:43:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:43:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:43:36 --> ApiController initialized
DEBUG - 2026-02-02 02:43:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:43:36 --> ApiController initialized
DEBUG - 2026-02-02 02:43:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:44:06 --> ApiController initialized
DEBUG - 2026-02-02 02:44:06 --> ApiController initialized
DEBUG - 2026-02-02 02:44:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:44:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:19 --> ApiController initialized
DEBUG - 2026-02-02 02:45:19 --> ApiController initialized
DEBUG - 2026-02-02 02:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:31 --> ApiController initialized
DEBUG - 2026-02-02 02:45:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:31 --> ApiController initialized
DEBUG - 2026-02-02 02:45:31 --> ApiController initialized
DEBUG - 2026-02-02 02:45:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:31 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:45:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:45:31 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:45:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:45:31"}}
ERROR - 2026-02-02 02:45:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:45:31 --> Found 4 direct messages
DEBUG - 2026-02-02 02:45:31 --> ApiController initialized
DEBUG - 2026-02-02 02:45:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:36 --> ApiController initialized
DEBUG - 2026-02-02 02:45:36 --> ApiController initialized
DEBUG - 2026-02-02 02:45:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:45:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:46:06 --> ApiController initialized
DEBUG - 2026-02-02 02:46:06 --> ApiController initialized
DEBUG - 2026-02-02 02:46:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:46:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:46:36 --> ApiController initialized
DEBUG - 2026-02-02 02:46:36 --> ApiController initialized
DEBUG - 2026-02-02 02:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:47:06 --> ApiController initialized
DEBUG - 2026-02-02 02:47:06 --> ApiController initialized
DEBUG - 2026-02-02 02:47:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:47:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:47:36 --> ApiController initialized
DEBUG - 2026-02-02 02:47:36 --> ApiController initialized
DEBUG - 2026-02-02 02:47:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:47:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:48:06 --> ApiController initialized
DEBUG - 2026-02-02 02:48:06 --> ApiController initialized
DEBUG - 2026-02-02 02:48:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:48:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:48:36 --> ApiController initialized
DEBUG - 2026-02-02 02:48:36 --> ApiController initialized
DEBUG - 2026-02-02 02:48:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:48:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:10 --> ApiController initialized
DEBUG - 2026-02-02 02:49:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:10 --> ApiController initialized
DEBUG - 2026-02-02 02:49:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:36 --> ApiController initialized
DEBUG - 2026-02-02 02:49:36 --> ApiController initialized
DEBUG - 2026-02-02 02:49:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:38 --> ApiController initialized
DEBUG - 2026-02-02 02:49:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:38 --> ApiController initialized
DEBUG - 2026-02-02 02:49:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:49:38 --> ApiController initialized
DEBUG - 2026-02-02 02:49:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:49:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:49:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:49:38"}}
ERROR - 2026-02-02 02:49:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:49:38 --> Found 4 direct messages
DEBUG - 2026-02-02 02:49:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:38 --> ApiController initialized
DEBUG - 2026-02-02 02:49:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> Groups data: []
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> Groups data: []
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:44 --> ApiController initialized
DEBUG - 2026-02-02 02:49:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:45 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:49:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:49:45 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:49:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:49:45"}}
ERROR - 2026-02-02 02:49:45 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:49:45 --> Found 4 direct messages
DEBUG - 2026-02-02 02:49:45 --> ApiController initialized
DEBUG - 2026-02-02 02:49:45 --> ApiController initialized
DEBUG - 2026-02-02 02:49:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:45 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:49:45 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:49:45 --> Updated existing message status for message 109
DEBUG - 2026-02-02 02:49:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:49:45"}}
ERROR - 2026-02-02 02:49:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:49:45 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:49:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:49:45 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:49:45 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:49:45 --> Updated existing message status for message 108
DEBUG - 2026-02-02 02:49:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:49:45"}}
ERROR - 2026-02-02 02:49:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:49:45 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:50:05 --> ApiController initialized
DEBUG - 2026-02-02 02:50:05 --> ApiController initialized
DEBUG - 2026-02-02 02:50:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:15 --> ApiController initialized
DEBUG - 2026-02-02 02:50:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:15 --> ApiController initialized
DEBUG - 2026-02-02 02:50:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:35 --> ApiController initialized
DEBUG - 2026-02-02 02:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:35 --> ApiController initialized
DEBUG - 2026-02-02 02:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:45 --> ApiController initialized
DEBUG - 2026-02-02 02:50:45 --> ApiController initialized
DEBUG - 2026-02-02 02:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:55 --> ApiController initialized
DEBUG - 2026-02-02 02:50:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:55 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:50:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:50:55 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:50:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:50:55"}}
ERROR - 2026-02-02 02:50:58 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:50:58 --> Found 4 direct messages
DEBUG - 2026-02-02 02:50:58 --> ApiController initialized
DEBUG - 2026-02-02 02:50:58 --> ApiController initialized
DEBUG - 2026-02-02 02:50:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:50:58 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:50:58 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:50:58 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:50:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:50:58"}}
ERROR - 2026-02-02 02:51:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:51:01 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:01 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:51:01 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:51:01 --> Updated existing message status for message 110
DEBUG - 2026-02-02 02:51:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:01"}}
ERROR - 2026-02-02 02:51:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:51:03 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 02:51:05 --> ApiController initialized
DEBUG - 2026-02-02 02:51:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:05 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:51:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:51:05 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:51:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:51:05"}}
DEBUG - 2026-02-02 02:51:05 --> ApiController initialized
DEBUG - 2026-02-02 02:51:05 --> ApiController initialized
ERROR - 2026-02-02 02:51:08 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:51:08 --> Found 4 direct messages
DEBUG - 2026-02-02 02:51:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:08 --> ApiController initialized
DEBUG - 2026-02-02 02:51:08 --> ApiController initialized
DEBUG - 2026-02-02 02:51:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:08 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:51:08 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:51:08 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:51:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:08"}}
ERROR - 2026-02-02 02:51:11 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2214 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:51:11 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:51:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:11 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:51:11 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:51:11 --> Updated existing message status for message 110
DEBUG - 2026-02-02 02:51:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:11"}}
ERROR - 2026-02-02 02:51:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 02:51:13 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 02:51:14 --> ApiController initialized
DEBUG - 2026-02-02 02:51:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:14 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:51:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:51:14 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:51:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:51:14"}}
ERROR - 2026-02-02 02:51:14 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:51:14 --> Found 4 direct messages
DEBUG - 2026-02-02 02:51:14 --> ApiController initialized
DEBUG - 2026-02-02 02:51:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:14 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:51:14 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:51:14 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:51:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:14"}}
ERROR - 2026-02-02 02:51:14 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:51:14 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:51:14 --> ApiController initialized
DEBUG - 2026-02-02 02:51:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:14 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:51:14 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:51:14 --> Updated existing message status for message 110
DEBUG - 2026-02-02 02:51:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:14"}}
ERROR - 2026-02-02 02:51:14 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:51:14 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 02:51:15 --> ApiController initialized
DEBUG - 2026-02-02 02:51:15 --> ApiController initialized
DEBUG - 2026-02-02 02:51:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:17 --> ApiController initialized
DEBUG - 2026-02-02 02:51:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:17 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:51:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:51:17 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:51:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:51:17"}}
ERROR - 2026-02-02 02:51:17 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:51:17 --> Found 4 direct messages
DEBUG - 2026-02-02 02:51:19 --> ApiController initialized
DEBUG - 2026-02-02 02:51:19 --> ApiController initialized
DEBUG - 2026-02-02 02:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:19 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:51:19 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:51:19 --> Updated existing message status for message 108
DEBUG - 2026-02-02 02:51:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:19"}}
ERROR - 2026-02-02 02:51:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:51:19 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:19 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:51:19 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:51:19 --> Updated existing message status for message 109
DEBUG - 2026-02-02 02:51:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:51:19"}}
ERROR - 2026-02-02 02:51:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:51:19 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:51:36 --> ApiController initialized
DEBUG - 2026-02-02 02:51:36 --> ApiController initialized
DEBUG - 2026-02-02 02:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:45 --> ApiController initialized
DEBUG - 2026-02-02 02:51:45 --> ApiController initialized
DEBUG - 2026-02-02 02:51:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:51:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:06 --> ApiController initialized
DEBUG - 2026-02-02 02:52:06 --> ApiController initialized
DEBUG - 2026-02-02 02:52:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:15 --> ApiController initialized
DEBUG - 2026-02-02 02:52:15 --> ApiController initialized
DEBUG - 2026-02-02 02:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:36 --> ApiController initialized
DEBUG - 2026-02-02 02:52:36 --> ApiController initialized
DEBUG - 2026-02-02 02:52:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:45 --> ApiController initialized
DEBUG - 2026-02-02 02:52:45 --> ApiController initialized
DEBUG - 2026-02-02 02:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:53:06 --> ApiController initialized
DEBUG - 2026-02-02 02:53:06 --> ApiController initialized
DEBUG - 2026-02-02 02:53:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:53:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:53:19 --> ApiController initialized
DEBUG - 2026-02-02 02:53:19 --> ApiController initialized
DEBUG - 2026-02-02 02:53:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:53:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:53:56 --> ApiController initialized
DEBUG - 2026-02-02 02:53:56 --> ApiController initialized
DEBUG - 2026-02-02 02:53:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:53:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:06 --> ApiController initialized
DEBUG - 2026-02-02 02:54:06 --> ApiController initialized
DEBUG - 2026-02-02 02:54:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:19 --> ApiController initialized
DEBUG - 2026-02-02 02:54:19 --> ApiController initialized
DEBUG - 2026-02-02 02:54:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:36 --> ApiController initialized
DEBUG - 2026-02-02 02:54:36 --> ApiController initialized
DEBUG - 2026-02-02 02:54:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:54:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2026-02-02 02:54:44 --> ErrorException: Undefined array key "user_id"
[Method: GET, Route: chat/direct/4]
in APPPATH\Views\chat\direct_chat.php on line 2799.
 1 APPPATH\Views\chat\direct_chat.php(2799): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined array key "user_id"', 'C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php', 2799)
 2 SYSTEMPATH\View\View.php(224): include('C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php')
 3 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('chat/direct_chat', [], true)
 5 APPPATH\Controllers\Chat.php(84): view('chat/direct_chat', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Chat->directChat('4')
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Chat))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 02:55:06 --> ApiController initialized
DEBUG - 2026-02-02 02:55:06 --> ApiController initialized
DEBUG - 2026-02-02 02:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:55:36 --> ApiController initialized
DEBUG - 2026-02-02 02:55:36 --> ApiController initialized
DEBUG - 2026-02-02 02:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:56:06 --> ApiController initialized
DEBUG - 2026-02-02 02:56:06 --> ApiController initialized
DEBUG - 2026-02-02 02:56:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:56:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:56:36 --> ApiController initialized
DEBUG - 2026-02-02 02:56:36 --> ApiController initialized
DEBUG - 2026-02-02 02:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:57:06 --> ApiController initialized
DEBUG - 2026-02-02 02:57:06 --> ApiController initialized
DEBUG - 2026-02-02 02:57:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:57:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:57:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2026-02-02 02:57:10 --> ErrorException: Undefined variable $other_user_id
[Method: GET, Route: chat/direct/4]
in APPPATH\Views\chat\direct_chat.php on line 2800.
 1 APPPATH\Views\chat\direct_chat.php(2800): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined variable $other_user_id', 'C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php', 2800)
 2 SYSTEMPATH\View\View.php(224): include('C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php')
 3 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('chat/direct_chat', [], true)
 5 APPPATH\Controllers\Chat.php(84): view('chat/direct_chat', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Chat->directChat('4')
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Chat))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 02:57:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2026-02-02 02:57:25 --> ErrorException: Undefined variable $current_user_id
[Method: GET, Route: chat/direct/4]
in APPPATH\Views\chat\direct_chat.php on line 2798.
 1 APPPATH\Views\chat\direct_chat.php(2798): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined variable $current_user_id', 'C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php', 2798)
 2 SYSTEMPATH\View\View.php(224): include('C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php')
 3 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('chat/direct_chat', [], true)
 5 APPPATH\Controllers\Chat.php(84): view('chat/direct_chat', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Chat->directChat('4')
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Chat))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 02:57:35 --> ApiController initialized
DEBUG - 2026-02-02 02:57:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:57:35 --> ApiController initialized
DEBUG - 2026-02-02 02:57:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:58:05 --> ApiController initialized
DEBUG - 2026-02-02 02:58:05 --> ApiController initialized
DEBUG - 2026-02-02 02:58:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:58:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:58:35 --> ApiController initialized
DEBUG - 2026-02-02 02:58:35 --> ApiController initialized
DEBUG - 2026-02-02 02:58:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:58:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:06 --> ApiController initialized
DEBUG - 2026-02-02 02:59:06 --> ApiController initialized
DEBUG - 2026-02-02 02:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> Groups data: []
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> ApiController initialized
DEBUG - 2026-02-02 02:59:17 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:17 --> Groups data: []
DEBUG - 2026-02-02 02:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:18 --> ApiController initialized
DEBUG - 2026-02-02 02:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:18 --> ApiController initialized
DEBUG - 2026-02-02 02:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:59:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:59:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:59:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:59:18"}}
ERROR - 2026-02-02 02:59:18 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:18 --> Found 4 direct messages
DEBUG - 2026-02-02 02:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:18 --> ApiController initialized
DEBUG - 2026-02-02 02:59:18 --> ApiController initialized
DEBUG - 2026-02-02 02:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:18 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:59:18 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:59:18 --> Updated existing message status for message 109
DEBUG - 2026-02-02 02:59:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:18"}}
ERROR - 2026-02-02 02:59:18 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:18 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:18 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:59:18 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:59:18 --> Updated existing message status for message 108
DEBUG - 2026-02-02 02:59:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:18"}}
ERROR - 2026-02-02 02:59:18 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:18 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:59:36 --> ApiController initialized
DEBUG - 2026-02-02 02:59:36 --> ApiController initialized
DEBUG - 2026-02-02 02:59:36 --> ApiController initialized
DEBUG - 2026-02-02 02:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:59:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:59:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:59:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:59:36"}}
DEBUG - 2026-02-02 02:59:37 --> ApiController initialized
DEBUG - 2026-02-02 02:59:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:37 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:59:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:59:37 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:59:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:59:37"}}
ERROR - 2026-02-02 02:59:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:37 --> Found 4 direct messages
ERROR - 2026-02-02 02:59:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:37 --> Found 4 direct messages
DEBUG - 2026-02-02 02:59:37 --> ApiController initialized
DEBUG - 2026-02-02 02:59:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:37 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:59:37 --> ApiController initialized
DEBUG - 2026-02-02 02:59:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:37 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 02:59:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:59:37 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:59:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:59:37"}}
ERROR - 2026-02-02 02:59:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:37 --> Found 4 direct messages
DEBUG - 2026-02-02 02:59:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:59:37 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 02:59:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 02:59:37"}}
ERROR - 2026-02-02 02:59:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:37 --> Found 4 direct messages
DEBUG - 2026-02-02 02:59:38 --> ApiController initialized
DEBUG - 2026-02-02 02:59:38 --> ApiController initialized
DEBUG - 2026-02-02 02:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:38 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:59:38 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:59:38 --> Updated existing message status for message 110
DEBUG - 2026-02-02 02:59:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:38"}}
ERROR - 2026-02-02 02:59:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:38 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 02:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:38 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:59:38 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:59:38 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:59:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:38"}}
ERROR - 2026-02-02 02:59:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:38 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:59:38 --> ApiController initialized
DEBUG - 2026-02-02 02:59:38 --> ApiController initialized
DEBUG - 2026-02-02 02:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:38 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:59:38 --> Updated is_read column for message 108
DEBUG - 2026-02-02 02:59:38 --> Updated existing message status for message 108
DEBUG - 2026-02-02 02:59:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:38"}}
ERROR - 2026-02-02 02:59:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:38 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 02:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:38 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 02:59:38 --> Updated is_read column for message 109
DEBUG - 2026-02-02 02:59:38 --> Updated existing message status for message 109
DEBUG - 2026-02-02 02:59:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:38"}}
ERROR - 2026-02-02 02:59:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:38 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 02:59:47 --> ApiController initialized
DEBUG - 2026-02-02 02:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:47 --> ApiController initialized
DEBUG - 2026-02-02 02:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Groups data: []
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 02:59:58 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 02:59:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 02:59:58"}}
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
ERROR - 2026-02-02 02:59:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:58 --> Found 4 direct messages
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Groups data: []
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> ApiController initialized
DEBUG - 2026-02-02 02:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:58 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:59:59 --> Updated is_read column for message 107
DEBUG - 2026-02-02 02:59:59 --> Updated existing message status for message 107
DEBUG - 2026-02-02 02:59:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:59"}}
ERROR - 2026-02-02 02:59:59 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:59 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 02:59:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 02:59:59 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 02:59:59 --> Updated is_read column for message 110
DEBUG - 2026-02-02 02:59:59 --> Updated existing message status for message 110
DEBUG - 2026-02-02 02:59:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 02:59:59"}}
ERROR - 2026-02-02 02:59:59 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 02:59:59 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:00:17 --> ApiController initialized
DEBUG - 2026-02-02 03:00:17 --> ApiController initialized
DEBUG - 2026-02-02 03:00:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:28 --> ApiController initialized
DEBUG - 2026-02-02 03:00:28 --> ApiController initialized
DEBUG - 2026-02-02 03:00:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:48 --> ApiController initialized
DEBUG - 2026-02-02 03:00:48 --> ApiController initialized
DEBUG - 2026-02-02 03:00:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:58 --> ApiController initialized
DEBUG - 2026-02-02 03:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:58 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:00:58 --> ApiController initialized
DEBUG - 2026-02-02 03:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:00:58 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:00:58 --> ApiController initialized
DEBUG - 2026-02-02 03:00:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:00:58 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:00:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:00:58"}}
DEBUG - 2026-02-02 03:00:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:00:58 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:00:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:00:58"}}
DEBUG - 2026-02-02 03:00:58 --> ApiController initialized
ERROR - 2026-02-02 03:01:00 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
ERROR - 2026-02-02 03:01:00 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:00 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:00 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:01 --> ApiController initialized
DEBUG - 2026-02-02 03:01:01 --> ApiController initialized
DEBUG - 2026-02-02 03:01:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:01 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:01 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:01 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:01:01 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:01:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:01"}}
DEBUG - 2026-02-02 03:01:01 --> ApiController initialized
DEBUG - 2026-02-02 03:01:01 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:01 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:01"}}
DEBUG - 2026-02-02 03:01:01 --> ApiController initialized
ERROR - 2026-02-02 03:01:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
ERROR - 2026-02-02 03:01:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2273 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:03 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:01:03 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:03 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:03 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:01:03 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:03 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:01:03 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:01:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:03"}}
DEBUG - 2026-02-02 03:01:03 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:03"}}
ERROR - 2026-02-02 03:01:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
ERROR - 2026-02-02 03:01:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:05 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:01:05 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:01:08 --> ApiController initialized
DEBUG - 2026-02-02 03:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:08 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:01:08 --> ApiController initialized
DEBUG - 2026-02-02 03:01:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:08 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:01:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:01:08"}}
DEBUG - 2026-02-02 03:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:01:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:01:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:01:08"}}
ERROR - 2026-02-02 03:01:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
ERROR - 2026-02-02 03:01:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:10 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:10 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:11 --> ApiController initialized
DEBUG - 2026-02-02 03:01:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:11 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:11 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:01:11 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:01:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:11"}}
DEBUG - 2026-02-02 03:01:11 --> ApiController initialized
DEBUG - 2026-02-02 03:01:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:11 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:11 --> ApiController initialized
DEBUG - 2026-02-02 03:01:11 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:11 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:11"}}
DEBUG - 2026-02-02 03:01:11 --> ApiController initialized
ERROR - 2026-02-02 03:01:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:13 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:13 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:13 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:01:13 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:01:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:13"}}
ERROR - 2026-02-02 03:01:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2271 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:13 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:13 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:13 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:01:13 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:13"}}
ERROR - 2026-02-02 03:01:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2237 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:15 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:01:16 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:16 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:01:18 --> ApiController initialized
DEBUG - 2026-02-02 03:01:18 --> ApiController initialized
DEBUG - 2026-02-02 03:01:18 --> ApiController initialized
DEBUG - 2026-02-02 03:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:18 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:01:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:01:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:01:18"}}
DEBUG - 2026-02-02 03:01:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:18 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:01:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:01:18"}}
DEBUG - 2026-02-02 03:01:18 --> ApiController initialized
ERROR - 2026-02-02 03:01:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:20 --> Found 4 direct messages
ERROR - 2026-02-02 03:01:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:20 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:21 --> ApiController initialized
DEBUG - 2026-02-02 03:01:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:21 --> ApiController initialized
DEBUG - 2026-02-02 03:01:21 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:21 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:21 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:21"}}
DEBUG - 2026-02-02 03:01:21 --> ApiController initialized
DEBUG - 2026-02-02 03:01:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:21 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:21 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:01:21 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:01:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:21"}}
DEBUG - 2026-02-02 03:01:21 --> ApiController initialized
ERROR - 2026-02-02 03:01:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:23 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:23 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:23 --> Updated is_read column for message 110
ERROR - 2026-02-02 03:01:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:23 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:01:23 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:23"}}
DEBUG - 2026-02-02 03:01:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:01:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:01:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:23"}}
ERROR - 2026-02-02 03:01:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:25 --> Found 1 users who have seen message 110
ERROR - 2026-02-02 03:01:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:25 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:01:28 --> ApiController initialized
DEBUG - 2026-02-02 03:01:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:28 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:01:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:28 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:01:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:01:28"}}
DEBUG - 2026-02-02 03:01:28 --> ApiController initialized
DEBUG - 2026-02-02 03:01:28 --> ApiController initialized
ERROR - 2026-02-02 03:01:30 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:30 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:31 --> ApiController initialized
DEBUG - 2026-02-02 03:01:31 --> ApiController initialized
DEBUG - 2026-02-02 03:01:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:31 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:31 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:31 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:31"}}
ERROR - 2026-02-02 03:01:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2233 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:33 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:33 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:33 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:01:33 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:33"}}
ERROR - 2026-02-02 03:01:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:01:36 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:01:36 --> ApiController initialized
DEBUG - 2026-02-02 03:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:36 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:01:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:36 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:01:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:01:36"}}
ERROR - 2026-02-02 03:01:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:36 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:38 --> ApiController initialized
DEBUG - 2026-02-02 03:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:38 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:01:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:38 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:01:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:01:38"}}
ERROR - 2026-02-02 03:01:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:38 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:39 --> ApiController initialized
DEBUG - 2026-02-02 03:01:39 --> ApiController initialized
DEBUG - 2026-02-02 03:01:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:39 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:39 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:39 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:39"}}
ERROR - 2026-02-02 03:01:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:39 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:39 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:39 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:01:39 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:39"}}
ERROR - 2026-02-02 03:01:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:39 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:01:40 --> ApiController initialized
DEBUG - 2026-02-02 03:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:01:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:01:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:01:40"}}
ERROR - 2026-02-02 03:01:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:40 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:40 --> ApiController initialized
DEBUG - 2026-02-02 03:01:40 --> ApiController initialized
DEBUG - 2026-02-02 03:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:40 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:41 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:01:41 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:41"}}
ERROR - 2026-02-02 03:01:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:41 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:01:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:41 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:41 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:41 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:41"}}
ERROR - 2026-02-02 03:01:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:41 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:43 --> ApiController initialized
DEBUG - 2026-02-02 03:01:43 --> ApiController initialized
DEBUG - 2026-02-02 03:01:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:01:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:01:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:43"}}
ERROR - 2026-02-02 03:01:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:43 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:01:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:43 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:43 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:01:43 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:01:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:43"}}
ERROR - 2026-02-02 03:01:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:43 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> Groups data: []
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:01:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:44 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:01:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:01:44"}}
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
ERROR - 2026-02-02 03:01:44 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:44 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> ApiController initialized
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:44 --> Groups data: []
DEBUG - 2026-02-02 03:01:45 --> ApiController initialized
DEBUG - 2026-02-02 03:01:45 --> ApiController initialized
DEBUG - 2026-02-02 03:01:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:45 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:45 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:01:45 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:01:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:45"}}
ERROR - 2026-02-02 03:01:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:45 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:01:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:45 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:01:45 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:01:45 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:01:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:45"}}
ERROR - 2026-02-02 03:01:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:45 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:47 --> Groups data: []
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:47 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:01:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:01:48 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:01:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:01:48"}}
ERROR - 2026-02-02 03:01:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:48 --> Found 4 direct messages
DEBUG - 2026-02-02 03:01:48 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> Groups data: []
DEBUG - 2026-02-02 03:01:48 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> ApiController initialized
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> Marking message 107 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:48 --> Updated is_read column for message 107
DEBUG - 2026-02-02 03:01:48 --> Updated existing message status for message 107
DEBUG - 2026-02-02 03:01:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"107","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:48"}}
ERROR - 2026-02-02 03:01:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:48 --> Found 1 users who have seen message 107
DEBUG - 2026-02-02 03:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:01:48 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:01:48 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:01:48 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:01:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:01:48"}}
ERROR - 2026-02-02 03:01:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:01:48 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Groups data: []
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:02:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:02:11 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:02:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:02:11"}}
ERROR - 2026-02-02 03:02:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:11 --> Found 4 direct messages
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Groups data: []
DEBUG - 2026-02-02 03:02:11 --> ApiController initialized
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:11 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:12 --> ApiController initialized
DEBUG - 2026-02-02 03:02:12 --> ApiController initialized
DEBUG - 2026-02-02 03:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:12 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:12 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:02:12 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:02:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:12"}}
ERROR - 2026-02-02 03:02:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:12 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:12 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:12 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:02:12 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:02:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:12"}}
ERROR - 2026-02-02 03:02:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:12 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:13 --> ApiController initialized
DEBUG - 2026-02-02 03:02:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:13 --> ApiController initialized
DEBUG - 2026-02-02 03:02:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:02:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:13 --> ApiController initialized
DEBUG - 2026-02-02 03:02:13 --> ApiController initialized
DEBUG - 2026-02-02 03:02:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:13 --> Groups data: []
DEBUG - 2026-02-02 03:02:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:13 --> ApiController initialized
DEBUG - 2026-02-02 03:02:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:13 --> ApiController initialized
DEBUG - 2026-02-02 03:02:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> ApiController initialized
DEBUG - 2026-02-02 03:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:02:14 --> ApiController initialized
DEBUG - 2026-02-02 03:02:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:02:14 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:02:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:02:14"}}
ERROR - 2026-02-02 03:02:14 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:14 --> Found 4 direct messages
DEBUG - 2026-02-02 03:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> ApiController initialized
DEBUG - 2026-02-02 03:02:14 --> ApiController initialized
DEBUG - 2026-02-02 03:02:14 --> ApiController initialized
DEBUG - 2026-02-02 03:02:14 --> ApiController initialized
DEBUG - 2026-02-02 03:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"110","sender_id":"1","receiver_id":"4","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 10:26:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> Groups data: []
DEBUG - 2026-02-02 03:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:14 --> Marking message 110 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:02:14 --> Updated is_read column for message 110
DEBUG - 2026-02-02 03:02:14 --> Updated existing message status for message 110
DEBUG - 2026-02-02 03:02:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"110","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:14"}}
ERROR - 2026-02-02 03:02:14 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:14 --> Found 1 users who have seen message 110
DEBUG - 2026-02-02 03:02:20 --> ApiController initialized
DEBUG - 2026-02-02 03:02:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:20 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryinF8TU08hezwq5AS
DEBUG - 2026-02-02 03:02:20 --> Processing form data
DEBUG - 2026-02-02 03:02:20 --> POST data: {"content":"try","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 03:02:20 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 03:02:20 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 03:02:20 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 11:02:20","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 03:02:20 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 03:02:20 --> Message saved successfully with ID: 111
DEBUG - 2026-02-02 03:02:20 --> Sending message to socket server: {"event":"new_message","data":{"id":111,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 03:02:20","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 03:02:20 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:26 --> ApiController initialized
DEBUG - 2026-02-02 03:02:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:26 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryIao6U7phVf7jEqhA
DEBUG - 2026-02-02 03:02:26 --> Processing form data
DEBUG - 2026-02-02 03:02:26 --> POST data: {"content":"try","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 03:02:26 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 03:02:26 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 03:02:26 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 11:02:26","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 03:02:26 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 03:02:26 --> Message saved successfully with ID: 112
DEBUG - 2026-02-02 03:02:26 --> Sending message to socket server: {"event":"new_message","data":{"id":112,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 03:02:26","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 03:02:26 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"112","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:02:26","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> Groups data: []
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:02:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:02:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:02:32"}}
ERROR - 2026-02-02 03:02:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:32 --> Found 6 direct messages
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"112","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:02:26","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:32 --> ApiController initialized
DEBUG - 2026-02-02 03:02:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:33 --> Groups data: []
DEBUG - 2026-02-02 03:02:33 --> ApiController initialized
DEBUG - 2026-02-02 03:02:33 --> ApiController initialized
DEBUG - 2026-02-02 03:02:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:02:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:02:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:33"}}
ERROR - 2026-02-02 03:02:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:33 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:02:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:33 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:33 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:02:33 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:02:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:33"}}
ERROR - 2026-02-02 03:02:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:02:33 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:02:42 --> ApiController initialized
DEBUG - 2026-02-02 03:02:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:42 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:02:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:02:42 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:02:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:02:42"}}
ERROR - 2026-02-02 03:02:44 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:02:44 --> Found 6 direct messages
DEBUG - 2026-02-02 03:02:44 --> ApiController initialized
DEBUG - 2026-02-02 03:02:44 --> ApiController initialized
DEBUG - 2026-02-02 03:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:44 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:45 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:02:45 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:02:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:45"}}
ERROR - 2026-02-02 03:02:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:02:47 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:47 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:47 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:02:47 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:02:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:47"}}
ERROR - 2026-02-02 03:02:49 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2268 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:02:49 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:02:53 --> ApiController initialized
DEBUG - 2026-02-02 03:02:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:53 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:02:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:02:53 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:02:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:02:53"}}
ERROR - 2026-02-02 03:02:55 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:02:55 --> Found 6 direct messages
DEBUG - 2026-02-02 03:02:56 --> ApiController initialized
DEBUG - 2026-02-02 03:02:56 --> ApiController initialized
DEBUG - 2026-02-02 03:02:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:56 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:56 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:02:56 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:02:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:56"}}
ERROR - 2026-02-02 03:02:58 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:02:58 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:02:58 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:02:58 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:02:58 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:02:58"}}
ERROR - 2026-02-02 03:03:00 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:00 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:03 --> ApiController initialized
DEBUG - 2026-02-02 03:03:03 --> ApiController initialized
DEBUG - 2026-02-02 03:03:03 --> ApiController initialized
DEBUG - 2026-02-02 03:03:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:03 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:03:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:03:03 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:03:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:03:03"}}
ERROR - 2026-02-02 03:03:05 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:05 --> Found 6 direct messages
DEBUG - 2026-02-02 03:03:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:06 --> ApiController initialized
DEBUG - 2026-02-02 03:03:06 --> ApiController initialized
DEBUG - 2026-02-02 03:03:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:06 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:06 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:03:06 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:03:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:06"}}
ERROR - 2026-02-02 03:03:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:08 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:03:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:08 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:08 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:03:08 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:03:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:08"}}
ERROR - 2026-02-02 03:03:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:10 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:13 --> ApiController initialized
DEBUG - 2026-02-02 03:03:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:13 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:03:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:03:13 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:03:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:03:13"}}
ERROR - 2026-02-02 03:03:15 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:15 --> Found 6 direct messages
DEBUG - 2026-02-02 03:03:16 --> ApiController initialized
DEBUG - 2026-02-02 03:03:16 --> ApiController initialized
DEBUG - 2026-02-02 03:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:16 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:16 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:03:16 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:03:16 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:16"}}
ERROR - 2026-02-02 03:03:18 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:18 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:03:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:18 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:18 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:03:18 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:03:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:18"}}
ERROR - 2026-02-02 03:03:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:20 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:23 --> ApiController initialized
DEBUG - 2026-02-02 03:03:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:23 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:03:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:03:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:03:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:03:23"}}
ERROR - 2026-02-02 03:03:25 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:25 --> Found 6 direct messages
DEBUG - 2026-02-02 03:03:26 --> ApiController initialized
DEBUG - 2026-02-02 03:03:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:26 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:26 --> ApiController initialized
DEBUG - 2026-02-02 03:03:26 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:03:26 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:03:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:26"}}
ERROR - 2026-02-02 03:03:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:28 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:03:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:28 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:28 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:03:28 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:03:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:28"}}
ERROR - 2026-02-02 03:03:30 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:30 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:33 --> ApiController initialized
DEBUG - 2026-02-02 03:03:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:33 --> ApiController initialized
DEBUG - 2026-02-02 03:03:33 --> ApiController initialized
DEBUG - 2026-02-02 03:03:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:33 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:03:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:03:33 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:03:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:03:33"}}
ERROR - 2026-02-02 03:03:35 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2242 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:35 --> Found 6 direct messages
DEBUG - 2026-02-02 03:03:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:36 --> ApiController initialized
DEBUG - 2026-02-02 03:03:36 --> ApiController initialized
DEBUG - 2026-02-02 03:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:36 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:36 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:03:36 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:03:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:36"}}
ERROR - 2026-02-02 03:03:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:38 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:03:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:38 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:38 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:03:38 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:03:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:38"}}
ERROR - 2026-02-02 03:03:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:40 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:43 --> ApiController initialized
DEBUG - 2026-02-02 03:03:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:43 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:03:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:03:43 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:03:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:03:43"}}
ERROR - 2026-02-02 03:03:45 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:45 --> Found 6 direct messages
DEBUG - 2026-02-02 03:03:46 --> ApiController initialized
DEBUG - 2026-02-02 03:03:46 --> ApiController initialized
DEBUG - 2026-02-02 03:03:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:46 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:46 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:03:46 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:03:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:46"}}
ERROR - 2026-02-02 03:03:48 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:48 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:48 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:48 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:03:48 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:03:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:48"}}
ERROR - 2026-02-02 03:03:50 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2242 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:50 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:03:53 --> ApiController initialized
DEBUG - 2026-02-02 03:03:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:53 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:03:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:03:53 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:03:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:03:53"}}
ERROR - 2026-02-02 03:03:55 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:55 --> Found 6 direct messages
DEBUG - 2026-02-02 03:03:56 --> ApiController initialized
DEBUG - 2026-02-02 03:03:56 --> ApiController initialized
DEBUG - 2026-02-02 03:03:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:56 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:56 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:03:56 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:03:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:56"}}
ERROR - 2026-02-02 03:03:58 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:03:58 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:03:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:03:58 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:03:58 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:03:58 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:03:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:03:58"}}
ERROR - 2026-02-02 03:04:00 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:00 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:03 --> ApiController initialized
DEBUG - 2026-02-02 03:04:03 --> ApiController initialized
DEBUG - 2026-02-02 03:04:03 --> ApiController initialized
DEBUG - 2026-02-02 03:04:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:03 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:04:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:04:03 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:04:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:04:03"}}
ERROR - 2026-02-02 03:04:05 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:05 --> Found 6 direct messages
DEBUG - 2026-02-02 03:04:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:06 --> ApiController initialized
DEBUG - 2026-02-02 03:04:06 --> ApiController initialized
DEBUG - 2026-02-02 03:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:06 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:06 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:04:06 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:04:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:06"}}
ERROR - 2026-02-02 03:04:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:08 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:08 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:08 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:04:08 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:04:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:08"}}
ERROR - 2026-02-02 03:04:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:10 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:04:13 --> ApiController initialized
DEBUG - 2026-02-02 03:04:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:13 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:04:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:04:13 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:04:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:04:13"}}
ERROR - 2026-02-02 03:04:15 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2235 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:15 --> Found 6 direct messages
DEBUG - 2026-02-02 03:04:16 --> ApiController initialized
DEBUG - 2026-02-02 03:04:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:16 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:16 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:04:16 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:04:16 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:16"}}
DEBUG - 2026-02-02 03:04:16 --> ApiController initialized
ERROR - 2026-02-02 03:04:18 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:18 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:18 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:18 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:04:18 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:04:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:18"}}
ERROR - 2026-02-02 03:04:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2268 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:20 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:23 --> ApiController initialized
DEBUG - 2026-02-02 03:04:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:23 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:04:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:04:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:04:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:04:23"}}
ERROR - 2026-02-02 03:04:25 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:25 --> Found 6 direct messages
DEBUG - 2026-02-02 03:04:26 --> ApiController initialized
DEBUG - 2026-02-02 03:04:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:26 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:26 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:04:26 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:04:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:26"}}
DEBUG - 2026-02-02 03:04:26 --> ApiController initialized
ERROR - 2026-02-02 03:04:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:28 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:04:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:28 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:28 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:04:28 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:04:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:28"}}
ERROR - 2026-02-02 03:04:30 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:30 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:33 --> ApiController initialized
DEBUG - 2026-02-02 03:04:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:33 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:04:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:04:33 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:04:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:04:33"}}
DEBUG - 2026-02-02 03:04:33 --> ApiController initialized
DEBUG - 2026-02-02 03:04:33 --> ApiController initialized
ERROR - 2026-02-02 03:04:35 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:35 --> Found 6 direct messages
DEBUG - 2026-02-02 03:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:36 --> ApiController initialized
DEBUG - 2026-02-02 03:04:36 --> ApiController initialized
DEBUG - 2026-02-02 03:04:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:36 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:36 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:04:36 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:04:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:36"}}
ERROR - 2026-02-02 03:04:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:38 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:04:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:38 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:38 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:04:38 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:04:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:38"}}
ERROR - 2026-02-02 03:04:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:40 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:43 --> ApiController initialized
DEBUG - 2026-02-02 03:04:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:43 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:04:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:04:43 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:04:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:04:43"}}
ERROR - 2026-02-02 03:04:45 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:45 --> Found 6 direct messages
DEBUG - 2026-02-02 03:04:46 --> ApiController initialized
DEBUG - 2026-02-02 03:04:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:46 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:46 --> ApiController initialized
DEBUG - 2026-02-02 03:04:46 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:04:46 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:04:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:46"}}
ERROR - 2026-02-02 03:04:48 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:48 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:04:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:48 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:48 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:04:48 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:04:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:48"}}
ERROR - 2026-02-02 03:04:50 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:50 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:53 --> ApiController initialized
DEBUG - 2026-02-02 03:04:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:53 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:04:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:04:53 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:04:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:04:53"}}
ERROR - 2026-02-02 03:04:55 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:55 --> Found 6 direct messages
DEBUG - 2026-02-02 03:04:55 --> ApiController initialized
DEBUG - 2026-02-02 03:04:55 --> ApiController initialized
DEBUG - 2026-02-02 03:04:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:55 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:55 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:04:55 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:04:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:55"}}
ERROR - 2026-02-02 03:04:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:04:57 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:04:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:04:57 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:04:58 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:04:58 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:04:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:04:58"}}
ERROR - 2026-02-02 03:05:00 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:05:00 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"112","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:02:26","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> Groups data: []
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"112","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:02:26","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> ApiController initialized
DEBUG - 2026-02-02 03:05:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:00 --> Groups data: []
DEBUG - 2026-02-02 03:05:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:01 --> ApiController initialized
DEBUG - 2026-02-02 03:05:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:01 --> ApiController initialized
DEBUG - 2026-02-02 03:05:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:01 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:05:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:05:01 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:05:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:05:01"}}
ERROR - 2026-02-02 03:05:01 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:01 --> Found 6 direct messages
DEBUG - 2026-02-02 03:05:02 --> ApiController initialized
DEBUG - 2026-02-02 03:05:02 --> ApiController initialized
DEBUG - 2026-02-02 03:05:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:02 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:05:02 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:05:02 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:05:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:05:02"}}
ERROR - 2026-02-02 03:05:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:02 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:05:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:02 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:05:02 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:05:02 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:05:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:05:02"}}
ERROR - 2026-02-02 03:05:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:02 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:05:04 --> ApiController initialized
DEBUG - 2026-02-02 03:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarysJrB9TfdBzbPUE90
DEBUG - 2026-02-02 03:05:04 --> Processing form data
DEBUG - 2026-02-02 03:05:04 --> POST data: {"content":"try","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 03:05:04 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 03:05:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 03:05:04 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 11:05:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 03:05:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 03:05:04 --> Message saved successfully with ID: 113
DEBUG - 2026-02-02 03:05:04 --> Sending message to socket server: {"event":"new_message","data":{"id":113,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 03:05:04","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 03:05:04 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:07 --> ApiController initialized
DEBUG - 2026-02-02 03:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:07 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryL6F9BzTWc4D51f3c
DEBUG - 2026-02-02 03:05:07 --> Processing form data
DEBUG - 2026-02-02 03:05:07 --> POST data: {"content":"try","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 03:05:07 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 03:05:07 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 03:05:07 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 11:05:07","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 03:05:07 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 03:05:07 --> Message saved successfully with ID: 114
DEBUG - 2026-02-02 03:05:07 --> Sending message to socket server: {"event":"new_message","data":{"id":114,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 03:05:07","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 03:05:07 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:20 --> ApiController initialized
DEBUG - 2026-02-02 03:05:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:05:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:05:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:05:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:05:20"}}
ERROR - 2026-02-02 03:05:20 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:20 --> Found 8 direct messages
DEBUG - 2026-02-02 03:05:20 --> ApiController initialized
DEBUG - 2026-02-02 03:05:20 --> ApiController initialized
DEBUG - 2026-02-02 03:05:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:20 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:05:20 --> Updated is_read column for message 108
DEBUG - 2026-02-02 03:05:20 --> Updated existing message status for message 108
DEBUG - 2026-02-02 03:05:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:05:20"}}
ERROR - 2026-02-02 03:05:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:20 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 03:05:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:20 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:05:20 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:05:20 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:05:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:05:20"}}
ERROR - 2026-02-02 03:05:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:20 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:05:23 --> ApiController initialized
DEBUG - 2026-02-02 03:05:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:23 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryQMERTlLkQf7ZlU5Y
DEBUG - 2026-02-02 03:05:23 --> Processing form data
DEBUG - 2026-02-02 03:05:23 --> POST data: {"content":"try","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 03:05:23 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 03:05:23 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 03:05:23 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 11:05:23","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 03:05:23 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 03:05:23 --> Message saved successfully with ID: 115
DEBUG - 2026-02-02 03:05:23 --> Sending message to socket server: {"event":"new_message","data":{"id":115,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 03:05:23","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 03:05:23 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:05:31 --> ApiController initialized
DEBUG - 2026-02-02 03:05:31 --> ApiController initialized
DEBUG - 2026-02-02 03:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:06:01 --> ApiController initialized
DEBUG - 2026-02-02 03:06:01 --> ApiController initialized
DEBUG - 2026-02-02 03:06:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:06:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:06:31 --> ApiController initialized
DEBUG - 2026-02-02 03:06:31 --> ApiController initialized
DEBUG - 2026-02-02 03:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:07:01 --> ApiController initialized
DEBUG - 2026-02-02 03:07:01 --> ApiController initialized
DEBUG - 2026-02-02 03:07:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:07:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:07:31 --> ApiController initialized
DEBUG - 2026-02-02 03:07:31 --> ApiController initialized
DEBUG - 2026-02-02 03:07:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:07:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:01 --> ApiController initialized
DEBUG - 2026-02-02 03:08:01 --> ApiController initialized
DEBUG - 2026-02-02 03:08:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:31 --> ApiController initialized
DEBUG - 2026-02-02 03:08:31 --> ApiController initialized
DEBUG - 2026-02-02 03:08:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:41 --> ApiController initialized
DEBUG - 2026-02-02 03:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:41 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:08:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:08:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:08:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:08:41"}}
ERROR - 2026-02-02 03:08:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:08:43 --> Found 9 direct messages
DEBUG - 2026-02-02 03:08:44 --> ApiController initialized
DEBUG - 2026-02-02 03:08:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:44 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:08:44 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:08:44 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:08:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:08:44"}}
ERROR - 2026-02-02 03:08:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:08:46 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:08:51 --> ApiController initialized
DEBUG - 2026-02-02 03:08:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:08:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:08:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:08:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:08:51"}}
ERROR - 2026-02-02 03:08:51 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:08:51 --> Found 9 direct messages
DEBUG - 2026-02-02 03:08:51 --> ApiController initialized
DEBUG - 2026-02-02 03:08:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:51 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:08:51 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:08:51 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:08:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:08:51"}}
ERROR - 2026-02-02 03:08:51 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:08:51 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"115","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:05:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:50:41","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 01:50:41","last_message":{"id":"115","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:05:23","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> Groups data: []
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> Groups data: []
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> ApiController initialized
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:55 --> ApiController initialized
DEBUG - 2026-02-02 03:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:55 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:08:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:08:55 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:08:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:08:55"}}
ERROR - 2026-02-02 03:08:55 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:08:55 --> Found 9 direct messages
DEBUG - 2026-02-02 03:08:55 --> ApiController initialized
DEBUG - 2026-02-02 03:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:55 --> ApiController initialized
DEBUG - 2026-02-02 03:08:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:55 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:08:55 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:08:55 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:08:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:08:55"}}
ERROR - 2026-02-02 03:08:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:08:55 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:08:56 --> ApiController initialized
DEBUG - 2026-02-02 03:08:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:08:56 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarykq7WjWl8EJCLDopU
DEBUG - 2026-02-02 03:08:56 --> Processing form data
DEBUG - 2026-02-02 03:08:56 --> POST data: {"content":"try","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 03:08:56 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 03:08:56 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 03:08:56 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 11:08:56","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 03:08:56 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 03:08:56 --> Message saved successfully with ID: 116
DEBUG - 2026-02-02 03:08:56 --> Sending message to socket server: {"event":"new_message","data":{"id":116,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-02-02 03:08:56","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 03:08:56 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:24 --> ApiController initialized
DEBUG - 2026-02-02 03:09:24 --> ApiController initialized
DEBUG - 2026-02-02 03:09:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:30 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 03:09:30 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 03:09:30 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 03:09:30 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 03:09:30 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 03:09:30 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 03:09:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> ApiController initialized
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> ApiController initialized
DEBUG - 2026-02-02 03:09:34 --> ApiController initialized
DEBUG - 2026-02-02 03:09:34 --> ApiController initialized
DEBUG - 2026-02-02 03:09:34 --> ApiController initialized
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> Groups data: []
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":6,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:34 --> ApiController initialized
DEBUG - 2026-02-02 03:09:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:37 --> ApiController initialized
DEBUG - 2026-02-02 03:09:37 --> ApiController initialized
DEBUG - 2026-02-02 03:09:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":6,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:09:37 --> ApiController initialized
DEBUG - 2026-02-02 03:09:37 --> ApiController initialized
DEBUG - 2026-02-02 03:09:37 --> ApiController initialized
DEBUG - 2026-02-02 03:09:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:37 --> Groups data: []
DEBUG - 2026-02-02 03:09:37 --> ApiController initialized
DEBUG - 2026-02-02 03:09:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:09:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:09:38 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 10 direct messages
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Groups data: []
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:09:38 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:09:38 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:09:38 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:09:38 --> ApiController initialized
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:09:38 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:09:38 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:09:38 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:09:38 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:09:38 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:09:38 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:09:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:09:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:09:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:38"}}
ERROR - 2026-02-02 03:09:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:38 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Groups data: []
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:09:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:09:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:09:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:09:41"}}
ERROR - 2026-02-02 03:09:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:41 --> Found 10 direct messages
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Groups data: []
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:09:41 --> ApiController initialized
DEBUG - 2026-02-02 03:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:09:41 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:09:41 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:09:41 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:09:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:09:41"}}
ERROR - 2026-02-02 03:09:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:09:41 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:10:07 --> ApiController initialized
DEBUG - 2026-02-02 03:10:07 --> ApiController initialized
DEBUG - 2026-02-02 03:10:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:11 --> ApiController initialized
DEBUG - 2026-02-02 03:10:11 --> ApiController initialized
DEBUG - 2026-02-02 03:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:37 --> ApiController initialized
DEBUG - 2026-02-02 03:10:37 --> ApiController initialized
DEBUG - 2026-02-02 03:10:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:42 --> ApiController initialized
DEBUG - 2026-02-02 03:10:42 --> ApiController initialized
DEBUG - 2026-02-02 03:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:07 --> ApiController initialized
DEBUG - 2026-02-02 03:11:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:07 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:11:07 --> ApiController initialized
DEBUG - 2026-02-02 03:11:07 --> ApiController initialized
DEBUG - 2026-02-02 03:11:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:07 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:11:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:11:07"}}
ERROR - 2026-02-02 03:11:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:10 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:10 --> ApiController initialized
DEBUG - 2026-02-02 03:11:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:10 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:10 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:11:10 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:11:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:10"}}
DEBUG - 2026-02-02 03:11:10 --> ApiController initialized
DEBUG - 2026-02-02 03:11:10 --> ApiController initialized
DEBUG - 2026-02-02 03:11:10 --> ApiController initialized
DEBUG - 2026-02-02 03:11:10 --> ApiController initialized
DEBUG - 2026-02-02 03:11:10 --> ApiController initialized
DEBUG - 2026-02-02 03:11:12 --> ApiController initialized
DEBUG - 2026-02-02 03:11:12 --> ApiController initialized
DEBUG - 2026-02-02 03:11:12 --> ApiController initialized
DEBUG - 2026-02-02 03:11:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:12 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:11:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:12 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:11:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:11:12"}}
ERROR - 2026-02-02 03:11:12 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:12 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:11:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:12 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:12 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:11:12 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:11:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:12"}}
ERROR - 2026-02-02 03:11:14 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:14 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 03:11:14 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:14 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:14 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:14 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:11:14 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:11:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:14"}}
DEBUG - 2026-02-02 03:11:16 --> ApiController initialized
DEBUG - 2026-02-02 03:11:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:16 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:11:16 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:11:16 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:11:16 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:16"}}
ERROR - 2026-02-02 03:11:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:17 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:11:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:17 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:17 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:11:17 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:11:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:17"}}
DEBUG - 2026-02-02 03:11:17 --> ApiController initialized
ERROR - 2026-02-02 03:11:18 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:18 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:11:19 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:19 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:11:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:19 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:19 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:11:19 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:11:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:19"}}
ERROR - 2026-02-02 03:11:21 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:21 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:11:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:21 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:21 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:11:21 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:11:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:21"}}
DEBUG - 2026-02-02 03:11:22 --> ApiController initialized
DEBUG - 2026-02-02 03:11:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:22 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:11:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:22 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:11:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:11:22"}}
ERROR - 2026-02-02 03:11:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:24 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:11:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:24 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:11:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:24 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:11:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:11:24"}}
ERROR - 2026-02-02 03:11:24 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:24 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
DEBUG - 2026-02-02 03:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:26 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:11:26 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:11:26 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:11:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:26"}}
ERROR - 2026-02-02 03:11:26 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2271 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:26 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
DEBUG - 2026-02-02 03:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:26 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:26 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:11:26 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:11:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:26"}}
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
DEBUG - 2026-02-02 03:11:26 --> ApiController initialized
ERROR - 2026-02-02 03:11:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2229 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:28 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:11:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2226 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:28 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:11:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:28 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:28 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:11:28 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:11:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:28"}}
DEBUG - 2026-02-02 03:11:28 --> ApiController initialized
ERROR - 2026-02-02 03:11:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:31 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:31 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:31 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:11:31 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:11:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:31"}}
DEBUG - 2026-02-02 03:11:32 --> ApiController initialized
DEBUG - 2026-02-02 03:11:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:11:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:11:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:11:32"}}
ERROR - 2026-02-02 03:11:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2273 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:33 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:11:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:33 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:33 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:11:33 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:11:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:33"}}
ERROR - 2026-02-02 03:11:34 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:34 --> Found 10 direct messages
ERROR - 2026-02-02 03:11:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2271 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:35 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:35 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:35 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:11:35 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:11:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:35"}}
DEBUG - 2026-02-02 03:11:36 --> ApiController initialized
DEBUG - 2026-02-02 03:11:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:36 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:11:36 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:11:36 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:11:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:36"}}
DEBUG - 2026-02-02 03:11:37 --> ApiController initialized
DEBUG - 2026-02-02 03:11:37 --> ApiController initialized
ERROR - 2026-02-02 03:11:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:38 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:11:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:38 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:38 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:11:38 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:11:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:38"}}
ERROR - 2026-02-02 03:11:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:38 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:11:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2216 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:40 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:11:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:11:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:11:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:11:40"}}
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:42 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:11:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:42 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:11:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:11:42"}}
ERROR - 2026-02-02 03:11:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2235 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:11:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:11:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:11:42"}}
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
DEBUG - 2026-02-02 03:11:42 --> ApiController initialized
ERROR - 2026-02-02 03:11:44 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:44 --> Found 10 direct messages
ERROR - 2026-02-02 03:11:45 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:45 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:45 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:45 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:11:45 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:11:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:45"}}
DEBUG - 2026-02-02 03:11:45 --> ApiController initialized
DEBUG - 2026-02-02 03:11:46 --> ApiController initialized
DEBUG - 2026-02-02 03:11:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:46 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:11:46 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:11:46 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:11:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:46"}}
ERROR - 2026-02-02 03:11:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:47 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:11:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:47 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:47 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:11:47 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:11:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:47"}}
DEBUG - 2026-02-02 03:11:47 --> ApiController initialized
ERROR - 2026-02-02 03:11:48 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:48 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:11:49 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:49 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:11:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:49 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:49 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:11:49 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:11:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:49"}}
DEBUG - 2026-02-02 03:11:49 --> ApiController initialized
ERROR - 2026-02-02 03:11:51 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:51 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:11:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:52 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:52 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:11:52 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:11:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:52"}}
DEBUG - 2026-02-02 03:11:52 --> ApiController initialized
DEBUG - 2026-02-02 03:11:52 --> ApiController initialized
DEBUG - 2026-02-02 03:11:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:52 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:11:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:11:52 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:11:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:11:52"}}
ERROR - 2026-02-02 03:11:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:54 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:11:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:54 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:54 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:11:54 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:11:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:54"}}
DEBUG - 2026-02-02 03:11:54 --> ApiController initialized
ERROR - 2026-02-02 03:11:54 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2233 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:54 --> Found 10 direct messages
DEBUG - 2026-02-02 03:11:56 --> ApiController initialized
DEBUG - 2026-02-02 03:11:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:56 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:11:56 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:11:56 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:11:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:56"}}
ERROR - 2026-02-02 03:11:56 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:56 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:11:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:56 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:56 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:11:56 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:11:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:56"}}
DEBUG - 2026-02-02 03:11:56 --> ApiController initialized
ERROR - 2026-02-02 03:11:58 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:58 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:11:58 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:11:58 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:11:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:11:58 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:11:58 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:11:58 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:11:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:11:58"}}
DEBUG - 2026-02-02 03:11:59 --> ApiController initialized
ERROR - 2026-02-02 03:12:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:01 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:01 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:01 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:01 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:01"}}
DEBUG - 2026-02-02 03:12:01 --> ApiController initialized
DEBUG - 2026-02-02 03:12:02 --> ApiController initialized
DEBUG - 2026-02-02 03:12:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:02 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:02 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:02"}}
ERROR - 2026-02-02 03:12:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:03 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:03 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:03 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:03 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:03"}}
ERROR - 2026-02-02 03:12:04 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:04 --> Found 10 direct messages
ERROR - 2026-02-02 03:12:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:05 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:05 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:05 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:05 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:05"}}
DEBUG - 2026-02-02 03:12:06 --> ApiController initialized
DEBUG - 2026-02-02 03:12:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:06 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:06 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:06 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:06"}}
DEBUG - 2026-02-02 03:12:07 --> ApiController initialized
DEBUG - 2026-02-02 03:12:07 --> ApiController initialized
ERROR - 2026-02-02 03:12:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2225 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:08 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:08 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:08 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:08 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:08"}}
ERROR - 2026-02-02 03:12:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2221 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:08 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:12:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:10 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:10 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:10 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:10 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:10"}}
DEBUG - 2026-02-02 03:12:12 --> ApiController initialized
DEBUG - 2026-02-02 03:12:12 --> ApiController initialized
DEBUG - 2026-02-02 03:12:12 --> ApiController initialized
DEBUG - 2026-02-02 03:12:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:12 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:12 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:12"}}
ERROR - 2026-02-02 03:12:12 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:12 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:12 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:12 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:12"}}
ERROR - 2026-02-02 03:12:14 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:14 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 03:12:14 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:14 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:15 --> ApiController initialized
DEBUG - 2026-02-02 03:12:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:15 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:15 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:15"}}
DEBUG - 2026-02-02 03:12:15 --> ApiController initialized
DEBUG - 2026-02-02 03:12:15 --> ApiController initialized
DEBUG - 2026-02-02 03:12:15 --> ApiController initialized
DEBUG - 2026-02-02 03:12:15 --> ApiController initialized
DEBUG - 2026-02-02 03:12:15 --> ApiController initialized
DEBUG - 2026-02-02 03:12:16 --> ApiController initialized
DEBUG - 2026-02-02 03:12:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:16 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:16 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:16 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:16 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:16"}}
ERROR - 2026-02-02 03:12:17 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:17 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:17 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:17 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:17 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:17"}}
DEBUG - 2026-02-02 03:12:17 --> ApiController initialized
ERROR - 2026-02-02 03:12:18 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:18 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:12:19 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:19 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:19 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:19 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:19 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:19"}}
DEBUG - 2026-02-02 03:12:19 --> ApiController initialized
ERROR - 2026-02-02 03:12:22 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:22 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:22 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:22 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:22 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:22"}}
DEBUG - 2026-02-02 03:12:22 --> ApiController initialized
DEBUG - 2026-02-02 03:12:22 --> ApiController initialized
DEBUG - 2026-02-02 03:12:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:22 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:22 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:22"}}
ERROR - 2026-02-02 03:12:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:24 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:24 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:24 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:24 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:24"}}
DEBUG - 2026-02-02 03:12:24 --> ApiController initialized
ERROR - 2026-02-02 03:12:24 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:24 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:26 --> ApiController initialized
DEBUG - 2026-02-02 03:12:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:26 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:26 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:26 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:26"}}
ERROR - 2026-02-02 03:12:26 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:26 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:26 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:26 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:26 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:26"}}
DEBUG - 2026-02-02 03:12:26 --> ApiController initialized
ERROR - 2026-02-02 03:12:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:28 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:12:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:29 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:29 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:29 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:29 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:29"}}
DEBUG - 2026-02-02 03:12:29 --> ApiController initialized
ERROR - 2026-02-02 03:12:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:31 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:31"}}
DEBUG - 2026-02-02 03:12:31 --> ApiController initialized
DEBUG - 2026-02-02 03:12:32 --> ApiController initialized
DEBUG - 2026-02-02 03:12:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:32"}}
ERROR - 2026-02-02 03:12:33 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:33 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:33 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:33 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:33 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:33"}}
DEBUG - 2026-02-02 03:12:33 --> ApiController initialized
ERROR - 2026-02-02 03:12:34 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:34 --> Found 10 direct messages
ERROR - 2026-02-02 03:12:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:35 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:35 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:35 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:35 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:35"}}
DEBUG - 2026-02-02 03:12:36 --> ApiController initialized
DEBUG - 2026-02-02 03:12:36 --> ApiController initialized
DEBUG - 2026-02-02 03:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:36 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:36 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:36 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:36"}}
ERROR - 2026-02-02 03:12:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:38 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:38 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:38 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:38 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:38"}}
DEBUG - 2026-02-02 03:12:38 --> ApiController initialized
ERROR - 2026-02-02 03:12:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2269 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:38 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:12:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:40 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:40 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:40 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:40 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:40"}}
DEBUG - 2026-02-02 03:12:40 --> ApiController initialized
DEBUG - 2026-02-02 03:12:42 --> ApiController initialized
DEBUG - 2026-02-02 03:12:42 --> ApiController initialized
DEBUG - 2026-02-02 03:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:42 --> ApiController initialized
DEBUG - 2026-02-02 03:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:42 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:42 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:42"}}
ERROR - 2026-02-02 03:12:42 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:42 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:42 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:42 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:42 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:42"}}
DEBUG - 2026-02-02 03:12:43 --> ApiController initialized
ERROR - 2026-02-02 03:12:44 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:44 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 03:12:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:12:45 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:45 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:45 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:45 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:45"}}
DEBUG - 2026-02-02 03:12:45 --> ApiController initialized
DEBUG - 2026-02-02 03:12:46 --> ApiController initialized
DEBUG - 2026-02-02 03:12:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:46 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:46 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:46 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:46"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 116
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:47 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:47 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:47 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:47 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:47 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:47"}}
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
DEBUG - 2026-02-02 03:12:47 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:47 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:47 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:47 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
DEBUG - 2026-02-02 03:12:47 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:47 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:47 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:47 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> ApiController initialized
DEBUG - 2026-02-02 03:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:47 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:47 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:47"}}
ERROR - 2026-02-02 03:12:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:47 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:48 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:48 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:48 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:48 --> ApiController initialized
DEBUG - 2026-02-02 03:12:48 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:48 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:48"}}
ERROR - 2026-02-02 03:12:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:48 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:49 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:49 --> ApiController initialized
DEBUG - 2026-02-02 03:12:49 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:49 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:49"}}
ERROR - 2026-02-02 03:12:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:49 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:49 --> ApiController initialized
DEBUG - 2026-02-02 03:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:49 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:49 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:49 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:49"}}
ERROR - 2026-02-02 03:12:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:49 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:49 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:49 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:49 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:49"}}
ERROR - 2026-02-02 03:12:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:49 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:49 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:49 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:49 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:49"}}
ERROR - 2026-02-02 03:12:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:49 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:49 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:49 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:49 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:49"}}
ERROR - 2026-02-02 03:12:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:49 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:51 --> ApiController initialized
DEBUG - 2026-02-02 03:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:51"}}
ERROR - 2026-02-02 03:12:51 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:51 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:51 --> ApiController initialized
DEBUG - 2026-02-02 03:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:51 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:51 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:51 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:51"}}
ERROR - 2026-02-02 03:12:51 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:51 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:12:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:53 --> ApiController initialized
DEBUG - 2026-02-02 03:12:53 --> ApiController initialized
DEBUG - 2026-02-02 03:12:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Groups data: []
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Groups data: []
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:12:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:12:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:12:54"}}
ERROR - 2026-02-02 03:12:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:54 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> ApiController initialized
DEBUG - 2026-02-02 03:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:54 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:12:54 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:12:54 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:12:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:54"}}
ERROR - 2026-02-02 03:12:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:54 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:12:57 --> ApiController initialized
DEBUG - 2026-02-02 03:12:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:57 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:57 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:57"}}
ERROR - 2026-02-02 03:12:57 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:57 --> Found 10 direct messages
DEBUG - 2026-02-02 03:12:57 --> ApiController initialized
DEBUG - 2026-02-02 03:12:57 --> ApiController initialized
DEBUG - 2026-02-02 03:12:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:58 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:58 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:12:58 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:12:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:58"}}
ERROR - 2026-02-02 03:12:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:58 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:12:58 --> ApiController initialized
DEBUG - 2026-02-02 03:12:58 --> ApiController initialized
DEBUG - 2026-02-02 03:12:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:58 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:58 --> ApiController initialized
DEBUG - 2026-02-02 03:12:58 --> ApiController initialized
DEBUG - 2026-02-02 03:12:58 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:12:58 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:12:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:58"}}
ERROR - 2026-02-02 03:12:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:58 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:12:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:58 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:58 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:12:58 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:12:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:58"}}
ERROR - 2026-02-02 03:12:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:58 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:12:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:58 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:58 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:12:58 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:12:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:58"}}
ERROR - 2026-02-02 03:12:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:58 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:12:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:58 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:58 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:12:58 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:12:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:58"}}
ERROR - 2026-02-02 03:12:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:58 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:12:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:58 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:12:58 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:12:58 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:12:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:12:58"}}
ERROR - 2026-02-02 03:12:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:58 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:12:59 --> ApiController initialized
DEBUG - 2026-02-02 03:12:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:12:59 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:12:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:12:59 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:12:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:12:59"}}
ERROR - 2026-02-02 03:12:59 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:12:59 --> Found 10 direct messages
DEBUG - 2026-02-02 03:13:00 --> ApiController initialized
DEBUG - 2026-02-02 03:13:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:00 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:00 --> ApiController initialized
DEBUG - 2026-02-02 03:13:00 --> ApiController initialized
DEBUG - 2026-02-02 03:13:00 --> ApiController initialized
DEBUG - 2026-02-02 03:13:00 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:13:00 --> ApiController initialized
DEBUG - 2026-02-02 03:13:00 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:13:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:00"}}
DEBUG - 2026-02-02 03:13:00 --> ApiController initialized
ERROR - 2026-02-02 03:13:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:00 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:13:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:00 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:00 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:13:00 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:13:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:00"}}
ERROR - 2026-02-02 03:13:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:00 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:13:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:00 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:00 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:13:00 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:13:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:00"}}
ERROR - 2026-02-02 03:13:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:00 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:13:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:00 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:00 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:13:00 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:13:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:00"}}
ERROR - 2026-02-02 03:13:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:00 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:13:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:00 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:00 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:13:00 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:13:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:00"}}
ERROR - 2026-02-02 03:13:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:00 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:13:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:00 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:00 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:13:00 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:13:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:00"}}
ERROR - 2026-02-02 03:13:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:00 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> Groups data: []
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:01 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:13:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:13:02 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:13:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 10 direct messages
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Groups data: []
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:13:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:02 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:13:02 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:13:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:13:02 --> ApiController initialized
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:02 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:13:02 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:13:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:02 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:13:02 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:13:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:02 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:13:02 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:13:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:13:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:02 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:13:02 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:13:02 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:13:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:13:02"}}
ERROR - 2026-02-02 03:13:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:13:02 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:13:24 --> ApiController initialized
DEBUG - 2026-02-02 03:13:24 --> ApiController initialized
DEBUG - 2026-02-02 03:13:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:31 --> ApiController initialized
DEBUG - 2026-02-02 03:13:31 --> ApiController initialized
DEBUG - 2026-02-02 03:13:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:54 --> ApiController initialized
DEBUG - 2026-02-02 03:13:54 --> ApiController initialized
DEBUG - 2026-02-02 03:13:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:13:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:01 --> ApiController initialized
DEBUG - 2026-02-02 03:14:01 --> ApiController initialized
DEBUG - 2026-02-02 03:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:24 --> ApiController initialized
DEBUG - 2026-02-02 03:14:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:24 --> ApiController initialized
DEBUG - 2026-02-02 03:14:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:31 --> ApiController initialized
DEBUG - 2026-02-02 03:14:31 --> ApiController initialized
DEBUG - 2026-02-02 03:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:54 --> ApiController initialized
DEBUG - 2026-02-02 03:14:54 --> ApiController initialized
DEBUG - 2026-02-02 03:14:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:14:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:01 --> ApiController initialized
DEBUG - 2026-02-02 03:15:01 --> ApiController initialized
DEBUG - 2026-02-02 03:15:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:23 --> ApiController initialized
DEBUG - 2026-02-02 03:15:23 --> ApiController initialized
DEBUG - 2026-02-02 03:15:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:54 --> ApiController initialized
DEBUG - 2026-02-02 03:15:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:54 --> ApiController initialized
DEBUG - 2026-02-02 03:15:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:59 --> ApiController initialized
DEBUG - 2026-02-02 03:15:59 --> ApiController initialized
DEBUG - 2026-02-02 03:15:59 --> ApiController initialized
DEBUG - 2026-02-02 03:15:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:59 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:15:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:59 --> Groups data: []
DEBUG - 2026-02-02 03:15:59 --> ApiController initialized
DEBUG - 2026-02-02 03:15:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:15:59 --> ApiController initialized
DEBUG - 2026-02-02 03:15:59 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Groups data: []
DEBUG - 2026-02-02 03:16:00 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:16:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:16:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:16:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:16:00"}}
ERROR - 2026-02-02 03:16:00 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:16:00 --> Found 10 direct messages
DEBUG - 2026-02-02 03:16:00 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> ApiController initialized
DEBUG - 2026-02-02 03:16:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:00 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:16:00 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:16:00 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:16:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:16:00"}}
ERROR - 2026-02-02 03:16:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:16:00 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2026-02-02 03:16:22 --> CodeIgniter\View\Exceptions\ViewException: Invalid file: "partials/call_overlay.php"
[Method: GET, Route: chat/direct/4]
in SYSTEMPATH\Exceptions\FrameworkException.php on line 39.
 1 SYSTEMPATH\View\View.php(212): CodeIgniter\Exceptions\FrameworkException::forInvalidFile('partials/call_overlay.php')
 2 SYSTEMPATH\View\View.php(475): CodeIgniter\View\View->render('partials/call_overlay', null, true)
 3 APPPATH\Views\partials\sidebar.php(262): CodeIgniter\View\View->include('partials/call_overlay')
 4 SYSTEMPATH\View\View.php(224): include('C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\partials\\sidebar.php')
 5 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 6 SYSTEMPATH\View\View.php(475): CodeIgniter\View\View->render('partials/sidebar', null, true)
 7 APPPATH\Views\chat\direct_chat.php(950): CodeIgniter\View\View->include('partials/sidebar')
 8 SYSTEMPATH\View\View.php(224): include('C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php')
 9 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
10 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('chat/direct_chat', [], true)
11 APPPATH\Controllers\Chat.php(84): view('chat/direct_chat', [...])
12 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Chat->directChat('4')
13 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Chat))
14 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
15 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
16 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
17 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 03:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:29 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> Groups data: []
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> Groups data: []
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> ApiController initialized
DEBUG - 2026-02-02 03:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:16:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:16:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:16:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:16:30"}}
ERROR - 2026-02-02 03:16:30 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:16:30 --> Found 10 direct messages
DEBUG - 2026-02-02 03:16:31 --> ApiController initialized
DEBUG - 2026-02-02 03:16:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:31 --> ApiController initialized
DEBUG - 2026-02-02 03:16:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:16:31 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:16:31 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:16:31 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:16:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:16:31"}}
ERROR - 2026-02-02 03:16:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:16:31 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:00 --> ApiController initialized
DEBUG - 2026-02-02 03:17:00 --> ApiController initialized
DEBUG - 2026-02-02 03:17:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:17:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:17:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:17:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:17:00"}}
DEBUG - 2026-02-02 03:17:00 --> ApiController initialized
ERROR - 2026-02-02 03:17:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:02 --> Found 10 direct messages
DEBUG - 2026-02-02 03:17:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:03 --> ApiController initialized
DEBUG - 2026-02-02 03:17:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:03 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:17:03 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:17:03 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:17:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:17:03"}}
ERROR - 2026-02-02 03:17:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:05 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:10 --> ApiController initialized
DEBUG - 2026-02-02 03:17:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:17:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:17:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:17:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:17:10"}}
ERROR - 2026-02-02 03:17:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:12 --> Found 10 direct messages
DEBUG - 2026-02-02 03:17:13 --> ApiController initialized
DEBUG - 2026-02-02 03:17:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:13 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:17:13 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:17:13 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:17:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:17:13"}}
ERROR - 2026-02-02 03:17:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:15 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:20 --> ApiController initialized
DEBUG - 2026-02-02 03:17:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:17:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:17:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:17:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:17:20"}}
ERROR - 2026-02-02 03:17:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2222 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:22 --> Found 10 direct messages
DEBUG - 2026-02-02 03:17:23 --> ApiController initialized
DEBUG - 2026-02-02 03:17:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:17:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:17:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:17:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:17:23"}}
ERROR - 2026-02-02 03:17:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:25 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:30 --> ApiController initialized
DEBUG - 2026-02-02 03:17:30 --> ApiController initialized
DEBUG - 2026-02-02 03:17:30 --> ApiController initialized
DEBUG - 2026-02-02 03:17:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:17:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:17:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:17:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:17:30"}}
ERROR - 2026-02-02 03:17:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:17:32 --> Found 10 direct messages
DEBUG - 2026-02-02 03:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:33 --> ApiController initialized
DEBUG - 2026-02-02 03:17:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:17:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:17:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:17:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:17:33"}}
ERROR - 2026-02-02 03:17:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:17:34 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:35 --> ApiController initialized
DEBUG - 2026-02-02 03:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:35 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:17:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:17:35 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:17:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:17:35"}}
ERROR - 2026-02-02 03:17:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:17:35 --> Found 10 direct messages
DEBUG - 2026-02-02 03:17:36 --> ApiController initialized
DEBUG - 2026-02-02 03:17:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:36 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:17:36 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:17:36 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:17:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:17:36"}}
ERROR - 2026-02-02 03:17:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:17:36 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> Groups data: []
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> Groups data: []
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:09:30","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:09:30","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> ApiController initialized
DEBUG - 2026-02-02 03:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:17:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:17:41 --> ApiController initialized
DEBUG - 2026-02-02 03:17:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:17:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:17:41"}}
ERROR - 2026-02-02 03:17:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:17:41 --> Found 10 direct messages
DEBUG - 2026-02-02 03:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:41 --> ApiController initialized
DEBUG - 2026-02-02 03:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:41 --> ApiController initialized
DEBUG - 2026-02-02 03:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:41 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:17:41 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:17:41 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:17:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:17:41"}}
ERROR - 2026-02-02 03:17:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:17:41 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:17:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:17:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:07 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 03:18:07 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 03:18:07 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 03:18:07 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 03:18:07 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 03:18:07 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 03:18:10 --> ApiController initialized
DEBUG - 2026-02-02 03:18:10 --> ApiController initialized
DEBUG - 2026-02-02 03:18:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:17 --> ApiController initialized
DEBUG - 2026-02-02 03:18:17 --> ApiController initialized
DEBUG - 2026-02-02 03:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:17 --> ApiController initialized
DEBUG - 2026-02-02 03:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:17 --> ApiController initialized
DEBUG - 2026-02-02 03:18:17 --> ApiController initialized
DEBUG - 2026-02-02 03:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:17 --> Groups data: []
DEBUG - 2026-02-02 03:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:17 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:18:17 --> ApiController initialized
DEBUG - 2026-02-02 03:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:40 --> ApiController initialized
DEBUG - 2026-02-02 03:18:40 --> ApiController initialized
DEBUG - 2026-02-02 03:18:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:18:47 --> ApiController initialized
DEBUG - 2026-02-02 03:18:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Groups data: []
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Groups data: []
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:19:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:19:02 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:19:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:19:02"}}
ERROR - 2026-02-02 03:19:02 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:02 --> Found 10 direct messages
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> ApiController initialized
DEBUG - 2026-02-02 03:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:02 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:02 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:19:03 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:19:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:03"}}
ERROR - 2026-02-02 03:19:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:03 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:19:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:03 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:03 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:19:03 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:19:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:03"}}
DEBUG - 2026-02-02 03:19:03 --> ApiController initialized
ERROR - 2026-02-02 03:19:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:03 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:19:03 --> ApiController initialized
DEBUG - 2026-02-02 03:19:03 --> ApiController initialized
DEBUG - 2026-02-02 03:19:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:03 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:03 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:19:03 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:19:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:03"}}
ERROR - 2026-02-02 03:19:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:03 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:19:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:03 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:03 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:19:03 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:19:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:03"}}
ERROR - 2026-02-02 03:19:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:03 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:19:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:03 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:03 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:19:03 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:19:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:03"}}
ERROR - 2026-02-02 03:19:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:03 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:19:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:03 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:03 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:19:03 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:19:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:03"}}
ERROR - 2026-02-02 03:19:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:03 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:19:10 --> ApiController initialized
DEBUG - 2026-02-02 03:19:10 --> ApiController initialized
DEBUG - 2026-02-02 03:19:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:29 --> ApiController initialized
DEBUG - 2026-02-02 03:19:29 --> ApiController initialized
DEBUG - 2026-02-02 03:19:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Groups data: []
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:19:30 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:19:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:19:30"}}
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
ERROR - 2026-02-02 03:19:30 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:30 --> Found 10 direct messages
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Groups data: []
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:30 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:19:30 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:19:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:30"}}
ERROR - 2026-02-02 03:19:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:30 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:19:30 --> ApiController initialized
DEBUG - 2026-02-02 03:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:30 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:30 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:19:30 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:19:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:30"}}
ERROR - 2026-02-02 03:19:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:30 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:19:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:32 --> Groups data: []
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:19:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:32 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:19:33 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:19:33 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:19:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:19:33"}}
ERROR - 2026-02-02 03:19:33 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:33 --> Found 10 direct messages
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> Groups data: []
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> ApiController initialized
DEBUG - 2026-02-02 03:19:33 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:33 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:19:33 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:19:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:33"}}
ERROR - 2026-02-02 03:19:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:33 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:19:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:33 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:19:33 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:19:33 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:19:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:19:33"}}
ERROR - 2026-02-02 03:19:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:19:33 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:19:40 --> ApiController initialized
DEBUG - 2026-02-02 03:19:40 --> ApiController initialized
DEBUG - 2026-02-02 03:19:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:19:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:02 --> ApiController initialized
DEBUG - 2026-02-02 03:20:02 --> ApiController initialized
DEBUG - 2026-02-02 03:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:02 --> ApiController initialized
DEBUG - 2026-02-02 03:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:02 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:20:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:02 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:20:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:20:02"}}
ERROR - 2026-02-02 03:20:05 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:05 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:05 --> ApiController initialized
DEBUG - 2026-02-02 03:20:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:05 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:05 --> ApiController initialized
DEBUG - 2026-02-02 03:20:05 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:20:05 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:20:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:05"}}
ERROR - 2026-02-02 03:20:07 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:07 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:07 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:07 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:20:07 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:20:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:07"}}
ERROR - 2026-02-02 03:20:09 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:09 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:20:10 --> ApiController initialized
DEBUG - 2026-02-02 03:20:10 --> ApiController initialized
DEBUG - 2026-02-02 03:20:10 --> ApiController initialized
DEBUG - 2026-02-02 03:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:20:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:20:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:20:10"}}
ERROR - 2026-02-02 03:20:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:12 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:12 --> ApiController initialized
DEBUG - 2026-02-02 03:20:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:12 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:20:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:12 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:20:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:20:12"}}
ERROR - 2026-02-02 03:20:15 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:15 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:15 --> ApiController initialized
DEBUG - 2026-02-02 03:20:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:15 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:15 --> ApiController initialized
DEBUG - 2026-02-02 03:20:15 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:20:15 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:20:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:15"}}
ERROR - 2026-02-02 03:20:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:17 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:20:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:17 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:17 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:20:17 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:20:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:17"}}
ERROR - 2026-02-02 03:20:19 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:19 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:20:20 --> ApiController initialized
DEBUG - 2026-02-02 03:20:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:20:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:20:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:20:20"}}
ERROR - 2026-02-02 03:20:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:22 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:22 --> ApiController initialized
DEBUG - 2026-02-02 03:20:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:22 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:20:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:22 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:20:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:20:22"}}
ERROR - 2026-02-02 03:20:24 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:24 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:25 --> ApiController initialized
DEBUG - 2026-02-02 03:20:25 --> ApiController initialized
DEBUG - 2026-02-02 03:20:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:25 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:25 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:20:25 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:20:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:25"}}
ERROR - 2026-02-02 03:20:27 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:20:27 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:20:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:27 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:27 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:20:27 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:20:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:27"}}
ERROR - 2026-02-02 03:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:29 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:20:29 --> ApiController initialized
DEBUG - 2026-02-02 03:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:20:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:20:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:20:29"}}
ERROR - 2026-02-02 03:20:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:29 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:29 --> ApiController initialized
DEBUG - 2026-02-02 03:20:29 --> ApiController initialized
DEBUG - 2026-02-02 03:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:29 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:29 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:20:29 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:29"}}
ERROR - 2026-02-02 03:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:29 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:29 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:29 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:20:29 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:29"}}
ERROR - 2026-02-02 03:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:29 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:20:30 --> ApiController initialized
DEBUG - 2026-02-02 03:20:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:20:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:20:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:20:30"}}
ERROR - 2026-02-02 03:20:30 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:30 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:31 --> ApiController initialized
DEBUG - 2026-02-02 03:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:31 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:20:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:31 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:20:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:20:31"}}
ERROR - 2026-02-02 03:20:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:31 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:32 --> ApiController initialized
DEBUG - 2026-02-02 03:20:32 --> ApiController initialized
DEBUG - 2026-02-02 03:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> Groups data: []
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:18:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:18:06","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Groups data: []
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:18:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:18:06","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:33 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:20:33 --> ApiController initialized
DEBUG - 2026-02-02 03:20:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:34 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:20:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:20:34"}}
ERROR - 2026-02-02 03:20:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:34 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Groups data: []
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Groups data: []
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> ApiController initialized
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:35 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:20:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:20:35 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:20:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:20:35"}}
ERROR - 2026-02-02 03:20:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:35 --> Found 10 direct messages
DEBUG - 2026-02-02 03:20:36 --> ApiController initialized
DEBUG - 2026-02-02 03:20:36 --> ApiController initialized
DEBUG - 2026-02-02 03:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:36 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:36 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:20:36 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:20:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:36"}}
ERROR - 2026-02-02 03:20:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:36 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:20:36 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:20:36 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:20:36 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:20:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:20:36"}}
ERROR - 2026-02-02 03:20:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:20:36 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:21:02 --> ApiController initialized
DEBUG - 2026-02-02 03:21:02 --> ApiController initialized
DEBUG - 2026-02-02 03:21:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:05 --> ApiController initialized
DEBUG - 2026-02-02 03:21:05 --> ApiController initialized
DEBUG - 2026-02-02 03:21:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:32 --> ApiController initialized
DEBUG - 2026-02-02 03:21:32 --> ApiController initialized
DEBUG - 2026-02-02 03:21:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:32 --> ApiController initialized
DEBUG - 2026-02-02 03:21:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:21:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:21:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:21:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:21:32"}}
ERROR - 2026-02-02 03:21:33 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:33 --> Found 10 direct messages
DEBUG - 2026-02-02 03:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:33 --> ApiController initialized
DEBUG - 2026-02-02 03:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:33 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:21:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:21:33 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:21:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:21:33"}}
ERROR - 2026-02-02 03:21:33 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:33 --> Found 10 direct messages
DEBUG - 2026-02-02 03:21:35 --> ApiController initialized
DEBUG - 2026-02-02 03:21:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:35 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:21:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:21:35 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:21:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:21:35"}}
ERROR - 2026-02-02 03:21:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:35 --> Found 10 direct messages
DEBUG - 2026-02-02 03:21:35 --> ApiController initialized
DEBUG - 2026-02-02 03:21:35 --> ApiController initialized
DEBUG - 2026-02-02 03:21:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:35 --> ApiController initialized
DEBUG - 2026-02-02 03:21:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:35 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:21:35 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:21:35 --> ApiController initialized
DEBUG - 2026-02-02 03:21:35 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:21:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:21:35"}}
ERROR - 2026-02-02 03:21:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:35 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:21:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:35 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:21:35 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:21:35 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:21:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:21:35"}}
ERROR - 2026-02-02 03:21:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:35 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> Groups data: []
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:18:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:18:06","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Groups data: []
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:18:06","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:18:06","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> ApiController initialized
DEBUG - 2026-02-02 03:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:21:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:21:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:21:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:21:38"}}
ERROR - 2026-02-02 03:21:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:39 --> Found 10 direct messages
DEBUG - 2026-02-02 03:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> Groups data: []
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> Groups data: []
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:21:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:21:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:21:42"}}
ERROR - 2026-02-02 03:21:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> ApiController initialized
DEBUG - 2026-02-02 03:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:42 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:21:42 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:21:42 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:21:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:21:42"}}
ERROR - 2026-02-02 03:21:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:42 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:21:43 --> ApiController initialized
DEBUG - 2026-02-02 03:21:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:43 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:21:43 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:21:43 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:21:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:21:43"}}
ERROR - 2026-02-02 03:21:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:43 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:21:44 --> ApiController initialized
DEBUG - 2026-02-02 03:21:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:21:44 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:21:44 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:21:44 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:21:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:21:44"}}
ERROR - 2026-02-02 03:21:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:21:44 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:22:07 --> ApiController initialized
DEBUG - 2026-02-02 03:22:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:07 --> ApiController initialized
DEBUG - 2026-02-02 03:22:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:19 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 03:22:19 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 03:22:19 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 03:22:19 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 03:22:19 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 03:22:19 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 03:22:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Groups data: []
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:22:25 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:22:25 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:22:25"}}
ERROR - 2026-02-02 03:22:25 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:22:25 --> Found 10 direct messages
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> Groups data: []
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> ApiController initialized
DEBUG - 2026-02-02 03:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:25 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:22:25 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:22:25 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:22:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:22:25"}}
ERROR - 2026-02-02 03:22:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:22:25 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:22:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:28 --> ApiController initialized
DEBUG - 2026-02-02 03:22:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:28 --> ApiController initialized
DEBUG - 2026-02-02 03:22:28 --> ApiController initialized
DEBUG - 2026-02-02 03:22:28 --> ApiController initialized
DEBUG - 2026-02-02 03:22:28 --> Groups data: []
DEBUG - 2026-02-02 03:22:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:28 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:22:28 --> ApiController initialized
DEBUG - 2026-02-02 03:22:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:28 --> ApiController initialized
DEBUG - 2026-02-02 03:22:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:38 --> ApiController initialized
DEBUG - 2026-02-02 03:22:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:22:55 --> ApiController initialized
DEBUG - 2026-02-02 03:22:55 --> ApiController initialized
DEBUG - 2026-02-02 03:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:22:58 --> ApiController initialized
DEBUG - 2026-02-02 03:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:23:25 --> ApiController initialized
DEBUG - 2026-02-02 03:23:25 --> ApiController initialized
DEBUG - 2026-02-02 03:23:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:23:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:23:28 --> ApiController initialized
DEBUG - 2026-02-02 03:23:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:23:55 --> ApiController initialized
DEBUG - 2026-02-02 03:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:23:55 --> ApiController initialized
DEBUG - 2026-02-02 03:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:23:58 --> ApiController initialized
DEBUG - 2026-02-02 03:23:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:24:25 --> ApiController initialized
DEBUG - 2026-02-02 03:24:25 --> ApiController initialized
DEBUG - 2026-02-02 03:24:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:24:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:24:28 --> ApiController initialized
DEBUG - 2026-02-02 03:24:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:24:55 --> ApiController initialized
DEBUG - 2026-02-02 03:24:55 --> ApiController initialized
DEBUG - 2026-02-02 03:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:24:58 --> ApiController initialized
DEBUG - 2026-02-02 03:24:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:25 --> ApiController initialized
DEBUG - 2026-02-02 03:25:25 --> ApiController initialized
DEBUG - 2026-02-02 03:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:28 --> ApiController initialized
DEBUG - 2026-02-02 03:25:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Groups data: []
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> Groups data: []
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:25:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:25:47 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:25:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:25:47"}}
ERROR - 2026-02-02 03:25:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:25:47 --> Found 10 direct messages
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> ApiController initialized
DEBUG - 2026-02-02 03:25:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:47 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:25:47 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:25:47 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:25:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:25:47"}}
ERROR - 2026-02-02 03:25:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:25:47 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:25:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:52 --> ApiController initialized
DEBUG - 2026-02-02 03:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:52 --> ApiController initialized
DEBUG - 2026-02-02 03:25:52 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:25:52 --> ApiController initialized
DEBUG - 2026-02-02 03:25:52 --> ApiController initialized
DEBUG - 2026-02-02 03:25:52 --> ApiController initialized
DEBUG - 2026-02-02 03:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:25:52 --> Groups data: []
DEBUG - 2026-02-02 03:25:52 --> ApiController initialized
DEBUG - 2026-02-02 03:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:26:17 --> ApiController initialized
DEBUG - 2026-02-02 03:26:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:26:17 --> ApiController initialized
DEBUG - 2026-02-02 03:26:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:26:22 --> ApiController initialized
DEBUG - 2026-02-02 03:26:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:26:48 --> ApiController initialized
DEBUG - 2026-02-02 03:26:48 --> ApiController initialized
DEBUG - 2026-02-02 03:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:26:52 --> ApiController initialized
DEBUG - 2026-02-02 03:26:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:27:18 --> ApiController initialized
DEBUG - 2026-02-02 03:27:18 --> ApiController initialized
DEBUG - 2026-02-02 03:27:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:27:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:27:22 --> ApiController initialized
DEBUG - 2026-02-02 03:27:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:27:48 --> ApiController initialized
DEBUG - 2026-02-02 03:27:48 --> ApiController initialized
DEBUG - 2026-02-02 03:27:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:27:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:27:52 --> ApiController initialized
DEBUG - 2026-02-02 03:27:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:18 --> ApiController initialized
DEBUG - 2026-02-02 03:28:18 --> ApiController initialized
DEBUG - 2026-02-02 03:28:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:22 --> ApiController initialized
DEBUG - 2026-02-02 03:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Groups data: []
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Groups data: []
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:28:29 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:28:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:28:29"}}
ERROR - 2026-02-02 03:28:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:28:29 --> Found 10 direct messages
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> ApiController initialized
DEBUG - 2026-02-02 03:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:29 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:28:29 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:28:29 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:28:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:28:29"}}
ERROR - 2026-02-02 03:28:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:28:29 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:40 --> ApiController initialized
DEBUG - 2026-02-02 03:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:40 --> ApiController initialized
DEBUG - 2026-02-02 03:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:40 --> ApiController initialized
DEBUG - 2026-02-02 03:28:40 --> ApiController initialized
DEBUG - 2026-02-02 03:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:40 --> Groups data: []
DEBUG - 2026-02-02 03:28:40 --> ApiController initialized
DEBUG - 2026-02-02 03:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:40 --> ApiController initialized
DEBUG - 2026-02-02 03:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Groups data: []
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Groups data: []
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:54 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 03:28:54 --> ApiController initialized
DEBUG - 2026-02-02 03:28:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:28:54 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 03:28:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 03:28:54"}}
ERROR - 2026-02-02 03:28:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:28:54 --> Found 105 direct messages
DEBUG - 2026-02-02 03:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Groups data: []
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:28:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:28:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:28:56"}}
ERROR - 2026-02-02 03:28:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:28:56 --> Found 10 direct messages
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Groups data: []
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> ApiController initialized
DEBUG - 2026-02-02 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:28:56 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:28:56 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:28:56 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:28:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:28:56"}}
ERROR - 2026-02-02 03:28:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:28:56 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:04 --> Groups data: []
DEBUG - 2026-02-02 03:29:04 --> ApiController initialized
DEBUG - 2026-02-02 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> ApiController initialized
DEBUG - 2026-02-02 03:29:05 --> ApiController initialized
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:05 --> ApiController initialized
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> Groups data: []
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:29:05 --> ApiController initialized
DEBUG - 2026-02-02 03:29:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:29:05 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:29:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:29:05"}}
ERROR - 2026-02-02 03:29:05 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:05 --> Found 10 direct messages
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> ApiController initialized
DEBUG - 2026-02-02 03:29:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:05 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:29:05 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:29:05 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:29:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:05"}}
ERROR - 2026-02-02 03:29:05 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:05 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:29:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Groups data: []
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:29:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:29:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:29:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:29:09"}}
ERROR - 2026-02-02 03:29:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:09 --> Found 10 direct messages
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Groups data: []
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:29:09 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:29:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:09"}}
ERROR - 2026-02-02 03:29:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:09 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:29:09 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:29:09 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:29:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:09"}}
ERROR - 2026-02-02 03:29:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:09 --> ApiController initialized
DEBUG - 2026-02-02 03:29:09 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:29:09 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:29:09 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:29:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:09"}}
ERROR - 2026-02-02 03:29:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:09 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:09 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:29:09 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:29:09 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:29:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:09"}}
ERROR - 2026-02-02 03:29:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:09 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:29:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:10 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:29:10 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:29:10 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:29:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:10"}}
ERROR - 2026-02-02 03:29:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:10 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:29:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:10 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:29:10 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:29:10 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:29:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:10"}}
ERROR - 2026-02-02 03:29:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:10 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Groups data: []
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:29:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:29:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:29:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:29:32"}}
ERROR - 2026-02-02 03:29:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:32 --> Found 10 direct messages
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Groups data: []
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:32 --> ApiController initialized
DEBUG - 2026-02-02 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:32 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:29:32 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:29:32 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:29:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:32"}}
ERROR - 2026-02-02 03:29:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:32 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:29:39 --> ApiController initialized
DEBUG - 2026-02-02 03:29:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:39 --> ApiController initialized
DEBUG - 2026-02-02 03:29:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Groups data: []
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:29:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:29:44 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:29:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:29:44"}}
ERROR - 2026-02-02 03:29:44 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:44 --> Found 10 direct messages
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Groups data: []
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:29:44 --> ApiController initialized
DEBUG - 2026-02-02 03:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:29:44 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:29:44 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:29:44 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:29:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:29:44"}}
ERROR - 2026-02-02 03:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:29:44 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:30:09 --> ApiController initialized
DEBUG - 2026-02-02 03:30:09 --> ApiController initialized
DEBUG - 2026-02-02 03:30:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:30:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:30:14 --> ApiController initialized
DEBUG - 2026-02-02 03:30:14 --> ApiController initialized
DEBUG - 2026-02-02 03:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:30:44 --> ApiController initialized
DEBUG - 2026-02-02 03:30:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:30:44 --> ApiController initialized
DEBUG - 2026-02-02 03:30:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:14 --> ApiController initialized
DEBUG - 2026-02-02 03:31:14 --> ApiController initialized
DEBUG - 2026-02-02 03:31:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:44 --> ApiController initialized
DEBUG - 2026-02-02 03:31:44 --> ApiController initialized
DEBUG - 2026-02-02 03:31:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:47 --> ApiController initialized
DEBUG - 2026-02-02 03:31:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:47 --> ApiController initialized
DEBUG - 2026-02-02 03:31:47 --> ApiController initialized
DEBUG - 2026-02-02 03:31:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:47 --> ApiController initialized
DEBUG - 2026-02-02 03:31:47 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> Groups data: []
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> Groups data: []
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:31:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:31:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:31:48"}}
ERROR - 2026-02-02 03:31:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:31:48 --> Found 10 direct messages
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> ApiController initialized
DEBUG - 2026-02-02 03:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:31:48 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:31:48 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:31:48 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:31:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:31:48"}}
ERROR - 2026-02-02 03:31:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:31:48 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:32:08 --> ApiController initialized
DEBUG - 2026-02-02 03:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:32:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:32:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:32:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:32:08"}}
ERROR - 2026-02-02 03:32:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2224 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:10 --> Found 10 direct messages
DEBUG - 2026-02-02 03:32:11 --> ApiController initialized
DEBUG - 2026-02-02 03:32:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:11 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:32:11 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:32:11 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:32:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:32:11"}}
ERROR - 2026-02-02 03:32:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:13 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:32:18 --> ApiController initialized
DEBUG - 2026-02-02 03:32:18 --> ApiController initialized
DEBUG - 2026-02-02 03:32:18 --> ApiController initialized
DEBUG - 2026-02-02 03:32:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:32:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:32:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:32:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:32:18"}}
ERROR - 2026-02-02 03:32:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:20 --> Found 10 direct messages
DEBUG - 2026-02-02 03:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:21 --> ApiController initialized
DEBUG - 2026-02-02 03:32:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:21 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:32:21 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:32:21 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:32:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:32:21"}}
ERROR - 2026-02-02 03:32:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:23 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:32:28 --> ApiController initialized
DEBUG - 2026-02-02 03:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:28 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:32:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:32:28 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:32:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:32:28"}}
ERROR - 2026-02-02 03:32:30 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2235 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:30 --> Found 10 direct messages
DEBUG - 2026-02-02 03:32:31 --> ApiController initialized
DEBUG - 2026-02-02 03:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:31 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:32:31 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:32:31 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:32:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:32:31"}}
ERROR - 2026-02-02 03:32:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:33 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:32:38 --> ApiController initialized
DEBUG - 2026-02-02 03:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:32:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:32:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:32:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:32:38"}}
ERROR - 2026-02-02 03:32:40 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:40 --> Found 10 direct messages
DEBUG - 2026-02-02 03:32:41 --> ApiController initialized
DEBUG - 2026-02-02 03:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:41 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:32:41 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:32:41 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:32:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:32:41"}}
ERROR - 2026-02-02 03:32:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:43 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:32:48 --> ApiController initialized
DEBUG - 2026-02-02 03:32:48 --> ApiController initialized
DEBUG - 2026-02-02 03:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:48 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:32:48 --> ApiController initialized
DEBUG - 2026-02-02 03:32:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:32:48 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:32:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:32:48"}}
ERROR - 2026-02-02 03:32:50 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:50 --> Found 10 direct messages
DEBUG - 2026-02-02 03:32:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:51 --> ApiController initialized
DEBUG - 2026-02-02 03:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:51 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:32:51 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:32:51 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:32:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:32:51"}}
ERROR - 2026-02-02 03:32:53 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:32:53 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:32:58 --> ApiController initialized
DEBUG - 2026-02-02 03:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:32:58 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:32:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:32:58 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:32:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:32:58"}}
ERROR - 2026-02-02 03:33:00 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:00 --> Found 10 direct messages
DEBUG - 2026-02-02 03:33:01 --> ApiController initialized
DEBUG - 2026-02-02 03:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:01 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:33:01 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:33:01 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:33:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:33:01"}}
ERROR - 2026-02-02 03:33:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:03 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:33:08 --> ApiController initialized
DEBUG - 2026-02-02 03:33:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:33:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:33:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:33:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:33:08"}}
ERROR - 2026-02-02 03:33:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:10 --> Found 10 direct messages
DEBUG - 2026-02-02 03:33:11 --> ApiController initialized
DEBUG - 2026-02-02 03:33:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:11 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:33:11 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:33:11 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:33:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:33:11"}}
ERROR - 2026-02-02 03:33:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:13 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:33:18 --> ApiController initialized
DEBUG - 2026-02-02 03:33:18 --> ApiController initialized
DEBUG - 2026-02-02 03:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:18 --> ApiController initialized
DEBUG - 2026-02-02 03:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:33:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:33:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:33:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:33:18"}}
ERROR - 2026-02-02 03:33:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:20 --> Found 10 direct messages
DEBUG - 2026-02-02 03:33:21 --> ApiController initialized
DEBUG - 2026-02-02 03:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:21 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:33:21 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:33:21 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:33:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:33:21"}}
ERROR - 2026-02-02 03:33:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:23 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:33:28 --> ApiController initialized
DEBUG - 2026-02-02 03:33:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:28 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:33:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:33:28 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:33:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:33:28"}}
ERROR - 2026-02-02 03:33:30 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:30 --> Found 10 direct messages
DEBUG - 2026-02-02 03:33:31 --> ApiController initialized
DEBUG - 2026-02-02 03:33:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:31 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:33:31 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:33:31 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:33:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:33:31"}}
ERROR - 2026-02-02 03:33:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2268 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:33 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:33:38 --> ApiController initialized
DEBUG - 2026-02-02 03:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:33:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:33:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:33:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:33:38"}}
ERROR - 2026-02-02 03:33:40 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:40 --> Found 10 direct messages
DEBUG - 2026-02-02 03:33:41 --> ApiController initialized
DEBUG - 2026-02-02 03:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:41 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:33:41 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:33:41 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:33:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:33:41"}}
ERROR - 2026-02-02 03:33:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:43 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:33:48 --> ApiController initialized
DEBUG - 2026-02-02 03:33:48 --> ApiController initialized
DEBUG - 2026-02-02 03:33:48 --> ApiController initialized
DEBUG - 2026-02-02 03:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:48 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:33:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:33:48 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:33:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:33:48"}}
ERROR - 2026-02-02 03:33:50 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2214 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:50 --> Found 10 direct messages
DEBUG - 2026-02-02 03:33:51 --> ApiController initialized
DEBUG - 2026-02-02 03:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:51 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:33:51 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:33:51 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:33:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:33:51"}}
ERROR - 2026-02-02 03:33:53 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:33:53 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:33:58 --> ApiController initialized
DEBUG - 2026-02-02 03:33:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:33:58 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:33:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:33:58 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:33:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:33:58"}}
ERROR - 2026-02-02 03:34:00 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:00 --> Found 10 direct messages
DEBUG - 2026-02-02 03:34:00 --> ApiController initialized
DEBUG - 2026-02-02 03:34:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:00 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:34:00 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:34:00 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:34:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:34:00"}}
ERROR - 2026-02-02 03:34:02 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2229 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:02 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:34:08 --> ApiController initialized
DEBUG - 2026-02-02 03:34:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:34:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:34:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:34:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:34:08"}}
ERROR - 2026-02-02 03:34:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:10 --> Found 10 direct messages
DEBUG - 2026-02-02 03:34:11 --> ApiController initialized
DEBUG - 2026-02-02 03:34:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:11 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:34:11 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:34:11 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:34:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:34:11"}}
ERROR - 2026-02-02 03:34:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:13 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:34:18 --> ApiController initialized
DEBUG - 2026-02-02 03:34:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:34:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:34:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:34:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:34:18"}}
DEBUG - 2026-02-02 03:34:18 --> ApiController initialized
DEBUG - 2026-02-02 03:34:18 --> ApiController initialized
ERROR - 2026-02-02 03:34:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:20 --> Found 10 direct messages
DEBUG - 2026-02-02 03:34:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:21 --> ApiController initialized
DEBUG - 2026-02-02 03:34:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:21 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:34:21 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:34:21 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:34:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:34:21"}}
ERROR - 2026-02-02 03:34:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2230 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:23 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:34:28 --> ApiController initialized
DEBUG - 2026-02-02 03:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:28 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:34:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:34:28 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:34:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:34:28"}}
ERROR - 2026-02-02 03:34:30 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:30 --> Found 10 direct messages
DEBUG - 2026-02-02 03:34:31 --> ApiController initialized
DEBUG - 2026-02-02 03:34:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:31 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:34:31 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:34:31 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:34:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:34:31"}}
ERROR - 2026-02-02 03:34:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2214 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:33 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:34:37 --> ApiController initialized
DEBUG - 2026-02-02 03:34:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:37 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:34:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:34:37 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:34:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:34:37"}}
ERROR - 2026-02-02 03:34:40 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:40 --> Found 10 direct messages
DEBUG - 2026-02-02 03:34:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
DEBUG - 2026-02-02 03:34:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:40 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:34:40 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:34:40 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:34:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:34:40"}}
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
DEBUG - 2026-02-02 03:34:40 --> ApiController initialized
ERROR - 2026-02-02 03:34:42 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:34:42 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Groups data: []
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> ApiController initialized
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> ApiController initialized
DEBUG - 2026-02-02 03:34:42 --> ApiController initialized
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:42 --> Groups data: []
DEBUG - 2026-02-02 03:34:42 --> ApiController initialized
DEBUG - 2026-02-02 03:34:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:49 --> ApiController initialized
DEBUG - 2026-02-02 03:34:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:49 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:34:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:34:49 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:34:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:34:49"}}
ERROR - 2026-02-02 03:34:49 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:34:49 --> Found 10 direct messages
DEBUG - 2026-02-02 03:34:49 --> ApiController initialized
DEBUG - 2026-02-02 03:34:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:34:49 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:34:49 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:34:49 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:34:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:34:49"}}
ERROR - 2026-02-02 03:34:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:34:49 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> Groups data: []
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:35:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:35:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:35:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:35:00"}}
ERROR - 2026-02-02 03:35:00 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:35:00 --> Found 10 direct messages
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> ApiController initialized
DEBUG - 2026-02-02 03:35:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:22:18","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:22:18","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:00 --> Groups data: []
DEBUG - 2026-02-02 03:35:01 --> ApiController initialized
DEBUG - 2026-02-02 03:35:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:01 --> ApiController initialized
DEBUG - 2026-02-02 03:35:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:01 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:35:01 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:35:01 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:35:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:35:01"}}
ERROR - 2026-02-02 03:35:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:35:01 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:35:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:23 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 03:35:23 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 03:35:23 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 03:35:23 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 03:35:23 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 03:35:23 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 03:35:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:27 --> ApiController initialized
DEBUG - 2026-02-02 03:35:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:27 --> ApiController initialized
DEBUG - 2026-02-02 03:35:27 --> ApiController initialized
DEBUG - 2026-02-02 03:35:27 --> ApiController initialized
DEBUG - 2026-02-02 03:35:27 --> ApiController initialized
DEBUG - 2026-02-02 03:35:27 --> Groups data: []
DEBUG - 2026-02-02 03:35:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:27 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 00:32:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 00:32:05","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:35:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:28 --> ApiController initialized
DEBUG - 2026-02-02 03:35:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:30 --> ApiController initialized
DEBUG - 2026-02-02 03:35:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:35:30 --> ApiController initialized
DEBUG - 2026-02-02 03:35:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:36:01 --> ApiController initialized
DEBUG - 2026-02-02 03:36:01 --> ApiController initialized
DEBUG - 2026-02-02 03:36:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:36:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:36:31 --> ApiController initialized
DEBUG - 2026-02-02 03:36:31 --> ApiController initialized
DEBUG - 2026-02-02 03:36:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:36:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:37:01 --> ApiController initialized
DEBUG - 2026-02-02 03:37:01 --> ApiController initialized
DEBUG - 2026-02-02 03:37:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:37:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:37:31 --> ApiController initialized
DEBUG - 2026-02-02 03:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:37:31 --> ApiController initialized
DEBUG - 2026-02-02 03:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:38:01 --> ApiController initialized
DEBUG - 2026-02-02 03:38:01 --> ApiController initialized
DEBUG - 2026-02-02 03:38:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:38:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:38:31 --> ApiController initialized
DEBUG - 2026-02-02 03:38:31 --> ApiController initialized
DEBUG - 2026-02-02 03:38:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:38:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:39:01 --> ApiController initialized
DEBUG - 2026-02-02 03:39:01 --> ApiController initialized
DEBUG - 2026-02-02 03:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:39:31 --> ApiController initialized
DEBUG - 2026-02-02 03:39:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:39:31 --> ApiController initialized
DEBUG - 2026-02-02 03:39:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:40:01 --> ApiController initialized
DEBUG - 2026-02-02 03:40:01 --> ApiController initialized
DEBUG - 2026-02-02 03:40:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:40:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:40:31 --> ApiController initialized
DEBUG - 2026-02-02 03:40:31 --> ApiController initialized
DEBUG - 2026-02-02 03:40:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:40:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:01 --> ApiController initialized
DEBUG - 2026-02-02 03:41:01 --> ApiController initialized
DEBUG - 2026-02-02 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:31 --> ApiController initialized
DEBUG - 2026-02-02 03:41:31 --> ApiController initialized
DEBUG - 2026-02-02 03:41:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:41 --> ApiController initialized
DEBUG - 2026-02-02 03:41:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:41 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:41:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:41:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:41:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:41:41"}}
ERROR - 2026-02-02 03:41:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:41:43 --> Found 10 direct messages
DEBUG - 2026-02-02 03:41:44 --> ApiController initialized
DEBUG - 2026-02-02 03:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:44 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:41:44 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:41:44 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:41:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:41:44"}}
ERROR - 2026-02-02 03:41:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:41:46 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:41:51 --> ApiController initialized
DEBUG - 2026-02-02 03:41:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:41:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:41:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:41:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:41:51"}}
ERROR - 2026-02-02 03:41:53 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:41:53 --> Found 10 direct messages
DEBUG - 2026-02-02 03:41:54 --> ApiController initialized
DEBUG - 2026-02-02 03:41:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:41:54 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:41:54 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:41:54 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:41:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:41:54"}}
ERROR - 2026-02-02 03:41:56 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:41:56 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:42:01 --> ApiController initialized
DEBUG - 2026-02-02 03:42:01 --> ApiController initialized
DEBUG - 2026-02-02 03:42:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:01 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:42:01 --> ApiController initialized
DEBUG - 2026-02-02 03:42:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:42:01 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:42:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:42:01"}}
ERROR - 2026-02-02 03:42:03 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2271 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:03 --> Found 10 direct messages
DEBUG - 2026-02-02 03:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:04 --> ApiController initialized
DEBUG - 2026-02-02 03:42:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:04 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:42:04 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:42:04 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:42:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:42:04"}}
ERROR - 2026-02-02 03:42:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:06 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:42:11 --> ApiController initialized
DEBUG - 2026-02-02 03:42:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:11 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:42:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:42:11 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:42:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:42:11"}}
ERROR - 2026-02-02 03:42:13 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:13 --> Found 10 direct messages
DEBUG - 2026-02-02 03:42:14 --> ApiController initialized
DEBUG - 2026-02-02 03:42:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:14 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:42:14 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:42:14 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:42:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:42:14"}}
ERROR - 2026-02-02 03:42:16 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2235 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:16 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:42:21 --> ApiController initialized
DEBUG - 2026-02-02 03:42:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:21 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:42:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:42:21 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:42:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:42:21"}}
ERROR - 2026-02-02 03:42:23 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:23 --> Found 10 direct messages
DEBUG - 2026-02-02 03:42:24 --> ApiController initialized
DEBUG - 2026-02-02 03:42:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:24 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:42:24 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:42:24 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:42:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:42:24"}}
ERROR - 2026-02-02 03:42:26 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:26 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:42:31 --> ApiController initialized
DEBUG - 2026-02-02 03:42:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:31 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:42:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:42:31 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:42:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:42:31"}}
DEBUG - 2026-02-02 03:42:31 --> ApiController initialized
DEBUG - 2026-02-02 03:42:31 --> ApiController initialized
ERROR - 2026-02-02 03:42:33 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:33 --> Found 10 direct messages
DEBUG - 2026-02-02 03:42:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:34 --> ApiController initialized
DEBUG - 2026-02-02 03:42:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:34 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:42:34 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:42:34 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:42:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:42:34"}}
ERROR - 2026-02-02 03:42:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:36 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:42:41 --> ApiController initialized
DEBUG - 2026-02-02 03:42:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:41 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:42:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:42:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:42:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:42:41"}}
ERROR - 2026-02-02 03:42:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2228 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:43 --> Found 10 direct messages
DEBUG - 2026-02-02 03:42:44 --> ApiController initialized
DEBUG - 2026-02-02 03:42:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:44 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:42:44 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:42:44 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:42:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:42:44"}}
ERROR - 2026-02-02 03:42:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:46 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:42:51 --> ApiController initialized
DEBUG - 2026-02-02 03:42:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:42:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:42:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:42:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:42:51"}}
ERROR - 2026-02-02 03:42:53 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:53 --> Found 10 direct messages
DEBUG - 2026-02-02 03:42:54 --> ApiController initialized
DEBUG - 2026-02-02 03:42:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:42:54 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:42:54 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:42:54 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:42:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:42:54"}}
ERROR - 2026-02-02 03:42:56 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:42:56 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:01 --> ApiController initialized
DEBUG - 2026-02-02 03:43:01 --> ApiController initialized
DEBUG - 2026-02-02 03:43:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:01 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:01 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:01"}}
DEBUG - 2026-02-02 03:43:01 --> ApiController initialized
ERROR - 2026-02-02 03:43:03 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:03 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:05 --> ApiController initialized
DEBUG - 2026-02-02 03:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:05 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:43:05 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:43:05 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:43:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:43:05"}}
ERROR - 2026-02-02 03:43:07 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2235 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:07 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:11 --> ApiController initialized
DEBUG - 2026-02-02 03:43:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:11 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:11 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:11"}}
ERROR - 2026-02-02 03:43:13 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2272 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:13 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:14 --> ApiController initialized
DEBUG - 2026-02-02 03:43:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:14 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:43:14 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:43:14 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:43:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:43:14"}}
ERROR - 2026-02-02 03:43:16 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:16 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:21 --> ApiController initialized
DEBUG - 2026-02-02 03:43:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:21 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:21 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:21"}}
ERROR - 2026-02-02 03:43:23 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2236 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:23 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:24 --> ApiController initialized
DEBUG - 2026-02-02 03:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:24 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:43:24 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:43:24 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:43:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:43:24"}}
ERROR - 2026-02-02 03:43:26 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:26 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:31 --> ApiController initialized
DEBUG - 2026-02-02 03:43:31 --> ApiController initialized
DEBUG - 2026-02-02 03:43:31 --> ApiController initialized
DEBUG - 2026-02-02 03:43:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:31 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:31 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:31"}}
ERROR - 2026-02-02 03:43:33 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:33 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:34 --> ApiController initialized
DEBUG - 2026-02-02 03:43:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:34 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:43:34 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:43:34 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:43:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:43:34"}}
ERROR - 2026-02-02 03:43:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:36 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:41 --> ApiController initialized
DEBUG - 2026-02-02 03:43:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:41 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:41"}}
ERROR - 2026-02-02 03:43:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2228 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:43 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:44 --> ApiController initialized
DEBUG - 2026-02-02 03:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:44 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:43:44 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:43:44 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:43:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:43:44"}}
ERROR - 2026-02-02 03:43:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:46 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:51 --> ApiController initialized
DEBUG - 2026-02-02 03:43:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:51"}}
ERROR - 2026-02-02 03:43:53 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:53 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:54 --> ApiController initialized
DEBUG - 2026-02-02 03:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:54 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:43:54 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:43:54 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:43:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:43:54"}}
ERROR - 2026-02-02 03:43:56 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:56 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:56 --> ApiController initialized
DEBUG - 2026-02-02 03:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:56 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:43:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:43:56 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:43:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:43:56"}}
DEBUG - 2026-02-02 03:43:57 --> ApiController initialized
DEBUG - 2026-02-02 03:43:57 --> ApiController initialized
ERROR - 2026-02-02 03:43:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2227 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:43:59 --> Found 10 direct messages
DEBUG - 2026-02-02 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:43:59 --> ApiController initialized
DEBUG - 2026-02-02 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:34 --> ApiController initialized
DEBUG - 2026-02-02 03:44:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:34 --> ApiController initialized
DEBUG - 2026-02-02 03:44:34 --> ApiController initialized
DEBUG - 2026-02-02 03:44:34 --> ApiController initialized
DEBUG - 2026-02-02 03:44:34 --> ApiController initialized
DEBUG - 2026-02-02 03:44:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Groups data: []
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> ApiController initialized
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:44:35 --> ApiController initialized
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 01:11:50","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 01:11:50","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:44:35 --> ApiController initialized
DEBUG - 2026-02-02 03:44:35 --> ApiController initialized
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Groups data: []
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> ApiController initialized
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> ApiController initialized
DEBUG - 2026-02-02 03:44:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:35 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:44:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:44:35 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:44:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:44:35"}}
ERROR - 2026-02-02 03:44:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:44:36 --> Found 10 direct messages
DEBUG - 2026-02-02 03:44:36 --> ApiController initialized
DEBUG - 2026-02-02 03:44:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:44:36 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:44:36 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:44:36 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:44:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:44:36"}}
ERROR - 2026-02-02 03:44:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:44:36 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:45:04 --> ApiController initialized
DEBUG - 2026-02-02 03:45:04 --> ApiController initialized
DEBUG - 2026-02-02 03:45:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:45:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:45:35 --> ApiController initialized
DEBUG - 2026-02-02 03:45:35 --> ApiController initialized
DEBUG - 2026-02-02 03:45:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:45:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:05 --> TSR Dashboard: User ID: 5, Role: tsr
DEBUG - 2026-02-02 03:46:05 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 03:46:05 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 03:46:05 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 03:46:05 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 03:46:05 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 03:46:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> ApiController initialized
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> ApiController initialized
DEBUG - 2026-02-02 03:46:14 --> ApiController initialized
DEBUG - 2026-02-02 03:46:14 --> Groups data: []
DEBUG - 2026-02-02 03:46:14 --> ApiController initialized
DEBUG - 2026-02-02 03:46:14 --> ApiController initialized
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 01:50:26","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 01:50:35","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:14 --> ApiController initialized
DEBUG - 2026-02-02 03:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:36 --> ApiController initialized
DEBUG - 2026-02-02 03:46:36 --> ApiController initialized
DEBUG - 2026-02-02 03:46:36 --> ApiController initialized
DEBUG - 2026-02-02 03:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:36 --> Groups data: []
DEBUG - 2026-02-02 03:46:36 --> ApiController initialized
DEBUG - 2026-02-02 03:46:36 --> ApiController initialized
DEBUG - 2026-02-02 03:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:46:36 --> ApiController initialized
DEBUG - 2026-02-02 03:46:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:06 --> ApiController initialized
DEBUG - 2026-02-02 03:47:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:20 --> ApiController initialized
DEBUG - 2026-02-02 03:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:20 --> Groups data: []
DEBUG - 2026-02-02 03:47:20 --> ApiController initialized
DEBUG - 2026-02-02 03:47:20 --> ApiController initialized
DEBUG - 2026-02-02 03:47:20 --> ApiController initialized
DEBUG - 2026-02-02 03:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:20 --> ApiController initialized
DEBUG - 2026-02-02 03:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:21 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:47:21 --> ApiController initialized
DEBUG - 2026-02-02 03:47:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> Groups data: []
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 03:47:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:47:22 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 03:47:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 03:47:22"}}
ERROR - 2026-02-02 03:47:22 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:47:22 --> Found 105 direct messages
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:22 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:47:22 --> ApiController initialized
DEBUG - 2026-02-02 03:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:52 --> ApiController initialized
DEBUG - 2026-02-02 03:47:52 --> ApiController initialized
DEBUG - 2026-02-02 03:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:48:22 --> ApiController initialized
DEBUG - 2026-02-02 03:48:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:48:22 --> ApiController initialized
DEBUG - 2026-02-02 03:48:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:48:52 --> ApiController initialized
DEBUG - 2026-02-02 03:48:52 --> ApiController initialized
DEBUG - 2026-02-02 03:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:22 --> ApiController initialized
DEBUG - 2026-02-02 03:49:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:22 --> ApiController initialized
DEBUG - 2026-02-02 03:49:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> ApiController initialized
DEBUG - 2026-02-02 03:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:50 --> Groups data: []
DEBUG - 2026-02-02 03:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:51 --> ApiController initialized
DEBUG - 2026-02-02 03:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:51 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 03:49:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:49:51 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 03:49:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 03:49:51"}}
ERROR - 2026-02-02 03:49:51 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:49:51 --> Found 105 direct messages
DEBUG - 2026-02-02 03:49:51 --> ApiController initialized
DEBUG - 2026-02-02 03:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:57 --> ApiController initialized
DEBUG - 2026-02-02 03:49:57 --> ApiController initialized
DEBUG - 2026-02-02 03:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:57 --> ApiController initialized
DEBUG - 2026-02-02 03:49:57 --> Groups data: []
DEBUG - 2026-02-02 03:49:57 --> ApiController initialized
DEBUG - 2026-02-02 03:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:57 --> ApiController initialized
DEBUG - 2026-02-02 03:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:49:58 --> ApiController initialized
DEBUG - 2026-02-02 03:49:58 --> ApiController initialized
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:49:58 --> ApiController initialized
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> ApiController initialized
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> Groups data: []
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> ApiController initialized
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> ApiController initialized
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:49:58 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 03:49:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:49:58 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 03:49:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 03:49:58"}}
ERROR - 2026-02-02 03:49:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:49:58 --> Found 105 direct messages
DEBUG - 2026-02-02 03:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:03 --> ApiController initialized
DEBUG - 2026-02-02 03:50:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:03 --> Marking message 91 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:50:03 --> Updated is_read column for message 91
DEBUG - 2026-02-02 03:50:03 --> Updated existing message status for message 91
DEBUG - 2026-02-02 03:50:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"91","user_id":"1","other_user_id":3,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:50:03"}}
ERROR - 2026-02-02 03:50:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:50:03 --> Found 1 users who have seen message 91
DEBUG - 2026-02-02 03:50:04 --> ApiController initialized
DEBUG - 2026-02-02 03:50:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:04 --> Marking message 89 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:50:04 --> Updated is_read column for message 89
DEBUG - 2026-02-02 03:50:04 --> Updated existing message status for message 89
DEBUG - 2026-02-02 03:50:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"89","user_id":"1","other_user_id":3,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:50:04"}}
ERROR - 2026-02-02 03:50:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:50:04 --> Found 1 users who have seen message 89
DEBUG - 2026-02-02 03:50:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:06 --> ApiController initialized
DEBUG - 2026-02-02 03:50:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:06 --> ApiController initialized
DEBUG - 2026-02-02 03:50:06 --> ApiController initialized
DEBUG - 2026-02-02 03:50:06 --> ApiController initialized
DEBUG - 2026-02-02 03:50:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:50:06 --> ApiController initialized
DEBUG - 2026-02-02 03:50:06 --> ApiController initialized
DEBUG - 2026-02-02 03:50:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> ApiController initialized
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Groups data: []
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> ApiController initialized
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:50:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:50:07 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:50:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:50:07"}}
ERROR - 2026-02-02 03:50:07 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:50:07 --> Found 10 direct messages
DEBUG - 2026-02-02 03:50:07 --> ApiController initialized
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:50:07 --> ApiController initialized
DEBUG - 2026-02-02 03:50:07 --> ApiController initialized
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Groups data: []
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> ApiController initialized
DEBUG - 2026-02-02 03:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:07 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:50:07 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:50:07 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:50:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:50:07"}}
ERROR - 2026-02-02 03:50:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:50:07 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:50:37 --> ApiController initialized
DEBUG - 2026-02-02 03:50:37 --> ApiController initialized
DEBUG - 2026-02-02 03:50:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:50:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:51:07 --> ApiController initialized
DEBUG - 2026-02-02 03:51:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:51:07 --> ApiController initialized
DEBUG - 2026-02-02 03:51:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:51:37 --> ApiController initialized
DEBUG - 2026-02-02 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:51:37 --> ApiController initialized
DEBUG - 2026-02-02 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:52:07 --> ApiController initialized
DEBUG - 2026-02-02 03:52:07 --> ApiController initialized
DEBUG - 2026-02-02 03:52:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:52:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:52:37 --> ApiController initialized
DEBUG - 2026-02-02 03:52:37 --> ApiController initialized
DEBUG - 2026-02-02 03:52:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:52:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:07 --> ApiController initialized
DEBUG - 2026-02-02 03:53:07 --> ApiController initialized
DEBUG - 2026-02-02 03:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:37 --> ApiController initialized
DEBUG - 2026-02-02 03:53:37 --> ApiController initialized
DEBUG - 2026-02-02 03:53:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:41 --> Groups data: []
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:41 --> ApiController initialized
DEBUG - 2026-02-02 03:53:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> Groups data: []
DEBUG - 2026-02-02 03:53:42 --> ApiController initialized
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:35:23","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:35:23","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:53:42 --> ApiController initialized
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> ApiController initialized
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> ApiController initialized
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:53:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:53:42 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:53:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:53:42"}}
ERROR - 2026-02-02 03:53:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:53:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> ApiController initialized
DEBUG - 2026-02-02 03:53:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:53:42 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:53:42 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:53:42 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:53:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:53:42"}}
ERROR - 2026-02-02 03:53:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:53:42 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:54:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:11 --> ApiController initialized
DEBUG - 2026-02-02 03:54:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:11 --> ApiController initialized
DEBUG - 2026-02-02 03:54:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:12 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 03:54:12 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 03:54:12 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 03:54:12 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 03:54:12 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 03:54:12 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 03:54:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:17 --> ApiController initialized
DEBUG - 2026-02-02 03:54:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:17 --> Groups data: []
DEBUG - 2026-02-02 03:54:17 --> ApiController initialized
DEBUG - 2026-02-02 03:54:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:17 --> ApiController initialized
DEBUG - 2026-02-02 03:54:17 --> ApiController initialized
DEBUG - 2026-02-02 03:54:17 --> ApiController initialized
DEBUG - 2026-02-02 03:54:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:17 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:54:17 --> ApiController initialized
DEBUG - 2026-02-02 03:54:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:41 --> ApiController initialized
DEBUG - 2026-02-02 03:54:41 --> ApiController initialized
DEBUG - 2026-02-02 03:54:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:47 --> ApiController initialized
DEBUG - 2026-02-02 03:54:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:51 --> ApiController initialized
DEBUG - 2026-02-02 03:54:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:54:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:54:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:54:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:54:51"}}
ERROR - 2026-02-02 03:54:54 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:54:54 --> Found 10 direct messages
DEBUG - 2026-02-02 03:54:54 --> ApiController initialized
DEBUG - 2026-02-02 03:54:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:54:54 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:54:54 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:54:54 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:54:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:54:54"}}
ERROR - 2026-02-02 03:54:56 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:54:56 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:55:01 --> ApiController initialized
DEBUG - 2026-02-02 03:55:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:01 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:55:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:55:01 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:55:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:55:01"}}
ERROR - 2026-02-02 03:55:04 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:55:04 --> Found 10 direct messages
DEBUG - 2026-02-02 03:55:04 --> ApiController initialized
DEBUG - 2026-02-02 03:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:04 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:55:04 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:55:04 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:55:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:55:04"}}
ERROR - 2026-02-02 03:55:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:55:06 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:55:08 --> ApiController initialized
DEBUG - 2026-02-02 03:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:55:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:55:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:55:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:55:08"}}
ERROR - 2026-02-02 03:55:08 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:55:08 --> Found 10 direct messages
DEBUG - 2026-02-02 03:55:08 --> ApiController initialized
DEBUG - 2026-02-02 03:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:08 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:55:08 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:55:08 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:55:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:55:08"}}
ERROR - 2026-02-02 03:55:08 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:55:08 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:55:12 --> ApiController initialized
DEBUG - 2026-02-02 03:55:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:12 --> ApiController initialized
DEBUG - 2026-02-02 03:55:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:17 --> ApiController initialized
DEBUG - 2026-02-02 03:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:42 --> ApiController initialized
DEBUG - 2026-02-02 03:55:42 --> ApiController initialized
DEBUG - 2026-02-02 03:55:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:55:47 --> ApiController initialized
DEBUG - 2026-02-02 03:55:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:56:12 --> ApiController initialized
DEBUG - 2026-02-02 03:56:12 --> ApiController initialized
DEBUG - 2026-02-02 03:56:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:56:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:56:17 --> ApiController initialized
DEBUG - 2026-02-02 03:56:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:56:42 --> ApiController initialized
DEBUG - 2026-02-02 03:56:42 --> ApiController initialized
DEBUG - 2026-02-02 03:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:56:47 --> ApiController initialized
DEBUG - 2026-02-02 03:56:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:02 --> ApiController initialized
DEBUG - 2026-02-02 03:57:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:02 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:57:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:57:02 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:57:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:57:02"}}
ERROR - 2026-02-02 03:57:04 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:57:04 --> Found 10 direct messages
DEBUG - 2026-02-02 03:57:05 --> ApiController initialized
DEBUG - 2026-02-02 03:57:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:05 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:57:05 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:57:05 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:57:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:05"}}
ERROR - 2026-02-02 03:57:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:06 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:57:06 --> ApiController initialized
DEBUG - 2026-02-02 03:57:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:06 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:57:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:57:06 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:57:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:57:06"}}
ERROR - 2026-02-02 03:57:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:06 --> Found 10 direct messages
DEBUG - 2026-02-02 03:57:07 --> ApiController initialized
DEBUG - 2026-02-02 03:57:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:07 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:57:07 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:57:07 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:57:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:07"}}
ERROR - 2026-02-02 03:57:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:07 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> Groups data: []
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> Groups data: []
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:09 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:57:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:57:09 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:57:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:57:09"}}
DEBUG - 2026-02-02 03:57:09 --> ApiController initialized
ERROR - 2026-02-02 03:57:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:09 --> Found 10 direct messages
DEBUG - 2026-02-02 03:57:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:10 --> ApiController initialized
DEBUG - 2026-02-02 03:57:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:10 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:57:10 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:57:10 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:57:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:10"}}
ERROR - 2026-02-02 03:57:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:10 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:57:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:13 --> ApiController initialized
DEBUG - 2026-02-02 03:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:13 --> ApiController initialized
DEBUG - 2026-02-02 03:57:13 --> ApiController initialized
DEBUG - 2026-02-02 03:57:13 --> ApiController initialized
DEBUG - 2026-02-02 03:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:13 --> ApiController initialized
DEBUG - 2026-02-02 03:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:13 --> Groups data: []
DEBUG - 2026-02-02 03:57:13 --> ApiController initialized
DEBUG - 2026-02-02 03:57:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:37 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Groups data: []
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:57:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:57:38 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:57:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 10 direct messages
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Groups data: []
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:57:38 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:57:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:57:38 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:57:38 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:57:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:57:38 --> ApiController initialized
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:57:38 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:57:38 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:57:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:57:38 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:57:38 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:57:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:57:38 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:57:38 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:57:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:57:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:57:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:57:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:57:38"}}
ERROR - 2026-02-02 03:57:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:57:38 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:57:39 --> ApiController initialized
DEBUG - 2026-02-02 03:57:39 --> ApiController initialized
DEBUG - 2026-02-02 03:57:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:57:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:07 --> ApiController initialized
DEBUG - 2026-02-02 03:58:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:07 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:58:07 --> ApiController initialized
DEBUG - 2026-02-02 03:58:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:07 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:58:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:58:07"}}
DEBUG - 2026-02-02 03:58:07 --> ApiController initialized
DEBUG - 2026-02-02 03:58:09 --> ApiController initialized
DEBUG - 2026-02-02 03:58:09 --> ApiController initialized
DEBUG - 2026-02-02 03:58:09 --> ApiController initialized
DEBUG - 2026-02-02 03:58:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:09 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:58:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:09 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:58:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:58:09"}}
ERROR - 2026-02-02 03:58:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2221 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:10 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:10 --> ApiController initialized
DEBUG - 2026-02-02 03:58:10 --> ApiController initialized
DEBUG - 2026-02-02 03:58:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:10 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:10 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:58:10 --> ApiController initialized
DEBUG - 2026-02-02 03:58:10 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:58:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:10"}}
DEBUG - 2026-02-02 03:58:10 --> ApiController initialized
DEBUG - 2026-02-02 03:58:10 --> ApiController initialized
DEBUG - 2026-02-02 03:58:10 --> ApiController initialized
ERROR - 2026-02-02 03:58:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:11 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:12 --> ApiController initialized
DEBUG - 2026-02-02 03:58:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:12 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:58:12 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:58:12 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:58:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:12"}}
ERROR - 2026-02-02 03:58:12 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:12 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:58:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:12 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:12 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:58:12 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:58:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:12"}}
ERROR - 2026-02-02 03:58:14 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2269 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:14 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:58:14 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:14 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:58:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:14 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:14 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:58:14 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:58:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:14"}}
ERROR - 2026-02-02 03:58:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:17 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:58:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:17 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:17 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:58:17 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:58:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:17"}}
DEBUG - 2026-02-02 03:58:17 --> ApiController initialized
ERROR - 2026-02-02 03:58:19 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:19 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:19 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:19 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:58:19 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:58:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:19"}}
DEBUG - 2026-02-02 03:58:20 --> ApiController initialized
DEBUG - 2026-02-02 03:58:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:58:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:58:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:58:20"}}
ERROR - 2026-02-02 03:58:21 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2227 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:21 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:58:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:21 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:21 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:58:21 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:58:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:21"}}
ERROR - 2026-02-02 03:58:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2272 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:22 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:23 --> ApiController initialized
DEBUG - 2026-02-02 03:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:58:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:58:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:58:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:23"}}
ERROR - 2026-02-02 03:58:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2272 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:24 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:58:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:24 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:58:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:24 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:58:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:58:24"}}
ERROR - 2026-02-02 03:58:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:25 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:58:26 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:26 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:26 --> ApiController initialized
DEBUG - 2026-02-02 03:58:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:26 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:26 --> ApiController initialized
DEBUG - 2026-02-02 03:58:26 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:58:26 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:58:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:26"}}
DEBUG - 2026-02-02 03:58:26 --> ApiController initialized
DEBUG - 2026-02-02 03:58:26 --> ApiController initialized
DEBUG - 2026-02-02 03:58:26 --> ApiController initialized
DEBUG - 2026-02-02 03:58:26 --> ApiController initialized
ERROR - 2026-02-02 03:58:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:28 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:58:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:28 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:28 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:58:28 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:58:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:28"}}
DEBUG - 2026-02-02 03:58:29 --> ApiController initialized
DEBUG - 2026-02-02 03:58:30 --> ApiController initialized
DEBUG - 2026-02-02 03:58:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:58:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:58:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:58:30"}}
ERROR - 2026-02-02 03:58:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:31 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:58:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:31 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:31 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:58:31 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:58:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:31"}}
ERROR - 2026-02-02 03:58:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:32 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:33 --> ApiController initialized
DEBUG - 2026-02-02 03:58:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:58:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:58:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:58:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:33"}}
ERROR - 2026-02-02 03:58:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:33 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:58:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:33 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:33 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:58:33 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:58:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:33"}}
ERROR - 2026-02-02 03:58:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:35 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:58:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2230 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:35 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:58:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:35 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:35 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:58:35 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:58:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:35"}}
DEBUG - 2026-02-02 03:58:37 --> ApiController initialized
DEBUG - 2026-02-02 03:58:37 --> ApiController initialized
ERROR - 2026-02-02 03:58:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:38 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:58:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:38 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:38 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:58:38 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:58:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:38"}}
DEBUG - 2026-02-02 03:58:40 --> ApiController initialized
DEBUG - 2026-02-02 03:58:40 --> ApiController initialized
DEBUG - 2026-02-02 03:58:40 --> ApiController initialized
DEBUG - 2026-02-02 03:58:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:58:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:58:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:58:40"}}
ERROR - 2026-02-02 03:58:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:40 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:58:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:58:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:58:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:58:40"}}
ERROR - 2026-02-02 03:58:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 03:58:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:43 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:58:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:43 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:58:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:58:43"}}
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> ApiController initialized
DEBUG - 2026-02-02 03:58:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:58:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:58:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:58:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:43"}}
ERROR - 2026-02-02 03:58:45 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:45 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:45 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:45 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:58:45 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:58:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:45"}}
DEBUG - 2026-02-02 03:58:45 --> ApiController initialized
ERROR - 2026-02-02 03:58:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:45 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:58:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:47 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:58:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:47 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:47 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:58:47 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:58:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:47"}}
DEBUG - 2026-02-02 03:58:47 --> ApiController initialized
ERROR - 2026-02-02 03:58:49 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:49 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:58:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:50 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:50 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:58:50 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:58:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:50"}}
DEBUG - 2026-02-02 03:58:50 --> ApiController initialized
DEBUG - 2026-02-02 03:58:50 --> ApiController initialized
DEBUG - 2026-02-02 03:58:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:58:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:58:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:58:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:58:50"}}
ERROR - 2026-02-02 03:58:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2271 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:52 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:58:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:52 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:52 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:58:52 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:58:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:52"}}
DEBUG - 2026-02-02 03:58:52 --> ApiController initialized
ERROR - 2026-02-02 03:58:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:52 --> Found 10 direct messages
DEBUG - 2026-02-02 03:58:53 --> ApiController initialized
DEBUG - 2026-02-02 03:58:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:53 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:58:53 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:58:53 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:58:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:53"}}
ERROR - 2026-02-02 03:58:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:54 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:58:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:54 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:54 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:58:54 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:58:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:54"}}
DEBUG - 2026-02-02 03:58:54 --> ApiController initialized
ERROR - 2026-02-02 03:58:55 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:55 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:58:56 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:56 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:58:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:57 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:57 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:58:57 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:58:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:57"}}
DEBUG - 2026-02-02 03:58:57 --> ApiController initialized
ERROR - 2026-02-02 03:58:59 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:58:59 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:58:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:58:59 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:58:59 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:58:59 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:58:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:58:59"}}
DEBUG - 2026-02-02 03:58:59 --> ApiController initialized
DEBUG - 2026-02-02 03:59:00 --> ApiController initialized
DEBUG - 2026-02-02 03:59:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:59:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:59:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:59:00"}}
ERROR - 2026-02-02 03:59:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:01 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:01 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:01 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:01 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:01"}}
DEBUG - 2026-02-02 03:59:01 --> ApiController initialized
ERROR - 2026-02-02 03:59:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:02 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:03 --> ApiController initialized
DEBUG - 2026-02-02 03:59:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:03 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:59:03 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:59:03 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:59:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:03"}}
ERROR - 2026-02-02 03:59:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:03 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:03 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:03 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:03 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:03"}}
ERROR - 2026-02-02 03:59:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:05 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:59:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:06 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:06 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:06 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:06 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:06"}}
DEBUG - 2026-02-02 03:59:07 --> ApiController initialized
DEBUG - 2026-02-02 03:59:07 --> ApiController initialized
ERROR - 2026-02-02 03:59:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:08 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:59:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:08 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:08 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:08 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:08 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:08"}}
DEBUG - 2026-02-02 03:59:08 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:08 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:08"}}
DEBUG - 2026-02-02 03:59:10 --> ApiController initialized
DEBUG - 2026-02-02 03:59:10 --> ApiController initialized
DEBUG - 2026-02-02 03:59:10 --> ApiController initialized
DEBUG - 2026-02-02 03:59:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:59:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:59:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:59:10"}}
ERROR - 2026-02-02 03:59:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:10 --> Found 1 users who have seen message 116
ERROR - 2026-02-02 03:59:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:10 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:10"}}
ERROR - 2026-02-02 03:59:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:12 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 03:59:13 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:13 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
DEBUG - 2026-02-02 03:59:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:13 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:13 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:13"}}
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
DEBUG - 2026-02-02 03:59:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:13 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
DEBUG - 2026-02-02 03:59:13 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:59:13 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:59:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:13"}}
DEBUG - 2026-02-02 03:59:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:13 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
DEBUG - 2026-02-02 03:59:13 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:59:13 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:59:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:13"}}
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
DEBUG - 2026-02-02 03:59:13 --> ApiController initialized
ERROR - 2026-02-02 03:59:15 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:15 --> Found 10 direct messages
ERROR - 2026-02-02 03:59:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
ERROR - 2026-02-02 03:59:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:15 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:59:15 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:15 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:15 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:15 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:15"}}
DEBUG - 2026-02-02 03:59:15 --> ApiController initialized
DEBUG - 2026-02-02 03:59:15 --> ApiController initialized
DEBUG - 2026-02-02 03:59:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:15 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:15 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:15"}}
ERROR - 2026-02-02 03:59:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2229 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:17 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:17 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:17 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:17 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:17"}}
DEBUG - 2026-02-02 03:59:18 --> ApiController initialized
ERROR - 2026-02-02 03:59:18 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:18 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:18 --> ApiController initialized
ERROR - 2026-02-02 03:59:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:20 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:59:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:20 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:20 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:20 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:20"}}
DEBUG - 2026-02-02 03:59:20 --> ApiController initialized
DEBUG - 2026-02-02 03:59:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:59:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:59:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:59:20"}}
DEBUG - 2026-02-02 03:59:20 --> ApiController initialized
ERROR - 2026-02-02 03:59:22 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:22 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:22 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:22 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:22 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:22"}}
ERROR - 2026-02-02 03:59:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:22 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:22 --> ApiController initialized
DEBUG - 2026-02-02 03:59:23 --> ApiController initialized
DEBUG - 2026-02-02 03:59:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:59:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:59:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:59:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:23"}}
ERROR - 2026-02-02 03:59:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:24 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:24 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:24 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:24 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:24"}}
DEBUG - 2026-02-02 03:59:24 --> ApiController initialized
ERROR - 2026-02-02 03:59:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2230 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:25 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:59:27 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:27 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:59:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:27 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:27 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:59:27 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:59:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:27"}}
DEBUG - 2026-02-02 03:59:27 --> ApiController initialized
ERROR - 2026-02-02 03:59:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:29 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:29 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:29 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:29 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:29"}}
DEBUG - 2026-02-02 03:59:29 --> ApiController initialized
DEBUG - 2026-02-02 03:59:30 --> ApiController initialized
DEBUG - 2026-02-02 03:59:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:59:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:59:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:59:30"}}
ERROR - 2026-02-02 03:59:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:31 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:31 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:31 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:31 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:31"}}
DEBUG - 2026-02-02 03:59:31 --> ApiController initialized
ERROR - 2026-02-02 03:59:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:32 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:33 --> ApiController initialized
DEBUG - 2026-02-02 03:59:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:59:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:59:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:59:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:33"}}
ERROR - 2026-02-02 03:59:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:33 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:34 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:34 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:34 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:34"}}
DEBUG - 2026-02-02 03:59:34 --> ApiController initialized
ERROR - 2026-02-02 03:59:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:35 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 03:59:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:36 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:36 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:36 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:36 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:36"}}
DEBUG - 2026-02-02 03:59:36 --> ApiController initialized
ERROR - 2026-02-02 03:59:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2218 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:38 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:38"}}
DEBUG - 2026-02-02 03:59:38 --> ApiController initialized
DEBUG - 2026-02-02 03:59:40 --> ApiController initialized
DEBUG - 2026-02-02 03:59:40 --> ApiController initialized
DEBUG - 2026-02-02 03:59:40 --> ApiController initialized
DEBUG - 2026-02-02 03:59:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:59:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:59:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:59:40"}}
ERROR - 2026-02-02 03:59:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 03:59:40 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:59:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:40"}}
DEBUG - 2026-02-02 03:59:40 --> ApiController initialized
ERROR - 2026-02-02 03:59:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 10 direct messages
ERROR - 2026-02-02 03:59:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:41 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:59:41 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:59:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:41"}}
ERROR - 2026-02-02 03:59:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:41 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:41 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:41"}}
ERROR - 2026-02-02 03:59:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:41 --> ApiController initialized
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:41 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:41 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:41"}}
ERROR - 2026-02-02 03:59:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:41 --> ApiController initialized
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:41 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:41 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:41"}}
ERROR - 2026-02-02 03:59:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:59:41 --> ApiController initialized
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:41 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:41 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:41"}}
ERROR - 2026-02-02 03:59:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:41 --> ApiController initialized
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:41 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:41 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:41"}}
ERROR - 2026-02-02 03:59:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:41 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:42 --> ApiController initialized
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
DEBUG - 2026-02-02 03:59:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:42 --> Marking message 116 as seen by user 4 (is_group: false)
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:59:42 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:42 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:42"}}
ERROR - 2026-02-02 03:59:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:42 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> Groups data: []
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> Groups data: []
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:47 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 03:59:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:47 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 03:59:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 03:59:47"}}
DEBUG - 2026-02-02 03:59:47 --> ApiController initialized
ERROR - 2026-02-02 03:59:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:47 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:48 --> ApiController initialized
DEBUG - 2026-02-02 03:59:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:48 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 03:59:48 --> Updated is_read column for message 109
DEBUG - 2026-02-02 03:59:48 --> Updated existing message status for message 109
DEBUG - 2026-02-02 03:59:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:48"}}
ERROR - 2026-02-02 03:59:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:48 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 03:59:48 --> ApiController initialized
DEBUG - 2026-02-02 03:59:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:48 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:48 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:48"}}
ERROR - 2026-02-02 03:59:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:48 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:49 --> ApiController initialized
DEBUG - 2026-02-02 03:59:49 --> ApiController initialized
DEBUG - 2026-02-02 03:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:49 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:49 --> ApiController initialized
DEBUG - 2026-02-02 03:59:49 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:49 --> ApiController initialized
DEBUG - 2026-02-02 03:59:49 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:49"}}
DEBUG - 2026-02-02 03:59:49 --> ApiController initialized
ERROR - 2026-02-02 03:59:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:49 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:59:49 --> ApiController initialized
DEBUG - 2026-02-02 03:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:49 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:49 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:49 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:49"}}
ERROR - 2026-02-02 03:59:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:49 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:49 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:49 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:49 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:49"}}
ERROR - 2026-02-02 03:59:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:49 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 03:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:49 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:49 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:49 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:49"}}
ERROR - 2026-02-02 03:59:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:49 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:49 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:49 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:59:49 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:59:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:49"}}
ERROR - 2026-02-02 03:59:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:49 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:49 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:49 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:49 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:49"}}
ERROR - 2026-02-02 03:59:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:49 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:53 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Groups data: []
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Groups data: []
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 03:59:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 03:59:54 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 03:59:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 10 direct messages
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Updated is_read column for message 111
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Updated existing message status for message 111
DEBUG - 2026-02-02 03:59:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 03:59:54 --> ApiController initialized
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:54 --> Updated is_read column for message 113
DEBUG - 2026-02-02 03:59:54 --> Updated existing message status for message 113
DEBUG - 2026-02-02 03:59:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:54 --> Updated is_read column for message 112
DEBUG - 2026-02-02 03:59:54 --> Updated existing message status for message 112
DEBUG - 2026-02-02 03:59:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:54 --> Updated is_read column for message 116
DEBUG - 2026-02-02 03:59:54 --> Updated existing message status for message 116
DEBUG - 2026-02-02 03:59:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:54 --> Updated is_read column for message 115
DEBUG - 2026-02-02 03:59:54 --> Updated existing message status for message 115
DEBUG - 2026-02-02 03:59:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 03:59:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 03:59:54 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 03:59:54 --> Updated is_read column for message 114
DEBUG - 2026-02-02 03:59:54 --> Updated existing message status for message 114
DEBUG - 2026-02-02 03:59:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 03:59:54"}}
ERROR - 2026-02-02 03:59:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 03:59:54 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 04:00:18 --> ApiController initialized
DEBUG - 2026-02-02 04:00:18 --> ApiController initialized
DEBUG - 2026-02-02 04:00:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:23 --> ApiController initialized
DEBUG - 2026-02-02 04:00:23 --> ApiController initialized
DEBUG - 2026-02-02 04:00:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:47 --> ApiController initialized
DEBUG - 2026-02-02 04:00:47 --> ApiController initialized
DEBUG - 2026-02-02 04:00:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:54 --> ApiController initialized
DEBUG - 2026-02-02 04:00:54 --> ApiController initialized
DEBUG - 2026-02-02 04:00:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:00:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:18 --> ApiController initialized
DEBUG - 2026-02-02 04:01:18 --> ApiController initialized
DEBUG - 2026-02-02 04:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:24 --> ApiController initialized
DEBUG - 2026-02-02 04:01:24 --> ApiController initialized
DEBUG - 2026-02-02 04:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:48 --> ApiController initialized
DEBUG - 2026-02-02 04:01:48 --> ApiController initialized
DEBUG - 2026-02-02 04:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:54 --> ApiController initialized
DEBUG - 2026-02-02 04:01:54 --> ApiController initialized
DEBUG - 2026-02-02 04:01:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:01:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:18 --> ApiController initialized
DEBUG - 2026-02-02 04:02:18 --> ApiController initialized
DEBUG - 2026-02-02 04:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:24 --> ApiController initialized
DEBUG - 2026-02-02 04:02:24 --> ApiController initialized
DEBUG - 2026-02-02 04:02:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:48 --> ApiController initialized
DEBUG - 2026-02-02 04:02:48 --> ApiController initialized
DEBUG - 2026-02-02 04:02:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:54 --> ApiController initialized
DEBUG - 2026-02-02 04:02:54 --> ApiController initialized
DEBUG - 2026-02-02 04:02:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:02:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:18 --> ApiController initialized
DEBUG - 2026-02-02 04:03:18 --> ApiController initialized
DEBUG - 2026-02-02 04:03:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:24 --> ApiController initialized
DEBUG - 2026-02-02 04:03:24 --> ApiController initialized
DEBUG - 2026-02-02 04:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:48 --> ApiController initialized
DEBUG - 2026-02-02 04:03:48 --> ApiController initialized
DEBUG - 2026-02-02 04:03:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:54 --> ApiController initialized
DEBUG - 2026-02-02 04:03:54 --> ApiController initialized
DEBUG - 2026-02-02 04:03:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:03:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:18 --> ApiController initialized
DEBUG - 2026-02-02 04:04:18 --> ApiController initialized
DEBUG - 2026-02-02 04:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:24 --> ApiController initialized
DEBUG - 2026-02-02 04:04:24 --> ApiController initialized
DEBUG - 2026-02-02 04:04:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:48 --> ApiController initialized
DEBUG - 2026-02-02 04:04:48 --> ApiController initialized
DEBUG - 2026-02-02 04:04:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:54 --> ApiController initialized
DEBUG - 2026-02-02 04:04:54 --> ApiController initialized
DEBUG - 2026-02-02 04:04:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:04:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:05:18 --> ApiController initialized
DEBUG - 2026-02-02 04:05:18 --> ApiController initialized
DEBUG - 2026-02-02 04:05:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:05:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:05:24 --> ApiController initialized
DEBUG - 2026-02-02 04:05:24 --> ApiController initialized
DEBUG - 2026-02-02 04:05:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:05:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:05:48 --> ApiController initialized
DEBUG - 2026-02-02 04:05:48 --> ApiController initialized
DEBUG - 2026-02-02 04:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:06:18 --> ApiController initialized
DEBUG - 2026-02-02 04:06:18 --> ApiController initialized
DEBUG - 2026-02-02 04:06:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:06:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:06:19 --> ApiController initialized
DEBUG - 2026-02-02 04:06:19 --> ApiController initialized
DEBUG - 2026-02-02 04:06:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:06:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:06:48 --> ApiController initialized
DEBUG - 2026-02-02 04:06:48 --> ApiController initialized
DEBUG - 2026-02-02 04:06:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:06:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:07:18 --> ApiController initialized
DEBUG - 2026-02-02 04:07:18 --> ApiController initialized
DEBUG - 2026-02-02 04:07:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:07:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:07:19 --> ApiController initialized
DEBUG - 2026-02-02 04:07:19 --> ApiController initialized
DEBUG - 2026-02-02 04:07:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:07:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:07:48 --> ApiController initialized
DEBUG - 2026-02-02 04:07:48 --> ApiController initialized
DEBUG - 2026-02-02 04:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:08:18 --> ApiController initialized
DEBUG - 2026-02-02 04:08:18 --> ApiController initialized
DEBUG - 2026-02-02 04:08:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:08:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:08:19 --> ApiController initialized
DEBUG - 2026-02-02 04:08:19 --> ApiController initialized
DEBUG - 2026-02-02 04:08:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:08:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:08:48 --> ApiController initialized
DEBUG - 2026-02-02 04:08:48 --> ApiController initialized
DEBUG - 2026-02-02 04:08:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:08:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:09:18 --> ApiController initialized
DEBUG - 2026-02-02 04:09:18 --> ApiController initialized
DEBUG - 2026-02-02 04:09:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:09:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:09:19 --> ApiController initialized
DEBUG - 2026-02-02 04:09:19 --> ApiController initialized
DEBUG - 2026-02-02 04:09:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:09:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:09:48 --> ApiController initialized
DEBUG - 2026-02-02 04:09:48 --> ApiController initialized
DEBUG - 2026-02-02 04:09:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:09:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:10:18 --> ApiController initialized
DEBUG - 2026-02-02 04:10:18 --> ApiController initialized
DEBUG - 2026-02-02 04:10:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:10:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:10:19 --> ApiController initialized
DEBUG - 2026-02-02 04:10:19 --> ApiController initialized
DEBUG - 2026-02-02 04:10:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:10:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:10:48 --> ApiController initialized
DEBUG - 2026-02-02 04:10:48 --> ApiController initialized
DEBUG - 2026-02-02 04:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:11:18 --> ApiController initialized
DEBUG - 2026-02-02 04:11:18 --> ApiController initialized
DEBUG - 2026-02-02 04:11:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:11:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:11:19 --> ApiController initialized
DEBUG - 2026-02-02 04:11:19 --> ApiController initialized
DEBUG - 2026-02-02 04:11:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:11:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:11:48 --> ApiController initialized
DEBUG - 2026-02-02 04:11:48 --> ApiController initialized
DEBUG - 2026-02-02 04:11:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:11:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:12:18 --> ApiController initialized
DEBUG - 2026-02-02 04:12:18 --> ApiController initialized
DEBUG - 2026-02-02 04:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:12:19 --> ApiController initialized
DEBUG - 2026-02-02 04:12:19 --> ApiController initialized
DEBUG - 2026-02-02 04:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:12:48 --> ApiController initialized
DEBUG - 2026-02-02 04:12:48 --> ApiController initialized
DEBUG - 2026-02-02 04:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:13:18 --> ApiController initialized
DEBUG - 2026-02-02 04:13:18 --> ApiController initialized
DEBUG - 2026-02-02 04:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:13:19 --> ApiController initialized
DEBUG - 2026-02-02 04:13:19 --> ApiController initialized
DEBUG - 2026-02-02 04:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:13:48 --> ApiController initialized
DEBUG - 2026-02-02 04:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:13:48 --> ApiController initialized
DEBUG - 2026-02-02 04:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:14:18 --> ApiController initialized
DEBUG - 2026-02-02 04:14:18 --> ApiController initialized
DEBUG - 2026-02-02 04:14:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:14:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:14:19 --> ApiController initialized
DEBUG - 2026-02-02 04:14:19 --> ApiController initialized
DEBUG - 2026-02-02 04:14:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:14:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:14:48 --> ApiController initialized
DEBUG - 2026-02-02 04:14:48 --> ApiController initialized
DEBUG - 2026-02-02 04:14:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:14:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:15:18 --> ApiController initialized
DEBUG - 2026-02-02 04:15:18 --> ApiController initialized
DEBUG - 2026-02-02 04:15:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:15:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:15:19 --> ApiController initialized
DEBUG - 2026-02-02 04:15:19 --> ApiController initialized
DEBUG - 2026-02-02 04:15:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:15:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:15:48 --> ApiController initialized
DEBUG - 2026-02-02 04:15:48 --> ApiController initialized
DEBUG - 2026-02-02 04:15:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:15:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:16:18 --> ApiController initialized
DEBUG - 2026-02-02 04:16:18 --> ApiController initialized
DEBUG - 2026-02-02 04:16:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:16:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:16:19 --> ApiController initialized
DEBUG - 2026-02-02 04:16:19 --> ApiController initialized
DEBUG - 2026-02-02 04:16:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:16:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:16:48 --> ApiController initialized
DEBUG - 2026-02-02 04:16:48 --> ApiController initialized
DEBUG - 2026-02-02 04:16:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:16:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:17:18 --> ApiController initialized
DEBUG - 2026-02-02 04:17:18 --> ApiController initialized
DEBUG - 2026-02-02 04:17:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:17:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:17:19 --> ApiController initialized
DEBUG - 2026-02-02 04:17:19 --> ApiController initialized
DEBUG - 2026-02-02 04:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:17:48 --> ApiController initialized
DEBUG - 2026-02-02 04:17:48 --> ApiController initialized
DEBUG - 2026-02-02 04:17:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:17:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:18:18 --> ApiController initialized
DEBUG - 2026-02-02 04:18:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:18:18 --> ApiController initialized
DEBUG - 2026-02-02 04:18:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:18:19 --> ApiController initialized
DEBUG - 2026-02-02 04:18:19 --> ApiController initialized
DEBUG - 2026-02-02 04:18:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:18:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:18:48 --> ApiController initialized
DEBUG - 2026-02-02 04:18:48 --> ApiController initialized
DEBUG - 2026-02-02 04:18:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:18:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:19:18 --> ApiController initialized
DEBUG - 2026-02-02 04:19:18 --> ApiController initialized
DEBUG - 2026-02-02 04:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:19:19 --> ApiController initialized
DEBUG - 2026-02-02 04:19:19 --> ApiController initialized
DEBUG - 2026-02-02 04:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:19:48 --> ApiController initialized
DEBUG - 2026-02-02 04:19:48 --> ApiController initialized
DEBUG - 2026-02-02 04:19:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:19:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:20:18 --> ApiController initialized
DEBUG - 2026-02-02 04:20:18 --> ApiController initialized
DEBUG - 2026-02-02 04:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:20:19 --> ApiController initialized
DEBUG - 2026-02-02 04:20:19 --> ApiController initialized
DEBUG - 2026-02-02 04:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:20:48 --> ApiController initialized
DEBUG - 2026-02-02 04:20:48 --> ApiController initialized
DEBUG - 2026-02-02 04:20:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:20:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:21:18 --> ApiController initialized
DEBUG - 2026-02-02 04:21:18 --> ApiController initialized
DEBUG - 2026-02-02 04:21:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:21:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:21:19 --> ApiController initialized
DEBUG - 2026-02-02 04:21:19 --> ApiController initialized
DEBUG - 2026-02-02 04:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:21:48 --> ApiController initialized
DEBUG - 2026-02-02 04:21:48 --> ApiController initialized
DEBUG - 2026-02-02 04:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:22:18 --> ApiController initialized
DEBUG - 2026-02-02 04:22:18 --> ApiController initialized
DEBUG - 2026-02-02 04:22:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:22:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:22:19 --> ApiController initialized
DEBUG - 2026-02-02 04:22:19 --> ApiController initialized
DEBUG - 2026-02-02 04:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:22:48 --> ApiController initialized
DEBUG - 2026-02-02 04:22:48 --> ApiController initialized
DEBUG - 2026-02-02 04:22:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:22:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:23:18 --> ApiController initialized
DEBUG - 2026-02-02 04:23:18 --> ApiController initialized
DEBUG - 2026-02-02 04:23:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:23:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:23:19 --> ApiController initialized
DEBUG - 2026-02-02 04:23:19 --> ApiController initialized
DEBUG - 2026-02-02 04:23:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:23:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:23:48 --> ApiController initialized
DEBUG - 2026-02-02 04:23:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:23:48 --> ApiController initialized
DEBUG - 2026-02-02 04:23:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:24:18 --> ApiController initialized
DEBUG - 2026-02-02 04:24:18 --> ApiController initialized
DEBUG - 2026-02-02 04:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:24:19 --> ApiController initialized
DEBUG - 2026-02-02 04:24:19 --> ApiController initialized
DEBUG - 2026-02-02 04:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:24:48 --> ApiController initialized
DEBUG - 2026-02-02 04:24:48 --> ApiController initialized
DEBUG - 2026-02-02 04:24:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:24:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:25:18 --> ApiController initialized
DEBUG - 2026-02-02 04:25:18 --> ApiController initialized
DEBUG - 2026-02-02 04:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:25:19 --> ApiController initialized
DEBUG - 2026-02-02 04:25:19 --> ApiController initialized
DEBUG - 2026-02-02 04:25:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:25:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:25:48 --> ApiController initialized
DEBUG - 2026-02-02 04:25:48 --> ApiController initialized
DEBUG - 2026-02-02 04:25:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:25:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:26:18 --> ApiController initialized
DEBUG - 2026-02-02 04:26:18 --> ApiController initialized
DEBUG - 2026-02-02 04:26:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:26:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:26:19 --> ApiController initialized
DEBUG - 2026-02-02 04:26:19 --> ApiController initialized
DEBUG - 2026-02-02 04:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:26:48 --> ApiController initialized
DEBUG - 2026-02-02 04:26:48 --> ApiController initialized
DEBUG - 2026-02-02 04:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:27:18 --> ApiController initialized
DEBUG - 2026-02-02 04:27:18 --> ApiController initialized
DEBUG - 2026-02-02 04:27:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:27:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:27:19 --> ApiController initialized
DEBUG - 2026-02-02 04:27:19 --> ApiController initialized
DEBUG - 2026-02-02 04:27:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:27:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:27:48 --> ApiController initialized
DEBUG - 2026-02-02 04:27:48 --> ApiController initialized
DEBUG - 2026-02-02 04:27:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:27:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:28:18 --> ApiController initialized
DEBUG - 2026-02-02 04:28:18 --> ApiController initialized
DEBUG - 2026-02-02 04:28:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:28:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:28:19 --> ApiController initialized
DEBUG - 2026-02-02 04:28:19 --> ApiController initialized
DEBUG - 2026-02-02 04:28:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:28:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:28:48 --> ApiController initialized
DEBUG - 2026-02-02 04:28:48 --> ApiController initialized
DEBUG - 2026-02-02 04:28:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:28:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:29:18 --> ApiController initialized
DEBUG - 2026-02-02 04:29:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:29:18 --> ApiController initialized
DEBUG - 2026-02-02 04:29:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:29:19 --> ApiController initialized
DEBUG - 2026-02-02 04:29:19 --> ApiController initialized
DEBUG - 2026-02-02 04:29:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:29:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:29:48 --> ApiController initialized
DEBUG - 2026-02-02 04:29:48 --> ApiController initialized
DEBUG - 2026-02-02 04:29:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:29:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:30:18 --> ApiController initialized
DEBUG - 2026-02-02 04:30:18 --> ApiController initialized
DEBUG - 2026-02-02 04:30:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:30:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:30:19 --> ApiController initialized
DEBUG - 2026-02-02 04:30:19 --> ApiController initialized
DEBUG - 2026-02-02 04:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:30:48 --> ApiController initialized
DEBUG - 2026-02-02 04:30:48 --> ApiController initialized
DEBUG - 2026-02-02 04:30:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:30:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:31:18 --> ApiController initialized
DEBUG - 2026-02-02 04:31:18 --> ApiController initialized
DEBUG - 2026-02-02 04:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:31:19 --> ApiController initialized
DEBUG - 2026-02-02 04:31:19 --> ApiController initialized
DEBUG - 2026-02-02 04:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:31:48 --> ApiController initialized
DEBUG - 2026-02-02 04:31:48 --> ApiController initialized
DEBUG - 2026-02-02 04:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:32:18 --> ApiController initialized
DEBUG - 2026-02-02 04:32:18 --> ApiController initialized
DEBUG - 2026-02-02 04:32:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:32:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:32:19 --> ApiController initialized
DEBUG - 2026-02-02 04:32:19 --> ApiController initialized
DEBUG - 2026-02-02 04:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:32:48 --> ApiController initialized
DEBUG - 2026-02-02 04:32:48 --> ApiController initialized
DEBUG - 2026-02-02 04:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:33:18 --> ApiController initialized
DEBUG - 2026-02-02 04:33:18 --> ApiController initialized
DEBUG - 2026-02-02 04:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:33:19 --> ApiController initialized
DEBUG - 2026-02-02 04:33:19 --> ApiController initialized
DEBUG - 2026-02-02 04:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:33:48 --> ApiController initialized
DEBUG - 2026-02-02 04:33:48 --> ApiController initialized
DEBUG - 2026-02-02 04:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:34:18 --> ApiController initialized
DEBUG - 2026-02-02 04:34:18 --> ApiController initialized
DEBUG - 2026-02-02 04:34:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:34:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:34:19 --> ApiController initialized
DEBUG - 2026-02-02 04:34:19 --> ApiController initialized
DEBUG - 2026-02-02 04:34:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:34:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:34:48 --> ApiController initialized
DEBUG - 2026-02-02 04:34:48 --> ApiController initialized
DEBUG - 2026-02-02 04:34:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:34:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:35:18 --> ApiController initialized
DEBUG - 2026-02-02 04:35:18 --> ApiController initialized
DEBUG - 2026-02-02 04:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:35:19 --> ApiController initialized
DEBUG - 2026-02-02 04:35:19 --> ApiController initialized
DEBUG - 2026-02-02 04:35:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:35:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:35:48 --> ApiController initialized
DEBUG - 2026-02-02 04:35:48 --> ApiController initialized
DEBUG - 2026-02-02 04:35:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:35:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:36:18 --> ApiController initialized
DEBUG - 2026-02-02 04:36:18 --> ApiController initialized
DEBUG - 2026-02-02 04:36:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:36:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:36:19 --> ApiController initialized
DEBUG - 2026-02-02 04:36:19 --> ApiController initialized
DEBUG - 2026-02-02 04:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:36:48 --> ApiController initialized
DEBUG - 2026-02-02 04:36:48 --> ApiController initialized
DEBUG - 2026-02-02 04:36:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:36:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:37:18 --> ApiController initialized
DEBUG - 2026-02-02 04:37:18 --> ApiController initialized
DEBUG - 2026-02-02 04:37:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:37:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:37:19 --> ApiController initialized
DEBUG - 2026-02-02 04:37:19 --> ApiController initialized
DEBUG - 2026-02-02 04:37:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:37:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:37:48 --> ApiController initialized
DEBUG - 2026-02-02 04:37:48 --> ApiController initialized
DEBUG - 2026-02-02 04:37:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:37:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:38:18 --> ApiController initialized
DEBUG - 2026-02-02 04:38:18 --> ApiController initialized
DEBUG - 2026-02-02 04:38:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:38:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:38:19 --> ApiController initialized
DEBUG - 2026-02-02 04:38:19 --> ApiController initialized
DEBUG - 2026-02-02 04:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:38:48 --> ApiController initialized
DEBUG - 2026-02-02 04:38:48 --> ApiController initialized
DEBUG - 2026-02-02 04:38:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:38:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:39:18 --> ApiController initialized
DEBUG - 2026-02-02 04:39:18 --> ApiController initialized
DEBUG - 2026-02-02 04:39:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:39:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:39:19 --> ApiController initialized
DEBUG - 2026-02-02 04:39:19 --> ApiController initialized
DEBUG - 2026-02-02 04:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:39:48 --> ApiController initialized
DEBUG - 2026-02-02 04:39:48 --> ApiController initialized
DEBUG - 2026-02-02 04:39:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:39:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:40:18 --> ApiController initialized
DEBUG - 2026-02-02 04:40:18 --> ApiController initialized
DEBUG - 2026-02-02 04:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:40:19 --> ApiController initialized
DEBUG - 2026-02-02 04:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:40:19 --> ApiController initialized
DEBUG - 2026-02-02 04:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:40:48 --> ApiController initialized
DEBUG - 2026-02-02 04:40:48 --> ApiController initialized
DEBUG - 2026-02-02 04:40:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:40:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:41:18 --> ApiController initialized
DEBUG - 2026-02-02 04:41:18 --> ApiController initialized
DEBUG - 2026-02-02 04:41:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:41:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:41:19 --> ApiController initialized
DEBUG - 2026-02-02 04:41:19 --> ApiController initialized
DEBUG - 2026-02-02 04:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:41:48 --> ApiController initialized
DEBUG - 2026-02-02 04:41:48 --> ApiController initialized
DEBUG - 2026-02-02 04:41:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:41:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:42:18 --> ApiController initialized
DEBUG - 2026-02-02 04:42:18 --> ApiController initialized
DEBUG - 2026-02-02 04:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:42:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:42:19 --> ApiController initialized
DEBUG - 2026-02-02 04:42:19 --> ApiController initialized
DEBUG - 2026-02-02 04:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:42:48 --> ApiController initialized
DEBUG - 2026-02-02 04:42:48 --> ApiController initialized
DEBUG - 2026-02-02 04:42:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:42:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:43:18 --> ApiController initialized
DEBUG - 2026-02-02 04:43:18 --> ApiController initialized
DEBUG - 2026-02-02 04:43:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:43:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:43:19 --> ApiController initialized
DEBUG - 2026-02-02 04:43:19 --> ApiController initialized
DEBUG - 2026-02-02 04:43:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:43:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:43:48 --> ApiController initialized
DEBUG - 2026-02-02 04:43:48 --> ApiController initialized
DEBUG - 2026-02-02 04:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:44:18 --> ApiController initialized
DEBUG - 2026-02-02 04:44:18 --> ApiController initialized
DEBUG - 2026-02-02 04:44:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:44:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:44:19 --> ApiController initialized
DEBUG - 2026-02-02 04:44:19 --> ApiController initialized
DEBUG - 2026-02-02 04:44:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:44:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:44:48 --> ApiController initialized
DEBUG - 2026-02-02 04:44:48 --> ApiController initialized
DEBUG - 2026-02-02 04:44:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:44:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:45:18 --> ApiController initialized
DEBUG - 2026-02-02 04:45:18 --> ApiController initialized
DEBUG - 2026-02-02 04:45:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:45:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:45:19 --> ApiController initialized
DEBUG - 2026-02-02 04:45:19 --> ApiController initialized
DEBUG - 2026-02-02 04:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:45:48 --> ApiController initialized
DEBUG - 2026-02-02 04:45:48 --> ApiController initialized
DEBUG - 2026-02-02 04:45:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:45:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:46:18 --> ApiController initialized
DEBUG - 2026-02-02 04:46:18 --> ApiController initialized
DEBUG - 2026-02-02 04:46:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:46:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:46:19 --> ApiController initialized
DEBUG - 2026-02-02 04:46:19 --> ApiController initialized
DEBUG - 2026-02-02 04:46:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:46:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:46:48 --> ApiController initialized
DEBUG - 2026-02-02 04:46:48 --> ApiController initialized
DEBUG - 2026-02-02 04:46:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:46:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:47:18 --> ApiController initialized
DEBUG - 2026-02-02 04:47:18 --> ApiController initialized
DEBUG - 2026-02-02 04:47:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:47:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:47:19 --> ApiController initialized
DEBUG - 2026-02-02 04:47:19 --> ApiController initialized
DEBUG - 2026-02-02 04:47:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:47:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:47:48 --> ApiController initialized
DEBUG - 2026-02-02 04:47:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:47:48 --> ApiController initialized
DEBUG - 2026-02-02 04:47:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:48:18 --> ApiController initialized
DEBUG - 2026-02-02 04:48:18 --> ApiController initialized
DEBUG - 2026-02-02 04:48:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:48:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:48:19 --> ApiController initialized
DEBUG - 2026-02-02 04:48:19 --> ApiController initialized
DEBUG - 2026-02-02 04:48:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:48:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:48:48 --> ApiController initialized
DEBUG - 2026-02-02 04:48:48 --> ApiController initialized
DEBUG - 2026-02-02 04:48:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:48:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:49:18 --> ApiController initialized
DEBUG - 2026-02-02 04:49:18 --> ApiController initialized
DEBUG - 2026-02-02 04:49:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:49:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:49:19 --> ApiController initialized
DEBUG - 2026-02-02 04:49:19 --> ApiController initialized
DEBUG - 2026-02-02 04:49:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:49:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:49:48 --> ApiController initialized
DEBUG - 2026-02-02 04:49:48 --> ApiController initialized
DEBUG - 2026-02-02 04:49:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:49:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:50:18 --> ApiController initialized
DEBUG - 2026-02-02 04:50:18 --> ApiController initialized
DEBUG - 2026-02-02 04:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:50:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:50:19 --> ApiController initialized
DEBUG - 2026-02-02 04:50:19 --> ApiController initialized
DEBUG - 2026-02-02 04:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:50:48 --> ApiController initialized
DEBUG - 2026-02-02 04:50:48 --> ApiController initialized
DEBUG - 2026-02-02 04:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:51:18 --> ApiController initialized
DEBUG - 2026-02-02 04:51:18 --> ApiController initialized
DEBUG - 2026-02-02 04:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:51:19 --> ApiController initialized
DEBUG - 2026-02-02 04:51:19 --> ApiController initialized
DEBUG - 2026-02-02 04:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:51:48 --> ApiController initialized
DEBUG - 2026-02-02 04:51:48 --> ApiController initialized
DEBUG - 2026-02-02 04:51:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:51:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:52:18 --> ApiController initialized
DEBUG - 2026-02-02 04:52:18 --> ApiController initialized
DEBUG - 2026-02-02 04:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:52:19 --> ApiController initialized
DEBUG - 2026-02-02 04:52:19 --> ApiController initialized
DEBUG - 2026-02-02 04:52:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:52:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:52:48 --> ApiController initialized
DEBUG - 2026-02-02 04:52:48 --> ApiController initialized
DEBUG - 2026-02-02 04:52:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:52:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:53:18 --> ApiController initialized
DEBUG - 2026-02-02 04:53:18 --> ApiController initialized
DEBUG - 2026-02-02 04:53:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:53:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:53:19 --> ApiController initialized
DEBUG - 2026-02-02 04:53:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:53:19 --> ApiController initialized
DEBUG - 2026-02-02 04:53:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:53:48 --> ApiController initialized
DEBUG - 2026-02-02 04:53:48 --> ApiController initialized
DEBUG - 2026-02-02 04:53:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:53:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:54:18 --> ApiController initialized
DEBUG - 2026-02-02 04:54:18 --> ApiController initialized
DEBUG - 2026-02-02 04:54:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:54:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:54:19 --> ApiController initialized
DEBUG - 2026-02-02 04:54:19 --> ApiController initialized
DEBUG - 2026-02-02 04:54:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:54:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:54:48 --> ApiController initialized
DEBUG - 2026-02-02 04:54:48 --> ApiController initialized
DEBUG - 2026-02-02 04:54:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:54:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:55:18 --> ApiController initialized
DEBUG - 2026-02-02 04:55:18 --> ApiController initialized
DEBUG - 2026-02-02 04:55:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:55:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:55:19 --> ApiController initialized
DEBUG - 2026-02-02 04:55:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:55:19 --> ApiController initialized
DEBUG - 2026-02-02 04:55:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:55:48 --> ApiController initialized
DEBUG - 2026-02-02 04:55:48 --> ApiController initialized
DEBUG - 2026-02-02 04:55:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:55:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:56:18 --> ApiController initialized
DEBUG - 2026-02-02 04:56:18 --> ApiController initialized
DEBUG - 2026-02-02 04:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:56:19 --> ApiController initialized
DEBUG - 2026-02-02 04:56:19 --> ApiController initialized
DEBUG - 2026-02-02 04:56:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:56:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:56:48 --> ApiController initialized
DEBUG - 2026-02-02 04:56:48 --> ApiController initialized
DEBUG - 2026-02-02 04:56:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:56:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:57:18 --> ApiController initialized
DEBUG - 2026-02-02 04:57:18 --> ApiController initialized
DEBUG - 2026-02-02 04:57:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:57:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:57:19 --> ApiController initialized
DEBUG - 2026-02-02 04:57:19 --> ApiController initialized
DEBUG - 2026-02-02 04:57:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:57:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:57:48 --> ApiController initialized
DEBUG - 2026-02-02 04:57:48 --> ApiController initialized
DEBUG - 2026-02-02 04:57:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:57:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:58:18 --> ApiController initialized
DEBUG - 2026-02-02 04:58:18 --> ApiController initialized
DEBUG - 2026-02-02 04:58:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:58:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:58:19 --> ApiController initialized
DEBUG - 2026-02-02 04:58:19 --> ApiController initialized
DEBUG - 2026-02-02 04:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:58:48 --> ApiController initialized
DEBUG - 2026-02-02 04:58:48 --> ApiController initialized
DEBUG - 2026-02-02 04:58:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:58:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:59:18 --> ApiController initialized
DEBUG - 2026-02-02 04:59:18 --> ApiController initialized
DEBUG - 2026-02-02 04:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:59:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:59:19 --> ApiController initialized
DEBUG - 2026-02-02 04:59:19 --> ApiController initialized
DEBUG - 2026-02-02 04:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:59:48 --> ApiController initialized
DEBUG - 2026-02-02 04:59:48 --> ApiController initialized
DEBUG - 2026-02-02 04:59:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 04:59:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:00:18 --> ApiController initialized
DEBUG - 2026-02-02 05:00:18 --> ApiController initialized
DEBUG - 2026-02-02 05:00:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:00:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:00:19 --> ApiController initialized
DEBUG - 2026-02-02 05:00:19 --> ApiController initialized
DEBUG - 2026-02-02 05:00:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:00:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:00:48 --> ApiController initialized
DEBUG - 2026-02-02 05:00:48 --> ApiController initialized
DEBUG - 2026-02-02 05:00:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:00:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:18 --> ApiController initialized
DEBUG - 2026-02-02 05:01:18 --> ApiController initialized
DEBUG - 2026-02-02 05:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:19 --> ApiController initialized
DEBUG - 2026-02-02 05:01:19 --> ApiController initialized
DEBUG - 2026-02-02 05:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:36 --> ApiController initialized
DEBUG - 2026-02-02 05:01:36 --> ApiController initialized
DEBUG - 2026-02-02 05:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:48 --> ApiController initialized
DEBUG - 2026-02-02 05:01:48 --> ApiController initialized
DEBUG - 2026-02-02 05:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:54 --> ApiController initialized
DEBUG - 2026-02-02 05:01:54 --> ApiController initialized
DEBUG - 2026-02-02 05:01:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:01:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:18 --> ApiController initialized
DEBUG - 2026-02-02 05:02:18 --> ApiController initialized
DEBUG - 2026-02-02 05:02:18 --> ApiController initialized
DEBUG - 2026-02-02 05:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:02:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:02:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:02:18"}}
ERROR - 2026-02-02 05:02:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2236 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:20 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:21 --> ApiController initialized
DEBUG - 2026-02-02 05:02:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:21 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:02:21 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:02:21 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:02:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:21"}}
ERROR - 2026-02-02 05:02:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:23 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:02:23 --> ApiController initialized
DEBUG - 2026-02-02 05:02:23 --> ApiController initialized
DEBUG - 2026-02-02 05:02:23 --> ApiController initialized
DEBUG - 2026-02-02 05:02:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:23 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:02:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:02:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:02:23"}}
ERROR - 2026-02-02 05:02:26 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2224 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:26 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:27 --> ApiController initialized
DEBUG - 2026-02-02 05:02:27 --> ApiController initialized
DEBUG - 2026-02-02 05:02:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:27 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:27 --> ApiController initialized
DEBUG - 2026-02-02 05:02:27 --> ApiController initialized
DEBUG - 2026-02-02 05:02:27 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:02:27 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:02:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:27"}}
DEBUG - 2026-02-02 05:02:27 --> ApiController initialized
DEBUG - 2026-02-02 05:02:27 --> ApiController initialized
DEBUG - 2026-02-02 05:02:28 --> ApiController initialized
DEBUG - 2026-02-02 05:02:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:28 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:02:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:28 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:02:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:02:28"}}
ERROR - 2026-02-02 05:02:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:29 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:02:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:29 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:29 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:02:29 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:02:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:29"}}
ERROR - 2026-02-02 05:02:30 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:30 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:31 --> ApiController initialized
DEBUG - 2026-02-02 05:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:31 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:02:31 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:02:31 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:31"}}
ERROR - 2026-02-02 05:02:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:31 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:31 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:31 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:02:31 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:31"}}
ERROR - 2026-02-02 05:02:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:33 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:02:34 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:34 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:02:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:34 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:34 --> ApiController initialized
DEBUG - 2026-02-02 05:02:34 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:02:34 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:02:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:34"}}
ERROR - 2026-02-02 05:02:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:36 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:02:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:36 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:36 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:02:36 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:02:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:36"}}
DEBUG - 2026-02-02 05:02:38 --> ApiController initialized
DEBUG - 2026-02-02 05:02:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:02:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:02:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:02:38"}}
ERROR - 2026-02-02 05:02:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:38 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:02:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:02:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:02:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:38"}}
ERROR - 2026-02-02 05:02:40 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:40 --> Found 10 direct messages
ERROR - 2026-02-02 05:02:41 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:02:41 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:02:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:41 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:02:41 --> ApiController initialized
DEBUG - 2026-02-02 05:02:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:41 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:02:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:02:41"}}
DEBUG - 2026-02-02 05:02:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:41 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:02:41 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:02:41 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:02:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:41"}}
ERROR - 2026-02-02 05:02:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:42 --> Found 10 direct messages
ERROR - 2026-02-02 05:02:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:42 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:02:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:43 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:02:43 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:02:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:02:43 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:02:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:43 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:02:43 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:02:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:02:43 --> ApiController initialized
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:43 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:02:43 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:02:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:43 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:02:43 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:02:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:43 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:02:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:43 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:02:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:02:43"}}
ERROR - 2026-02-02 05:02:43 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:43 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:44 --> ApiController initialized
DEBUG - 2026-02-02 05:02:44 --> ApiController initialized
DEBUG - 2026-02-02 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:44 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:44 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:02:44 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:02:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:44"}}
DEBUG - 2026-02-02 05:02:44 --> ApiController initialized
ERROR - 2026-02-02 05:02:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:44 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:44 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:44 --> ApiController initialized
DEBUG - 2026-02-02 05:02:44 --> ApiController initialized
DEBUG - 2026-02-02 05:02:44 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:02:44 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:02:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:44"}}
DEBUG - 2026-02-02 05:02:44 --> ApiController initialized
ERROR - 2026-02-02 05:02:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:44 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:44 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:44 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:02:44 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:02:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:44"}}
ERROR - 2026-02-02 05:02:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:44 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:44 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:44 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:02:44 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:02:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:44"}}
ERROR - 2026-02-02 05:02:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:44 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:44 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:44 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:02:44 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:02:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:44"}}
ERROR - 2026-02-02 05:02:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:44 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:44 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:44 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:02:44 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:02:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:44"}}
ERROR - 2026-02-02 05:02:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:44 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:02:45 --> ApiController initialized
DEBUG - 2026-02-02 05:02:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:45 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:02:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:46 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:02:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:02:46"}}
ERROR - 2026-02-02 05:02:46 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:46 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:46 --> ApiController initialized
DEBUG - 2026-02-02 05:02:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:46 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:02:46 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:02:46 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:02:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:46"}}
ERROR - 2026-02-02 05:02:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:46 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:02:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Groups data: []
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Groups data: []
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:47 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:02:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:02:47"}}
ERROR - 2026-02-02 05:02:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:47 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> ApiController initialized
DEBUG - 2026-02-02 05:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:47 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:02:47 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:02:47 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:02:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:47"}}
ERROR - 2026-02-02 05:02:47 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:47 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:02:54 --> ApiController initialized
DEBUG - 2026-02-02 05:02:54 --> ApiController initialized
DEBUG - 2026-02-02 05:02:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:57 --> ApiController initialized
DEBUG - 2026-02-02 05:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:57 --> ApiController initialized
DEBUG - 2026-02-02 05:02:57 --> ApiController initialized
DEBUG - 2026-02-02 05:02:57 --> ApiController initialized
DEBUG - 2026-02-02 05:02:57 --> Groups data: []
DEBUG - 2026-02-02 05:02:57 --> ApiController initialized
DEBUG - 2026-02-02 05:02:57 --> ApiController initialized
DEBUG - 2026-02-02 05:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:02:58 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:02:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 10 direct messages
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Groups data: []
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:02:58 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:58 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:02:58 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> ApiController initialized
DEBUG - 2026-02-02 05:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:58 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:02:58 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:58 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:02:58 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:58 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:02:58 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:02:58 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:02:58 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:02:58 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:02:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:02:58"}}
ERROR - 2026-02-02 05:02:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:02:58 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:03:17 --> ApiController initialized
DEBUG - 2026-02-02 05:03:17 --> ApiController initialized
DEBUG - 2026-02-02 05:03:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:27 --> ApiController initialized
DEBUG - 2026-02-02 05:03:27 --> ApiController initialized
DEBUG - 2026-02-02 05:03:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:47 --> ApiController initialized
DEBUG - 2026-02-02 05:03:47 --> ApiController initialized
DEBUG - 2026-02-02 05:03:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:57 --> ApiController initialized
DEBUG - 2026-02-02 05:03:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:03:57 --> ApiController initialized
DEBUG - 2026-02-02 05:03:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:17 --> ApiController initialized
DEBUG - 2026-02-02 05:04:17 --> ApiController initialized
DEBUG - 2026-02-02 05:04:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:27 --> ApiController initialized
DEBUG - 2026-02-02 05:04:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:27 --> ApiController initialized
DEBUG - 2026-02-02 05:04:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:47 --> ApiController initialized
DEBUG - 2026-02-02 05:04:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:47 --> ApiController initialized
DEBUG - 2026-02-02 05:04:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:57 --> ApiController initialized
DEBUG - 2026-02-02 05:04:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:04:57 --> ApiController initialized
DEBUG - 2026-02-02 05:04:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:17 --> ApiController initialized
DEBUG - 2026-02-02 05:05:17 --> ApiController initialized
DEBUG - 2026-02-02 05:05:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:27 --> ApiController initialized
DEBUG - 2026-02-02 05:05:27 --> ApiController initialized
DEBUG - 2026-02-02 05:05:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:47 --> ApiController initialized
DEBUG - 2026-02-02 05:05:47 --> ApiController initialized
DEBUG - 2026-02-02 05:05:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:57 --> ApiController initialized
DEBUG - 2026-02-02 05:05:57 --> ApiController initialized
DEBUG - 2026-02-02 05:05:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:05:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:17 --> ApiController initialized
DEBUG - 2026-02-02 05:06:17 --> ApiController initialized
DEBUG - 2026-02-02 05:06:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:27 --> ApiController initialized
DEBUG - 2026-02-02 05:06:27 --> ApiController initialized
DEBUG - 2026-02-02 05:06:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:47 --> ApiController initialized
DEBUG - 2026-02-02 05:06:47 --> ApiController initialized
DEBUG - 2026-02-02 05:06:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:57 --> ApiController initialized
DEBUG - 2026-02-02 05:06:57 --> ApiController initialized
DEBUG - 2026-02-02 05:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:17 --> ApiController initialized
DEBUG - 2026-02-02 05:07:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:17 --> ApiController initialized
DEBUG - 2026-02-02 05:07:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:27 --> ApiController initialized
DEBUG - 2026-02-02 05:07:27 --> ApiController initialized
DEBUG - 2026-02-02 05:07:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:47 --> ApiController initialized
DEBUG - 2026-02-02 05:07:47 --> ApiController initialized
DEBUG - 2026-02-02 05:07:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:57 --> ApiController initialized
DEBUG - 2026-02-02 05:07:57 --> ApiController initialized
DEBUG - 2026-02-02 05:07:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:07:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:17 --> ApiController initialized
DEBUG - 2026-02-02 05:08:17 --> ApiController initialized
DEBUG - 2026-02-02 05:08:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:27 --> ApiController initialized
DEBUG - 2026-02-02 05:08:27 --> ApiController initialized
DEBUG - 2026-02-02 05:08:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:47 --> ApiController initialized
DEBUG - 2026-02-02 05:08:47 --> ApiController initialized
DEBUG - 2026-02-02 05:08:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:57 --> ApiController initialized
DEBUG - 2026-02-02 05:08:57 --> ApiController initialized
DEBUG - 2026-02-02 05:08:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:08:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:17 --> ApiController initialized
DEBUG - 2026-02-02 05:09:17 --> ApiController initialized
DEBUG - 2026-02-02 05:09:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:27 --> ApiController initialized
DEBUG - 2026-02-02 05:09:27 --> ApiController initialized
DEBUG - 2026-02-02 05:09:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:47 --> ApiController initialized
DEBUG - 2026-02-02 05:09:47 --> ApiController initialized
DEBUG - 2026-02-02 05:09:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:57 --> ApiController initialized
DEBUG - 2026-02-02 05:09:57 --> ApiController initialized
DEBUG - 2026-02-02 05:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:17 --> ApiController initialized
DEBUG - 2026-02-02 05:10:17 --> ApiController initialized
DEBUG - 2026-02-02 05:10:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:28 --> ApiController initialized
DEBUG - 2026-02-02 05:10:28 --> ApiController initialized
DEBUG - 2026-02-02 05:10:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Groups data: []
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Groups data: []
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:10:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:10:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:10:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:10:30"}}
ERROR - 2026-02-02 05:10:30 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:30 --> Found 10 direct messages
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> ApiController initialized
DEBUG - 2026-02-02 05:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:30 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:10:30 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:10:30 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:10:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:30"}}
ERROR - 2026-02-02 05:10:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:30 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:39 --> Groups data: []
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:39 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:39 --> ApiController initialized
DEBUG - 2026-02-02 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:10:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:10:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 10 direct messages
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Groups data: []
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:10:40 --> ApiController initialized
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:10:40 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:10:40 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:10:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:10:40 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:10:40 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:10:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:10:40 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:10:40 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:10:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:10:40 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:10:40 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:10:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:10:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:10:40 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:10:40 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:10:40 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:10:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:10:40"}}
ERROR - 2026-02-02 05:10:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:10:40 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:11:00 --> ApiController initialized
DEBUG - 2026-02-02 05:11:00 --> ApiController initialized
DEBUG - 2026-02-02 05:11:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:09 --> ApiController initialized
DEBUG - 2026-02-02 05:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:09 --> ApiController initialized
DEBUG - 2026-02-02 05:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Groups data: []
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:11:26 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:11:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:11:26"}}
ERROR - 2026-02-02 05:11:26 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:11:26 --> Found 10 direct messages
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Groups data: []
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:11:26 --> ApiController initialized
DEBUG - 2026-02-02 05:11:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:26 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:11:26 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:11:26 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:11:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:11:26"}}
ERROR - 2026-02-02 05:11:26 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:11:26 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:11:39 --> ApiController initialized
DEBUG - 2026-02-02 05:11:39 --> ApiController initialized
DEBUG - 2026-02-02 05:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:56 --> ApiController initialized
DEBUG - 2026-02-02 05:11:56 --> ApiController initialized
DEBUG - 2026-02-02 05:11:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:11:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:09 --> ApiController initialized
DEBUG - 2026-02-02 05:12:09 --> ApiController initialized
DEBUG - 2026-02-02 05:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:26 --> ApiController initialized
DEBUG - 2026-02-02 05:12:26 --> ApiController initialized
DEBUG - 2026-02-02 05:12:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:39 --> ApiController initialized
DEBUG - 2026-02-02 05:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:39 --> ApiController initialized
DEBUG - 2026-02-02 05:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:56 --> ApiController initialized
DEBUG - 2026-02-02 05:12:56 --> ApiController initialized
DEBUG - 2026-02-02 05:12:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:12:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:09 --> ApiController initialized
DEBUG - 2026-02-02 05:13:09 --> ApiController initialized
DEBUG - 2026-02-02 05:13:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:26 --> ApiController initialized
DEBUG - 2026-02-02 05:13:26 --> ApiController initialized
DEBUG - 2026-02-02 05:13:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:39 --> ApiController initialized
DEBUG - 2026-02-02 05:13:39 --> ApiController initialized
DEBUG - 2026-02-02 05:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:56 --> ApiController initialized
DEBUG - 2026-02-02 05:13:56 --> ApiController initialized
DEBUG - 2026-02-02 05:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:09 --> ApiController initialized
DEBUG - 2026-02-02 05:14:09 --> ApiController initialized
DEBUG - 2026-02-02 05:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:26 --> ApiController initialized
DEBUG - 2026-02-02 05:14:26 --> ApiController initialized
DEBUG - 2026-02-02 05:14:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:39 --> ApiController initialized
DEBUG - 2026-02-02 05:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:39 --> ApiController initialized
DEBUG - 2026-02-02 05:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:56 --> ApiController initialized
DEBUG - 2026-02-02 05:14:56 --> ApiController initialized
DEBUG - 2026-02-02 05:14:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:14:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:10 --> ApiController initialized
DEBUG - 2026-02-02 05:15:10 --> ApiController initialized
DEBUG - 2026-02-02 05:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:26 --> ApiController initialized
DEBUG - 2026-02-02 05:15:26 --> ApiController initialized
DEBUG - 2026-02-02 05:15:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> Groups data: []
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> Groups data: []
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:15:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:15:29 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:15:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:15:29"}}
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
ERROR - 2026-02-02 05:15:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:29 --> Found 10 direct messages
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> ApiController initialized
DEBUG - 2026-02-02 05:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:29 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:15:29 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:15:29 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:15:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:29"}}
ERROR - 2026-02-02 05:15:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:29 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:15:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:32 --> ApiController initialized
DEBUG - 2026-02-02 05:15:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:32 --> ApiController initialized
DEBUG - 2026-02-02 05:15:32 --> ApiController initialized
DEBUG - 2026-02-02 05:15:32 --> ApiController initialized
DEBUG - 2026-02-02 05:15:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:32 --> Groups data: []
DEBUG - 2026-02-02 05:15:32 --> ApiController initialized
DEBUG - 2026-02-02 05:15:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:32 --> ApiController initialized
DEBUG - 2026-02-02 05:15:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:15:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:15:33 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:15:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 10 direct messages
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Groups data: []
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:15:33 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:15:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:15:33 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:15:33 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:15:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:15:33 --> ApiController initialized
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:15:33 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:15:33 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:15:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:15:33 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:15:33 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:15:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:15:33 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:15:33 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:15:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:33 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:15:33 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:15:33 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:15:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:15:33"}}
ERROR - 2026-02-02 05:15:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:15:33 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:15:59 --> ApiController initialized
DEBUG - 2026-02-02 05:15:59 --> ApiController initialized
DEBUG - 2026-02-02 05:15:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:15:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:02 --> ApiController initialized
DEBUG - 2026-02-02 05:16:02 --> ApiController initialized
DEBUG - 2026-02-02 05:16:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:29 --> ApiController initialized
DEBUG - 2026-02-02 05:16:29 --> ApiController initialized
DEBUG - 2026-02-02 05:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:32 --> ApiController initialized
DEBUG - 2026-02-02 05:16:32 --> ApiController initialized
DEBUG - 2026-02-02 05:16:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:59 --> ApiController initialized
DEBUG - 2026-02-02 05:16:59 --> ApiController initialized
DEBUG - 2026-02-02 05:16:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:16:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:02 --> ApiController initialized
DEBUG - 2026-02-02 05:17:02 --> ApiController initialized
DEBUG - 2026-02-02 05:17:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:29 --> ApiController initialized
DEBUG - 2026-02-02 05:17:29 --> ApiController initialized
DEBUG - 2026-02-02 05:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:32 --> ApiController initialized
DEBUG - 2026-02-02 05:17:32 --> ApiController initialized
DEBUG - 2026-02-02 05:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:59 --> ApiController initialized
DEBUG - 2026-02-02 05:17:59 --> ApiController initialized
DEBUG - 2026-02-02 05:17:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:17:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:02 --> ApiController initialized
DEBUG - 2026-02-02 05:18:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:02 --> ApiController initialized
DEBUG - 2026-02-02 05:18:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:29 --> ApiController initialized
DEBUG - 2026-02-02 05:18:29 --> ApiController initialized
DEBUG - 2026-02-02 05:18:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:32 --> ApiController initialized
DEBUG - 2026-02-02 05:18:32 --> ApiController initialized
DEBUG - 2026-02-02 05:18:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:59 --> ApiController initialized
DEBUG - 2026-02-02 05:18:59 --> ApiController initialized
DEBUG - 2026-02-02 05:18:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:18:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:02 --> ApiController initialized
DEBUG - 2026-02-02 05:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:02 --> ApiController initialized
DEBUG - 2026-02-02 05:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> Groups data: []
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Groups data: []
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:19:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:19:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:19:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:19:23"}}
ERROR - 2026-02-02 05:19:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:23 --> Found 10 direct messages
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> ApiController initialized
DEBUG - 2026-02-02 05:19:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:19:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:19:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:19:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:23"}}
ERROR - 2026-02-02 05:19:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:23 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> Groups data: []
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> ApiController initialized
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> Groups data: []
DEBUG - 2026-02-02 05:19:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:26 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:19:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:19:27 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:19:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:19:27"}}
ERROR - 2026-02-02 05:19:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 10 direct messages
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:19:27 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:19:27 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:19:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:27"}}
ERROR - 2026-02-02 05:19:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:19:27 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:19:27 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:19:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:27"}}
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
ERROR - 2026-02-02 05:19:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> ApiController initialized
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:19:27 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:19:27 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:19:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:27"}}
ERROR - 2026-02-02 05:19:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:19:27 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:19:27 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:19:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:27"}}
ERROR - 2026-02-02 05:19:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:19:27 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:19:27 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:19:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:27"}}
ERROR - 2026-02-02 05:19:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:19:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:27 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:19:27 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:19:27 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:19:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:19:27"}}
ERROR - 2026-02-02 05:19:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:19:27 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:19:53 --> ApiController initialized
DEBUG - 2026-02-02 05:19:53 --> ApiController initialized
DEBUG - 2026-02-02 05:19:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:56 --> ApiController initialized
DEBUG - 2026-02-02 05:19:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:19:56 --> ApiController initialized
DEBUG - 2026-02-02 05:19:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Groups data: []
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Groups data: []
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:20:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:20:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:20:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:20:08"}}
ERROR - 2026-02-02 05:20:08 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:08 --> Found 10 direct messages
DEBUG - 2026-02-02 05:20:08 --> ApiController initialized
DEBUG - 2026-02-02 05:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:08 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:20:08 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:20:08 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:20:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:08"}}
ERROR - 2026-02-02 05:20:08 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:08 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:10 --> ApiController initialized
DEBUG - 2026-02-02 05:20:10 --> Groups data: []
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Groups data: []
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:20:11 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:20:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 10 direct messages
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:20:11 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:20:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:20:11 --> ApiController initialized
DEBUG - 2026-02-02 05:20:11 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:20:11 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:20:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:20:11 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:20:11 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:20:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:20:11 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:20:11 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:20:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:20:11 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:20:11 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:20:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:11 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:20:11 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:20:11 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:20:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:20:11"}}
ERROR - 2026-02-02 05:20:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:20:11 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:20:39 --> ApiController initialized
DEBUG - 2026-02-02 05:20:39 --> ApiController initialized
DEBUG - 2026-02-02 05:20:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:40 --> ApiController initialized
DEBUG - 2026-02-02 05:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:20:40 --> ApiController initialized
DEBUG - 2026-02-02 05:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:09 --> ApiController initialized
DEBUG - 2026-02-02 05:21:09 --> ApiController initialized
DEBUG - 2026-02-02 05:21:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:11 --> ApiController initialized
DEBUG - 2026-02-02 05:21:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:11 --> ApiController initialized
DEBUG - 2026-02-02 05:21:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Groups data: []
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Groups data: []
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:21:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:21:26 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:21:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:21:26"}}
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
ERROR - 2026-02-02 05:21:26 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:26 --> Found 10 direct messages
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> ApiController initialized
DEBUG - 2026-02-02 05:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:26 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:21:26 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:21:26 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:21:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:26"}}
ERROR - 2026-02-02 05:21:26 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:26 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:21:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:28 --> ApiController initialized
DEBUG - 2026-02-02 05:21:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Groups data: []
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Groups data: []
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:21:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:21:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:21:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:21:29"}}
ERROR - 2026-02-02 05:21:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:29 --> Found 10 direct messages
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:29 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:21:29 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:21:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:29"}}
ERROR - 2026-02-02 05:21:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:29 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:21:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:29"}}
ERROR - 2026-02-02 05:21:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:29 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:21:29 --> ApiController initialized
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:29 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:21:29 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:21:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:29"}}
ERROR - 2026-02-02 05:21:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:29 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:29 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:29 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:21:30 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:21:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:30"}}
ERROR - 2026-02-02 05:21:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:30 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:21:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:30 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:30 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:21:30 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:21:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:30"}}
ERROR - 2026-02-02 05:21:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:30 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:21:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:30 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:30 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:21:30 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:21:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:30"}}
ERROR - 2026-02-02 05:21:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:30 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:21:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:21:36 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:21:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:21:36"}}
ERROR - 2026-02-02 05:21:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:36 --> Found 10 direct messages
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:36 --> Groups data: []
DEBUG - 2026-02-02 05:21:36 --> ApiController initialized
DEBUG - 2026-02-02 05:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:37 --> ApiController initialized
DEBUG - 2026-02-02 05:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:37 --> ApiController initialized
DEBUG - 2026-02-02 05:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:37 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:37 --> ApiController initialized
DEBUG - 2026-02-02 05:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:37 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:21:37 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:21:37 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:21:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:37"}}
DEBUG - 2026-02-02 05:21:37 --> ApiController initialized
ERROR - 2026-02-02 05:21:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:37 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:37 --> Groups data: []
DEBUG - 2026-02-02 05:21:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> Groups data: []
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:21:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:21:45 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:21:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:21:45"}}
ERROR - 2026-02-02 05:21:45 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:45 --> Found 10 direct messages
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Groups data: []
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
DEBUG - 2026-02-02 05:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:45 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:45 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:21:45 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:21:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:45"}}
DEBUG - 2026-02-02 05:21:45 --> ApiController initialized
ERROR - 2026-02-02 05:21:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:45 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:21:46 --> ApiController initialized
DEBUG - 2026-02-02 05:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:46 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:46 --> ApiController initialized
DEBUG - 2026-02-02 05:21:46 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:21:46 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:21:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:46"}}
ERROR - 2026-02-02 05:21:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:46 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:21:46 --> ApiController initialized
DEBUG - 2026-02-02 05:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:46 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:46 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:21:46 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:21:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:46"}}
ERROR - 2026-02-02 05:21:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:46 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:46 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:46 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:21:46 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:21:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:46"}}
ERROR - 2026-02-02 05:21:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:46 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:46 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:46 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:21:46 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:21:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:46"}}
ERROR - 2026-02-02 05:21:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:46 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:46 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:46 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:21:46 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:21:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:46"}}
ERROR - 2026-02-02 05:21:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:46 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Groups data: []
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Groups data: []
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:47 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:21:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:21:47 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:21:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:21:47"}}
ERROR - 2026-02-02 05:21:47 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:47 --> Found 10 direct messages
DEBUG - 2026-02-02 05:21:47 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:48 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:21:48 --> ApiController initialized
DEBUG - 2026-02-02 05:21:48 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:21:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:48"}}
ERROR - 2026-02-02 05:21:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:48 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:48 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:21:48 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:21:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:48"}}
ERROR - 2026-02-02 05:21:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:48 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:48 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:21:48 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:21:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:48"}}
ERROR - 2026-02-02 05:21:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:48 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:48 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:21:48 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:21:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:48"}}
ERROR - 2026-02-02 05:21:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:48 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:48 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:21:48 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:21:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:48"}}
ERROR - 2026-02-02 05:21:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:48 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:21:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:21:48 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:21:48 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:21:48 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:21:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:21:48"}}
ERROR - 2026-02-02 05:21:48 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:21:48 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:21:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Groups data: []
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 05:22:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:22:00 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 05:22:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 05:22:00"}}
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
ERROR - 2026-02-02 05:22:00 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:22:00 --> Found 105 direct messages
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Groups data: []
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:22:00 --> ApiController initialized
DEBUG - 2026-02-02 05:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:17 --> ApiController initialized
DEBUG - 2026-02-02 05:22:17 --> ApiController initialized
DEBUG - 2026-02-02 05:22:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:31 --> ApiController initialized
DEBUG - 2026-02-02 05:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:31 --> ApiController initialized
DEBUG - 2026-02-02 05:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:47 --> ApiController initialized
DEBUG - 2026-02-02 05:22:47 --> ApiController initialized
DEBUG - 2026-02-02 05:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:01 --> ApiController initialized
DEBUG - 2026-02-02 05:23:01 --> ApiController initialized
DEBUG - 2026-02-02 05:23:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:17 --> ApiController initialized
DEBUG - 2026-02-02 05:23:17 --> ApiController initialized
DEBUG - 2026-02-02 05:23:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Groups data: []
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Groups data: []
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:23:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:23:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:23:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:23:31"}}
ERROR - 2026-02-02 05:23:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:31 --> Found 10 direct messages
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:31 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:23:31 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:23:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:31"}}
ERROR - 2026-02-02 05:23:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:31 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> ApiController initialized
DEBUG - 2026-02-02 05:23:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:31 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:32 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:23:32 --> ApiController initialized
DEBUG - 2026-02-02 05:23:32 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:23:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:32"}}
ERROR - 2026-02-02 05:23:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:32 --> ApiController initialized
DEBUG - 2026-02-02 05:23:32 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:23:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:32 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:32 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:23:32 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:23:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:32"}}
ERROR - 2026-02-02 05:23:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:32 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:23:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:32 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:32 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:23:32 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:23:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:32"}}
ERROR - 2026-02-02 05:23:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:32 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:23:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:32 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:32 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:23:32 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:23:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:32"}}
ERROR - 2026-02-02 05:23:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:32 --> ApiController initialized
DEBUG - 2026-02-02 05:23:32 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:23:32 --> ApiController initialized
DEBUG - 2026-02-02 05:23:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:32 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:32 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:23:32 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:23:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:32"}}
ERROR - 2026-02-02 05:23:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:32 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:23:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> Groups data: []
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:23:34 --> ApiController initialized
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> Groups data: []
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:34 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 05:23:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:23:34 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 05:23:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 05:23:34"}}
ERROR - 2026-02-02 05:23:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:34 --> Found 105 direct messages
DEBUG - 2026-02-02 05:23:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> Groups data: []
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:23:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:23:41 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:23:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:23:41"}}
ERROR - 2026-02-02 05:23:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:41 --> Found 10 direct messages
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> Groups data: []
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:41 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:41 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> ApiController initialized
DEBUG - 2026-02-02 05:23:41 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:23:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:41"}}
ERROR - 2026-02-02 05:23:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:42 --> ApiController initialized
DEBUG - 2026-02-02 05:23:42 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:23:42 --> ApiController initialized
DEBUG - 2026-02-02 05:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:42 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:42 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:23:42 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:23:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:42"}}
ERROR - 2026-02-02 05:23:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:42 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:42 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:42 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:23:42 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:23:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:42"}}
ERROR - 2026-02-02 05:23:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:42 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:42 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:42 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:23:42 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:23:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:42"}}
ERROR - 2026-02-02 05:23:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:42 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:42 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:42 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:23:42 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:23:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:42"}}
ERROR - 2026-02-02 05:23:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:42 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:23:42 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:23:42 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:23:42 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:23:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:23:42"}}
ERROR - 2026-02-02 05:23:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:23:42 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:24:04 --> ApiController initialized
DEBUG - 2026-02-02 05:24:04 --> ApiController initialized
DEBUG - 2026-02-02 05:24:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:11 --> ApiController initialized
DEBUG - 2026-02-02 05:24:11 --> ApiController initialized
DEBUG - 2026-02-02 05:24:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:34 --> ApiController initialized
DEBUG - 2026-02-02 05:24:34 --> ApiController initialized
DEBUG - 2026-02-02 05:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:41 --> ApiController initialized
DEBUG - 2026-02-02 05:24:41 --> ApiController initialized
DEBUG - 2026-02-02 05:24:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> Groups data: []
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:52 --> ApiController initialized
DEBUG - 2026-02-02 05:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:53 --> ApiController initialized
DEBUG - 2026-02-02 05:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:53 --> ApiController initialized
DEBUG - 2026-02-02 05:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:53 --> Groups data: []
DEBUG - 2026-02-02 05:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:53 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:53 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 05:24:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:24:53 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 05:24:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 05:24:53"}}
ERROR - 2026-02-02 05:24:53 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:53 --> Found 105 direct messages
DEBUG - 2026-02-02 05:24:53 --> ApiController initialized
DEBUG - 2026-02-02 05:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> Groups data: []
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> Groups data: []
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:24:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:24:55 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:24:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:24:55"}}
ERROR - 2026-02-02 05:24:55 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:55 --> Found 10 direct messages
DEBUG - 2026-02-02 05:24:55 --> ApiController initialized
DEBUG - 2026-02-02 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:55 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:24:55 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:24:56 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:24:56"}}
ERROR - 2026-02-02 05:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:56 --> ApiController initialized
DEBUG - 2026-02-02 05:24:56 --> ApiController initialized
DEBUG - 2026-02-02 05:24:56 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:24:56 --> ApiController initialized
DEBUG - 2026-02-02 05:24:56 --> ApiController initialized
DEBUG - 2026-02-02 05:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:56 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:24:56 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:24:56 --> ApiController initialized
DEBUG - 2026-02-02 05:24:56 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:24:56"}}
ERROR - 2026-02-02 05:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:56 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:56 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:24:56 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:24:56 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:24:56"}}
ERROR - 2026-02-02 05:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:56 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:56 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:24:56 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:24:56 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:24:56"}}
ERROR - 2026-02-02 05:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:56 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:56 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:24:56 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:24:56 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:24:56"}}
ERROR - 2026-02-02 05:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:56 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:24:56 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:24:56 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:24:56 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:24:56"}}
ERROR - 2026-02-02 05:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:24:56 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:25:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Groups data: []
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:25:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:25:05 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:25:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:25:05"}}
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
ERROR - 2026-02-02 05:25:05 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:05 --> Found 10 direct messages
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Groups data: []
DEBUG - 2026-02-02 05:25:05 --> ApiController initialized
DEBUG - 2026-02-02 05:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:05 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:25:05 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:25:05 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:25:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:05"}}
ERROR - 2026-02-02 05:25:05 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:05 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> Groups data: []
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:22 --> ApiController initialized
DEBUG - 2026-02-02 05:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:25:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:25:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:25:23"}}
ERROR - 2026-02-02 05:25:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:23 --> Found 10 direct messages
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> Groups data: []
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:25:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:25:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:25:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:23"}}
ERROR - 2026-02-02 05:25:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:23 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:25:23 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Groups data: []
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:25:24 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:25:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:25:24"}}
ERROR - 2026-02-02 05:25:24 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> Found 10 direct messages
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Groups data: []
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:25:24 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:25:24 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:25:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:24"}}
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
ERROR - 2026-02-02 05:25:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:25:24 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:25:24 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:25:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:24"}}
ERROR - 2026-02-02 05:25:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
DEBUG - 2026-02-02 05:25:24 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:25:24 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:25:24 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:25:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:24"}}
DEBUG - 2026-02-02 05:25:24 --> ApiController initialized
ERROR - 2026-02-02 05:25:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:25:24 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:25:24 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:25:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:24"}}
ERROR - 2026-02-02 05:25:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:25:24 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:25:24 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:25:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:24"}}
ERROR - 2026-02-02 05:25:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:24 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:25:24 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:25:24 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:25:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:25:24"}}
ERROR - 2026-02-02 05:25:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:25:24 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:25:53 --> ApiController initialized
DEBUG - 2026-02-02 05:25:53 --> ApiController initialized
DEBUG - 2026-02-02 05:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:53 --> ApiController initialized
DEBUG - 2026-02-02 05:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:25:53 --> ApiController initialized
DEBUG - 2026-02-02 05:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> Groups data: []
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:26:20 --> ApiController initialized
DEBUG - 2026-02-02 05:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Groups data: []
DEBUG - 2026-02-02 05:26:21 --> ApiController initialized
DEBUG - 2026-02-02 05:26:21 --> ApiController initialized
DEBUG - 2026-02-02 05:26:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:26:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:26:21 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:26:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:26:21"}}
ERROR - 2026-02-02 05:26:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:21 --> Found 10 direct messages
DEBUG - 2026-02-02 05:26:21 --> ApiController initialized
DEBUG - 2026-02-02 05:26:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:21 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:26:21 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:26:21 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:26:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:21"}}
ERROR - 2026-02-02 05:26:21 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:21 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:26:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:22 --> ApiController initialized
DEBUG - 2026-02-02 05:26:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:22 --> ApiController initialized
DEBUG - 2026-02-02 05:26:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:22 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Groups data: []
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Groups data: []
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:26:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:26:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:26:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:26:23"}}
ERROR - 2026-02-02 05:26:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 10 direct messages
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:26:23 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:26:23 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:26:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:23"}}
ERROR - 2026-02-02 05:26:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:26:23 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:26:23 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:26:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:23"}}
DEBUG - 2026-02-02 05:26:23 --> ApiController initialized
ERROR - 2026-02-02 05:26:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:26:23 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:26:23 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:26:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:23"}}
ERROR - 2026-02-02 05:26:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:26:23 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:26:23 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:26:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:23"}}
ERROR - 2026-02-02 05:26:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:26:23 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:26:23 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:26:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:23"}}
ERROR - 2026-02-02 05:26:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:23 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:26:23 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:26:23 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:26:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:26:23"}}
ERROR - 2026-02-02 05:26:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:26:23 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:26:50 --> ApiController initialized
DEBUG - 2026-02-02 05:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:50 --> ApiController initialized
DEBUG - 2026-02-02 05:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:52 --> ApiController initialized
DEBUG - 2026-02-02 05:26:52 --> ApiController initialized
DEBUG - 2026-02-02 05:26:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:26:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:20 --> ApiController initialized
DEBUG - 2026-02-02 05:27:20 --> ApiController initialized
DEBUG - 2026-02-02 05:27:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:22 --> ApiController initialized
DEBUG - 2026-02-02 05:27:22 --> ApiController initialized
DEBUG - 2026-02-02 05:27:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:50 --> ApiController initialized
DEBUG - 2026-02-02 05:27:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:50 --> ApiController initialized
DEBUG - 2026-02-02 05:27:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:52 --> ApiController initialized
DEBUG - 2026-02-02 05:27:52 --> ApiController initialized
DEBUG - 2026-02-02 05:27:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:27:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:21 --> ApiController initialized
DEBUG - 2026-02-02 05:28:21 --> ApiController initialized
DEBUG - 2026-02-02 05:28:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:22 --> ApiController initialized
DEBUG - 2026-02-02 05:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:22 --> ApiController initialized
DEBUG - 2026-02-02 05:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:51 --> ApiController initialized
DEBUG - 2026-02-02 05:28:51 --> ApiController initialized
DEBUG - 2026-02-02 05:28:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:53 --> ApiController initialized
DEBUG - 2026-02-02 05:28:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:28:53 --> ApiController initialized
DEBUG - 2026-02-02 05:28:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:21 --> ApiController initialized
DEBUG - 2026-02-02 05:29:21 --> ApiController initialized
DEBUG - 2026-02-02 05:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:23 --> ApiController initialized
DEBUG - 2026-02-02 05:29:23 --> ApiController initialized
DEBUG - 2026-02-02 05:29:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Groups data: []
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:29:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:29:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:29:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:29:40"}}
ERROR - 2026-02-02 05:29:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:40 --> Found 10 direct messages
DEBUG - 2026-02-02 05:29:40 --> ApiController initialized
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:40 --> Groups data: []
DEBUG - 2026-02-02 05:29:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:41 --> ApiController initialized
DEBUG - 2026-02-02 05:29:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:41 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:29:41 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:29:41 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:29:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:41"}}
ERROR - 2026-02-02 05:29:41 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:41 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:29:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Groups data: []
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Groups data: []
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:29:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:29:43 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:29:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:29:43"}}
ERROR - 2026-02-02 05:29:43 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:43 --> Found 10 direct messages
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
DEBUG - 2026-02-02 05:29:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:43 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:29:43 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:29:43 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:29:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:43"}}
DEBUG - 2026-02-02 05:29:43 --> ApiController initialized
ERROR - 2026-02-02 05:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:44 --> ApiController initialized
DEBUG - 2026-02-02 05:29:44 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:29:44 --> ApiController initialized
DEBUG - 2026-02-02 05:29:44 --> ApiController initialized
DEBUG - 2026-02-02 05:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:44 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:29:44 --> ApiController initialized
DEBUG - 2026-02-02 05:29:44 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:29:44 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:29:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:44"}}
ERROR - 2026-02-02 05:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:44 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:44 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:29:44 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:29:44 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:29:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:44"}}
ERROR - 2026-02-02 05:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:44 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:44 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:29:44 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:29:44 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:29:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:44"}}
ERROR - 2026-02-02 05:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:44 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:44 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:29:44 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:29:44 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:29:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:44"}}
ERROR - 2026-02-02 05:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:44 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:29:44 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:29:44 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:29:44 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:29:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:29:44"}}
ERROR - 2026-02-02 05:29:44 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:29:44 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:30:11 --> ApiController initialized
DEBUG - 2026-02-02 05:30:11 --> ApiController initialized
DEBUG - 2026-02-02 05:30:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:13 --> ApiController initialized
DEBUG - 2026-02-02 05:30:13 --> ApiController initialized
DEBUG - 2026-02-02 05:30:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:41 --> ApiController initialized
DEBUG - 2026-02-02 05:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:41 --> ApiController initialized
DEBUG - 2026-02-02 05:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:43 --> ApiController initialized
DEBUG - 2026-02-02 05:30:43 --> ApiController initialized
DEBUG - 2026-02-02 05:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:11 --> ApiController initialized
DEBUG - 2026-02-02 05:31:11 --> ApiController initialized
DEBUG - 2026-02-02 05:31:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:13 --> ApiController initialized
DEBUG - 2026-02-02 05:31:13 --> ApiController initialized
DEBUG - 2026-02-02 05:31:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> Groups data: []
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> Groups data: []
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:27 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:31:27 --> ApiController initialized
DEBUG - 2026-02-02 05:31:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:31:27 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:31:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:31:27"}}
ERROR - 2026-02-02 05:31:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:27 --> Found 10 direct messages
DEBUG - 2026-02-02 05:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:28 --> ApiController initialized
DEBUG - 2026-02-02 05:31:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:28 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:31:28 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:31:28 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:31:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:28"}}
ERROR - 2026-02-02 05:31:28 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:28 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:30 --> Groups data: []
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> ApiController initialized
DEBUG - 2026-02-02 05:31:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Groups data: []
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:31:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:31:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:31:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 10 direct messages
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:31:31 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:31:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:31 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:31:31 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:31:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:31:31 --> ApiController initialized
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:31 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:31:31 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:31:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:31 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:31:31 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:31:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:31 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:31:31 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:31:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:31 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:31 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:31:31 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:31:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:31"}}
ERROR - 2026-02-02 05:31:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:31 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:31:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Groups data: []
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Getting direct messages between user 4 and 3
DEBUG - 2026-02-02 05:31:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:31:35 --> Marked messages from user 3 to 4 as read
DEBUG - 2026-02-02 05:31:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"3","is_group":false,"timestamp":"2026-02-02 05:31:35"}}
ERROR - 2026-02-02 05:31:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:35 --> Found 0 direct messages
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> ApiController initialized
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:35 --> Groups data: []
DEBUG - 2026-02-02 05:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Groups data: []
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:31:38 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:31:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:31:38"}}
ERROR - 2026-02-02 05:31:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:38 --> Found 10 direct messages
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Groups data: []
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:38 --> ApiController initialized
DEBUG - 2026-02-02 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:38 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:31:38 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:31:38 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:31:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:38"}}
ERROR - 2026-02-02 05:31:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:38 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:31:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:41 --> ApiController initialized
DEBUG - 2026-02-02 05:31:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:41 --> ApiController initialized
DEBUG - 2026-02-02 05:31:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:41 --> ApiController initialized
DEBUG - 2026-02-02 05:31:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:41 --> Groups data: []
DEBUG - 2026-02-02 05:31:41 --> ApiController initialized
DEBUG - 2026-02-02 05:31:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:31:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:31:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:31:42"}}
ERROR - 2026-02-02 05:31:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 10 direct messages
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Groups data: []
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
DEBUG - 2026-02-02 05:31:42 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:31:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:42"}}
DEBUG - 2026-02-02 05:31:42 --> ApiController initialized
ERROR - 2026-02-02 05:31:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:42 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:31:42 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:31:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:42"}}
ERROR - 2026-02-02 05:31:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:42 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:31:42 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:31:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:42"}}
ERROR - 2026-02-02 05:31:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:42 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:31:42 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:31:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:42"}}
ERROR - 2026-02-02 05:31:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:42 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:31:42 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:31:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:42"}}
ERROR - 2026-02-02 05:31:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:31:42 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:31:42 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:31:42 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:31:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:31:42"}}
ERROR - 2026-02-02 05:31:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:31:42 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:32:08 --> ApiController initialized
DEBUG - 2026-02-02 05:32:08 --> ApiController initialized
DEBUG - 2026-02-02 05:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:12 --> ApiController initialized
DEBUG - 2026-02-02 05:32:12 --> ApiController initialized
DEBUG - 2026-02-02 05:32:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:38 --> ApiController initialized
DEBUG - 2026-02-02 05:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:38 --> ApiController initialized
DEBUG - 2026-02-02 05:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:42 --> ApiController initialized
DEBUG - 2026-02-02 05:32:42 --> ApiController initialized
DEBUG - 2026-02-02 05:32:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:48 --> ApiController initialized
DEBUG - 2026-02-02 05:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:48 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:32:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:32:48 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:32:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:32:48"}}
ERROR - 2026-02-02 05:32:50 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:32:50 --> Found 10 direct messages
DEBUG - 2026-02-02 05:32:51 --> ApiController initialized
DEBUG - 2026-02-02 05:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:51 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:32:51 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:32:51 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:32:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:51"}}
DEBUG - 2026-02-02 05:32:52 --> ApiController initialized
DEBUG - 2026-02-02 05:32:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:52 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:32:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:32:52 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:32:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:32:52"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 10 direct messages
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:32:53 --> ApiController initialized
DEBUG - 2026-02-02 05:32:53 --> ApiController initialized
DEBUG - 2026-02-02 05:32:53 --> ApiController initialized
DEBUG - 2026-02-02 05:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:53 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:53 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:32:53 --> ApiController initialized
DEBUG - 2026-02-02 05:32:53 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:32:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:53"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:53 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:53 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:32:53 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:32:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:53"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:53 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:53 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:32:53 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:32:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:53"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:53 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:53 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:32:53 --> ApiController initialized
DEBUG - 2026-02-02 05:32:53 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:32:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:53"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:53 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:53 --> ApiController initialized
DEBUG - 2026-02-02 05:32:53 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:32:53 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:32:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:53"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:53 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:53 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:32:53 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:32:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:53"}}
ERROR - 2026-02-02 05:32:53 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:53 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:32:54 --> ApiController initialized
DEBUG - 2026-02-02 05:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:54 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:32:54 --> ApiController initialized
DEBUG - 2026-02-02 05:32:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:32:54 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:32:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:32:54"}}
ERROR - 2026-02-02 05:32:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:54 --> Found 10 direct messages
DEBUG - 2026-02-02 05:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:54 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:32:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:32:54 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:32:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:32:54"}}
ERROR - 2026-02-02 05:32:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:54 --> Found 10 direct messages
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:32:55 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 109
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:32:55 --> ApiController initialized
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:55 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:32:55 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:32:55 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:32:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:32:55"}}
ERROR - 2026-02-02 05:32:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:32:55 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> Groups data: []
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> ApiController initialized
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:32:59 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:32:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:32:59 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:32:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:32:59"}}
ERROR - 2026-02-02 05:33:00 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:00 --> Found 10 direct messages
DEBUG - 2026-02-02 05:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:00 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:00 --> ApiController initialized
DEBUG - 2026-02-02 05:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:00 --> Groups data: []
DEBUG - 2026-02-02 05:33:00 --> ApiController initialized
DEBUG - 2026-02-02 05:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:00 --> ApiController initialized
DEBUG - 2026-02-02 05:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:00 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:33:00 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:33:00 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:33:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:00"}}
ERROR - 2026-02-02 05:33:00 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:00 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Groups data: []
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Groups data: []
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:02 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:33:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:33:02 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:33:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:33:02"}}
ERROR - 2026-02-02 05:33:02 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:02 --> Found 10 direct messages
DEBUG - 2026-02-02 05:33:02 --> ApiController initialized
DEBUG - 2026-02-02 05:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> ApiController initialized
DEBUG - 2026-02-02 05:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:03 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:33:03 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:03"}}
DEBUG - 2026-02-02 05:33:03 --> ApiController initialized
DEBUG - 2026-02-02 05:33:03 --> ApiController initialized
DEBUG - 2026-02-02 05:33:03 --> ApiController initialized
ERROR - 2026-02-02 05:33:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:03 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:33:03 --> ApiController initialized
DEBUG - 2026-02-02 05:33:03 --> ApiController initialized
DEBUG - 2026-02-02 05:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:03 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:33:03 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:03"}}
ERROR - 2026-02-02 05:33:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:03 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:03 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:33:03 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:03"}}
ERROR - 2026-02-02 05:33:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:03 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:03 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:33:03 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:03"}}
ERROR - 2026-02-02 05:33:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:03 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:03 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:33:03 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:03"}}
ERROR - 2026-02-02 05:33:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:03 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:03 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:03 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:33:03 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:03"}}
ERROR - 2026-02-02 05:33:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:03 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:33:30 --> ApiController initialized
DEBUG - 2026-02-02 05:33:30 --> ApiController initialized
DEBUG - 2026-02-02 05:33:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:33 --> ApiController initialized
DEBUG - 2026-02-02 05:33:33 --> ApiController initialized
DEBUG - 2026-02-02 05:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:35 --> ApiController initialized
DEBUG - 2026-02-02 05:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:35 --> ApiController initialized
DEBUG - 2026-02-02 05:33:35 --> ApiController initialized
DEBUG - 2026-02-02 05:33:35 --> ApiController initialized
DEBUG - 2026-02-02 05:33:35 --> ApiController initialized
DEBUG - 2026-02-02 05:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:35 --> ApiController initialized
DEBUG - 2026-02-02 05:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:35 --> Groups data: []
DEBUG - 2026-02-02 05:33:36 --> ApiController initialized
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> ApiController initialized
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> ApiController initialized
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:36 --> ApiController initialized
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> Groups data: []
DEBUG - 2026-02-02 05:33:36 --> ApiController initialized
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:33:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:33:36 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:33:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:33:36"}}
ERROR - 2026-02-02 05:33:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:36 --> Found 10 direct messages
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> ApiController initialized
DEBUG - 2026-02-02 05:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:36 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:33:36 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:33:36 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:33:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:36"}}
ERROR - 2026-02-02 05:33:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:36 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:38 --> ApiController initialized
DEBUG - 2026-02-02 05:33:38 --> Groups data: []
DEBUG - 2026-02-02 05:33:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Groups data: []
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:33:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:33:39 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:33:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 10 direct messages
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:39 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:33:39 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> ApiController initialized
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:39 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:33:39 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:33:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:39 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:33:39 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:33:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:39 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:33:39 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:33:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:39 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:33:39 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:33:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:33:39 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:33:39 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:33:39 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:33:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:33:39"}}
ERROR - 2026-02-02 05:33:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:33:39 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:34:06 --> ApiController initialized
DEBUG - 2026-02-02 05:34:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:06 --> ApiController initialized
DEBUG - 2026-02-02 05:34:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:08 --> ApiController initialized
DEBUG - 2026-02-02 05:34:08 --> ApiController initialized
DEBUG - 2026-02-02 05:34:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:36 --> ApiController initialized
DEBUG - 2026-02-02 05:34:36 --> ApiController initialized
DEBUG - 2026-02-02 05:34:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:39 --> ApiController initialized
DEBUG - 2026-02-02 05:34:39 --> ApiController initialized
DEBUG - 2026-02-02 05:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:06 --> ApiController initialized
DEBUG - 2026-02-02 05:35:06 --> ApiController initialized
DEBUG - 2026-02-02 05:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> Groups data: []
DEBUG - 2026-02-02 05:35:09 --> ApiController initialized
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:35:10 --> ApiController initialized
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> ApiController initialized
DEBUG - 2026-02-02 05:35:10 --> Groups data: []
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> ApiController initialized
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> ApiController initialized
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:35:10 --> ApiController initialized
DEBUG - 2026-02-02 05:35:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:35:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:35:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:35:10"}}
ERROR - 2026-02-02 05:35:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> ApiController initialized
DEBUG - 2026-02-02 05:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:10 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:35:10 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:35:10 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:35:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:10"}}
ERROR - 2026-02-02 05:35:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:10 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:35:18 --> ApiController initialized
DEBUG - 2026-02-02 05:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:18 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:35:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:35:18 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:35:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:35:18"}}
ERROR - 2026-02-02 05:35:18 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:18 --> Found 10 direct messages
DEBUG - 2026-02-02 05:35:18 --> ApiController initialized
DEBUG - 2026-02-02 05:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:18 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:35:18 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:35:18 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:35:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:18"}}
ERROR - 2026-02-02 05:35:18 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:18 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:35:19 --> ApiController initialized
DEBUG - 2026-02-02 05:35:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:35:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:35:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:35:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:35:19"}}
ERROR - 2026-02-02 05:35:19 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:19 --> Found 10 direct messages
DEBUG - 2026-02-02 05:35:19 --> ApiController initialized
DEBUG - 2026-02-02 05:35:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:35:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:35:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:35:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:35:19"}}
ERROR - 2026-02-02 05:35:19 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:19 --> Found 10 direct messages
DEBUG - 2026-02-02 05:35:20 --> ApiController initialized
DEBUG - 2026-02-02 05:35:20 --> ApiController initialized
DEBUG - 2026-02-02 05:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:20 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:20 --> ApiController initialized
DEBUG - 2026-02-02 05:35:20 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:35:20 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:35:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:20"}}
ERROR - 2026-02-02 05:35:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:20 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:35:20 --> ApiController initialized
DEBUG - 2026-02-02 05:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:20 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:20 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:35:20 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:35:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:20"}}
ERROR - 2026-02-02 05:35:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:20 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:20 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:20 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:35:20 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:35:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:20"}}
ERROR - 2026-02-02 05:35:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:20 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:35:20 --> ApiController initialized
DEBUG - 2026-02-02 05:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:20 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:20 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:35:20 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:35:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:20"}}
ERROR - 2026-02-02 05:35:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:20 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:35:20 --> ApiController initialized
DEBUG - 2026-02-02 05:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:20 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:20 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:35:20 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:35:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:20"}}
ERROR - 2026-02-02 05:35:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:20 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:20 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:20 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:35:20 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:35:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:20"}}
ERROR - 2026-02-02 05:35:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:20 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:35:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:22 --> ApiController initialized
DEBUG - 2026-02-02 05:35:22 --> ApiController initialized
DEBUG - 2026-02-02 05:35:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:22 --> ApiController initialized
DEBUG - 2026-02-02 05:35:22 --> ApiController initialized
DEBUG - 2026-02-02 05:35:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:22 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Groups data: []
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Groups data: []
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:35:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:35:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:35:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 10 direct messages
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:23 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:35:23 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:35:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:35:23 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:35:23 --> ApiController initialized
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:23 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:35:23 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:35:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:23 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:35:23 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:35:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:23 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:35:23 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:35:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:23 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:35:23 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:35:23 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:35:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:35:23"}}
ERROR - 2026-02-02 05:35:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:35:23 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:35:40 --> ApiController initialized
DEBUG - 2026-02-02 05:35:40 --> ApiController initialized
DEBUG - 2026-02-02 05:35:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:52 --> ApiController initialized
DEBUG - 2026-02-02 05:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:35:52 --> ApiController initialized
DEBUG - 2026-02-02 05:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:10 --> ApiController initialized
DEBUG - 2026-02-02 05:36:10 --> ApiController initialized
DEBUG - 2026-02-02 05:36:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:20 --> ApiController initialized
DEBUG - 2026-02-02 05:36:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:36:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:36:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:36:20"}}
ERROR - 2026-02-02 05:36:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:22 --> Found 10 direct messages
DEBUG - 2026-02-02 05:36:23 --> ApiController initialized
DEBUG - 2026-02-02 05:36:23 --> ApiController initialized
DEBUG - 2026-02-02 05:36:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:23 --> ApiController initialized
DEBUG - 2026-02-02 05:36:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:23 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:36:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:36:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:36:23"}}
DEBUG - 2026-02-02 05:36:23 --> ApiController initialized
DEBUG - 2026-02-02 05:36:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:36:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:36:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:36:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:23"}}
ERROR - 2026-02-02 05:36:25 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:25 --> Found 10 direct messages
DEBUG - 2026-02-02 05:36:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 05:36:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:25 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:36:26 --> ApiController initialized
DEBUG - 2026-02-02 05:36:26 --> ApiController initialized
DEBUG - 2026-02-02 05:36:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:26 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:26 --> ApiController initialized
DEBUG - 2026-02-02 05:36:26 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:36:26 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:36:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:26"}}
DEBUG - 2026-02-02 05:36:26 --> ApiController initialized
DEBUG - 2026-02-02 05:36:26 --> ApiController initialized
DEBUG - 2026-02-02 05:36:26 --> ApiController initialized
ERROR - 2026-02-02 05:36:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:28 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:36:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:28 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:28 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:36:28 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:36:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:28"}}
DEBUG - 2026-02-02 05:36:30 --> ApiController initialized
DEBUG - 2026-02-02 05:36:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:36:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:36:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:36:30"}}
ERROR - 2026-02-02 05:36:30 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:30 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:36:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:30 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:30 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:36:30 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:36:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:30"}}
ERROR - 2026-02-02 05:36:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:32 --> Found 10 direct messages
ERROR - 2026-02-02 05:36:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:33 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:36:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:33 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:33 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:36:33 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:36:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:33"}}
DEBUG - 2026-02-02 05:36:33 --> ApiController initialized
DEBUG - 2026-02-02 05:36:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:36:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:36:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:36:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:33"}}
DEBUG - 2026-02-02 05:36:33 --> ApiController initialized
ERROR - 2026-02-02 05:36:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:35 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:36:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:35 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:35 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:36:35 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:36:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:35"}}
ERROR - 2026-02-02 05:36:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:35 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:36:37 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2227 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:37 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:36:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:37 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:37 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:36:37 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:36:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:37"}}
ERROR - 2026-02-02 05:36:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:40 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:36:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:36:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:36:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:36:40"}}
DEBUG - 2026-02-02 05:36:40 --> ApiController initialized
DEBUG - 2026-02-02 05:36:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:40 --> ApiController initialized
DEBUG - 2026-02-02 05:36:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:36:40 --> ApiController initialized
DEBUG - 2026-02-02 05:36:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:36:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:36:40"}}
ERROR - 2026-02-02 05:36:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2221 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:42 --> Found 10 direct messages
ERROR - 2026-02-02 05:36:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:42 --> Found 10 direct messages
DEBUG - 2026-02-02 05:36:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:43 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:43 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:36:43 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:43"}}
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> ApiController initialized
DEBUG - 2026-02-02 05:36:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:36:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:36:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:36:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:43"}}
ERROR - 2026-02-02 05:36:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2222 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:45 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:36:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:45 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:45 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:36:45 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:36:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:45"}}
DEBUG - 2026-02-02 05:36:45 --> ApiController initialized
ERROR - 2026-02-02 05:36:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2230 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:45 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:36:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2229 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:47 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:36:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:47 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:47 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:36:47 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:36:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:47"}}
ERROR - 2026-02-02 05:36:50 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2242 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:50 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:36:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:50 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:50 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:36:50 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:36:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:50"}}
DEBUG - 2026-02-02 05:36:50 --> ApiController initialized
DEBUG - 2026-02-02 05:36:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:36:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:36:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:36:50"}}
ERROR - 2026-02-02 05:36:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:52 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:36:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:52 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:52 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:36:52 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:36:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:52"}}
ERROR - 2026-02-02 05:36:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:52 --> Found 10 direct messages
DEBUG - 2026-02-02 05:36:53 --> ApiController initialized
DEBUG - 2026-02-02 05:36:53 --> ApiController initialized
DEBUG - 2026-02-02 05:36:53 --> ApiController initialized
DEBUG - 2026-02-02 05:36:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:53 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:36:53 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:36:53 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:36:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:53"}}
ERROR - 2026-02-02 05:36:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:54 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:36:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:54 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:36:54 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:36:54 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:36:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:36:54"}}
ERROR - 2026-02-02 05:36:55 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2268 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:55 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:36:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:57 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:57 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:36:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:57 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:36:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:36:57"}}
ERROR - 2026-02-02 05:36:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:36:59 --> Found 10 direct messages
DEBUG - 2026-02-02 05:36:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:59 --> ApiController initialized
DEBUG - 2026-02-02 05:36:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:36:59 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:36:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:36:59 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:36:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:36:59"}}
DEBUG - 2026-02-02 05:37:00 --> ApiController initialized
DEBUG - 2026-02-02 05:37:00 --> ApiController initialized
DEBUG - 2026-02-02 05:37:00 --> ApiController initialized
DEBUG - 2026-02-02 05:37:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:37:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:37:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:37:00"}}
DEBUG - 2026-02-02 05:37:00 --> ApiController initialized
DEBUG - 2026-02-02 05:37:00 --> ApiController initialized
DEBUG - 2026-02-02 05:37:00 --> ApiController initialized
ERROR - 2026-02-02 05:37:01 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:01 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:01 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:01 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:37:01 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:37:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:01"}}
DEBUG - 2026-02-02 05:37:01 --> ApiController initialized
ERROR - 2026-02-02 05:37:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:02 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:03 --> ApiController initialized
DEBUG - 2026-02-02 05:37:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:03 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:37:03 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:37:03 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:37:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:03"}}
ERROR - 2026-02-02 05:37:04 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:04 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:37:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:04 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:04 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:37:04 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:37:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:04"}}
DEBUG - 2026-02-02 05:37:04 --> ApiController initialized
ERROR - 2026-02-02 05:37:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:05 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:37:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:06 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:37:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:06 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:06 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:37:06 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:37:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:06"}}
DEBUG - 2026-02-02 05:37:06 --> ApiController initialized
ERROR - 2026-02-02 05:37:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:08 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:37:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:08 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:08 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:37:08 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:37:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:08"}}
DEBUG - 2026-02-02 05:37:08 --> ApiController initialized
DEBUG - 2026-02-02 05:37:10 --> ApiController initialized
DEBUG - 2026-02-02 05:37:10 --> ApiController initialized
DEBUG - 2026-02-02 05:37:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:10 --> ApiController initialized
DEBUG - 2026-02-02 05:37:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:37:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:37:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:37:10"}}
ERROR - 2026-02-02 05:37:11 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:11 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:37:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:11 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:11 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:37:11 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:37:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:11"}}
DEBUG - 2026-02-02 05:37:11 --> ApiController initialized
ERROR - 2026-02-02 05:37:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:12 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:13 --> ApiController initialized
DEBUG - 2026-02-02 05:37:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:13 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:37:13 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:37:13 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:37:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:13"}}
ERROR - 2026-02-02 05:37:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:13 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:37:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:13 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:13 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:37:13 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:37:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:13"}}
DEBUG - 2026-02-02 05:37:13 --> ApiController initialized
ERROR - 2026-02-02 05:37:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:15 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:37:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:15 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:37:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:15 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:15 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:37:15 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:37:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:15"}}
DEBUG - 2026-02-02 05:37:15 --> ApiController initialized
ERROR - 2026-02-02 05:37:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:17 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:37:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:18 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:18 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:37:18 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:37:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:18"}}
DEBUG - 2026-02-02 05:37:18 --> ApiController initialized
DEBUG - 2026-02-02 05:37:20 --> ApiController initialized
DEBUG - 2026-02-02 05:37:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:20 --> Getting direct messages between user 1 and 4
ERROR - 2026-02-02 05:37:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:20 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:37:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:37:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:37:20"}}
DEBUG - 2026-02-02 05:37:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:20 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:20 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:37:20 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:37:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:20"}}
ERROR - 2026-02-02 05:37:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:22 --> Found 10 direct messages
ERROR - 2026-02-02 05:37:22 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2223 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:22 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:37:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:22 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:22 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:37:22 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:37:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:22"}}
DEBUG - 2026-02-02 05:37:23 --> ApiController initialized
DEBUG - 2026-02-02 05:37:23 --> ApiController initialized
DEBUG - 2026-02-02 05:37:23 --> ApiController initialized
DEBUG - 2026-02-02 05:37:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:37:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:37:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:37:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:23"}}
ERROR - 2026-02-02 05:37:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2217 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:24 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:37:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:24 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:24 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:37:24 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:37:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:24"}}
ERROR - 2026-02-02 05:37:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:25 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:37:27 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:27 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:37:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:27 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:27 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:37:27 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:37:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:27"}}
ERROR - 2026-02-02 05:37:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:29 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:37:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:37:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:37:29"}}
DEBUG - 2026-02-02 05:37:30 --> ApiController initialized
DEBUG - 2026-02-02 05:37:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:37:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:37:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:37:30"}}
ERROR - 2026-02-02 05:37:31 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:31 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:31 --> ApiController initialized
DEBUG - 2026-02-02 05:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:37:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:37:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:37:31"}}
DEBUG - 2026-02-02 05:37:32 --> ApiController initialized
DEBUG - 2026-02-02 05:37:32 --> ApiController initialized
DEBUG - 2026-02-02 05:37:32 --> ApiController initialized
DEBUG - 2026-02-02 05:37:32 --> ApiController initialized
DEBUG - 2026-02-02 05:37:32 --> ApiController initialized
ERROR - 2026-02-02 05:37:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:32 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:33 --> ApiController initialized
DEBUG - 2026-02-02 05:37:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:37:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:37:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:37:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:33"}}
ERROR - 2026-02-02 05:37:34 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:34 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:34 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:34 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:37:34 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:37:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:34"}}
DEBUG - 2026-02-02 05:37:34 --> ApiController initialized
ERROR - 2026-02-02 05:37:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:35 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:37:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:36 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:37:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:36 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:36 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:37:36 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:37:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:36"}}
DEBUG - 2026-02-02 05:37:36 --> ApiController initialized
ERROR - 2026-02-02 05:37:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:38 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:38 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:38 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:37:38 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:37:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:38"}}
DEBUG - 2026-02-02 05:37:38 --> ApiController initialized
DEBUG - 2026-02-02 05:37:40 --> ApiController initialized
DEBUG - 2026-02-02 05:37:40 --> ApiController initialized
DEBUG - 2026-02-02 05:37:40 --> ApiController initialized
DEBUG - 2026-02-02 05:37:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:37:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:37:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:37:40"}}
ERROR - 2026-02-02 05:37:41 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:41 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:37:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:41 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:41 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:37:41 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:37:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:41"}}
DEBUG - 2026-02-02 05:37:41 --> ApiController initialized
ERROR - 2026-02-02 05:37:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:42 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:43 --> ApiController initialized
DEBUG - 2026-02-02 05:37:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:37:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:37:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:37:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:43"}}
ERROR - 2026-02-02 05:37:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2269 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:43 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:37:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:43 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:43 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:37:43 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:37:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:43"}}
DEBUG - 2026-02-02 05:37:43 --> ApiController initialized
ERROR - 2026-02-02 05:37:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:45 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:37:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:45 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:45 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:45 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:37:45 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:37:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:45"}}
DEBUG - 2026-02-02 05:37:45 --> ApiController initialized
ERROR - 2026-02-02 05:37:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2269 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:47 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:37:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:48 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:37:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:48 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:37:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:37:48"}}
DEBUG - 2026-02-02 05:37:48 --> ApiController initialized
DEBUG - 2026-02-02 05:37:50 --> ApiController initialized
ERROR - 2026-02-02 05:37:50 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:50 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:37:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:50 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:50 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:37:50 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:37:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:50"}}
DEBUG - 2026-02-02 05:37:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:37:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:37:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:37:50"}}
DEBUG - 2026-02-02 05:37:50 --> ApiController initialized
ERROR - 2026-02-02 05:37:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
ERROR - 2026-02-02 05:37:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2237 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:52 --> Found 10 direct messages
DEBUG - 2026-02-02 05:37:52 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:37:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:52 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:52 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:37:52 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:37:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:52"}}
DEBUG - 2026-02-02 05:37:52 --> ApiController initialized
DEBUG - 2026-02-02 05:37:53 --> ApiController initialized
DEBUG - 2026-02-02 05:37:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:53 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:37:53 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:37:53 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:37:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:53"}}
ERROR - 2026-02-02 05:37:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:54 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:37:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:54 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:54 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:37:54 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:37:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:54"}}
DEBUG - 2026-02-02 05:37:54 --> ApiController initialized
ERROR - 2026-02-02 05:37:55 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:55 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:37:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2257 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:57 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:37:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:57 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:57 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:37:57 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:37:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:57"}}
DEBUG - 2026-02-02 05:37:57 --> ApiController initialized
ERROR - 2026-02-02 05:37:59 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:37:59 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:37:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:37:59 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:37:59 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:37:59 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:37:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:37:59"}}
DEBUG - 2026-02-02 05:37:59 --> ApiController initialized
DEBUG - 2026-02-02 05:38:00 --> ApiController initialized
DEBUG - 2026-02-02 05:38:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:38:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:38:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:38:00"}}
ERROR - 2026-02-02 05:38:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:01 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:38:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:01 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:01 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:38:01 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:38:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:01"}}
DEBUG - 2026-02-02 05:38:01 --> ApiController initialized
ERROR - 2026-02-02 05:38:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:02 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:03 --> ApiController initialized
DEBUG - 2026-02-02 05:38:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:03 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:38:03 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:38:03 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:38:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:03"}}
ERROR - 2026-02-02 05:38:04 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2252 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:04 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:38:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:04 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:38:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:04 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:38:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:38:04"}}
DEBUG - 2026-02-02 05:38:04 --> ApiController initialized
ERROR - 2026-02-02 05:38:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:05 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:38:06 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:06 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:06 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:06 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:38:06 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:38:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:06"}}
DEBUG - 2026-02-02 05:38:06 --> ApiController initialized
ERROR - 2026-02-02 05:38:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:08 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:38:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:08 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:08 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:38:08 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:38:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:08"}}
DEBUG - 2026-02-02 05:38:08 --> ApiController initialized
DEBUG - 2026-02-02 05:38:10 --> ApiController initialized
DEBUG - 2026-02-02 05:38:10 --> ApiController initialized
DEBUG - 2026-02-02 05:38:10 --> ApiController initialized
DEBUG - 2026-02-02 05:38:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:38:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:38:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:38:10"}}
ERROR - 2026-02-02 05:38:11 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:11 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:38:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:11 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:11 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:38:11 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:38:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:11"}}
DEBUG - 2026-02-02 05:38:11 --> ApiController initialized
ERROR - 2026-02-02 05:38:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2264 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:12 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:13 --> ApiController initialized
DEBUG - 2026-02-02 05:38:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:13 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:38:13 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:38:13 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:38:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:13"}}
ERROR - 2026-02-02 05:38:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:13 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:38:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:13 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:13 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:38:13 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:38:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:13"}}
DEBUG - 2026-02-02 05:38:13 --> ApiController initialized
ERROR - 2026-02-02 05:38:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:15 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:38:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:15 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:38:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:15 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:15 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:38:15 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:38:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:15"}}
DEBUG - 2026-02-02 05:38:15 --> ApiController initialized
ERROR - 2026-02-02 05:38:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:17 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:38:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:17 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:17 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:38:17 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:38:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:17"}}
DEBUG - 2026-02-02 05:38:18 --> ApiController initialized
ERROR - 2026-02-02 05:38:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:20 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:38:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:20 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:38:20 --> ApiController initialized
DEBUG - 2026-02-02 05:38:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:20 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:38:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:38:20"}}
DEBUG - 2026-02-02 05:38:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:38:20 --> ApiController initialized
DEBUG - 2026-02-02 05:38:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:38:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:38:20"}}
DEBUG - 2026-02-02 05:38:20 --> ApiController initialized
DEBUG - 2026-02-02 05:38:20 --> ApiController initialized
ERROR - 2026-02-02 05:38:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2230 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:22 --> Found 10 direct messages
ERROR - 2026-02-02 05:38:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:22 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:22 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:22 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:38:22 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:38:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:22"}}
DEBUG - 2026-02-02 05:38:22 --> ApiController initialized
DEBUG - 2026-02-02 05:38:23 --> ApiController initialized
DEBUG - 2026-02-02 05:38:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:38:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:38:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:38:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:23"}}
ERROR - 2026-02-02 05:38:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2240 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:24 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:38:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:24 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:24 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:38:24 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:38:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:24"}}
DEBUG - 2026-02-02 05:38:24 --> ApiController initialized
ERROR - 2026-02-02 05:38:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:25 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:38:27 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2228 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:27 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:38:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:27 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:27 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:38:27 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:38:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:27"}}
DEBUG - 2026-02-02 05:38:27 --> ApiController initialized
ERROR - 2026-02-02 05:38:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:29 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:38:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:29 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:29 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:38:29 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:38:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:29"}}
DEBUG - 2026-02-02 05:38:29 --> ApiController initialized
DEBUG - 2026-02-02 05:38:30 --> ApiController initialized
DEBUG - 2026-02-02 05:38:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:38:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:38:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:38:30"}}
ERROR - 2026-02-02 05:38:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2238 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:31 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:38:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:31 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:31 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:38:31 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:38:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:31"}}
DEBUG - 2026-02-02 05:38:31 --> ApiController initialized
ERROR - 2026-02-02 05:38:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:32 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:33 --> ApiController initialized
DEBUG - 2026-02-02 05:38:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:38:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:38:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:38:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:33"}}
ERROR - 2026-02-02 05:38:34 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:34 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:38:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:34 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:34 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:38:34 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:38:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:34"}}
DEBUG - 2026-02-02 05:38:34 --> ApiController initialized
ERROR - 2026-02-02 05:38:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2262 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:35 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:38:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2230 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:36 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:38:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:38:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:38:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:38:36"}}
DEBUG - 2026-02-02 05:38:36 --> ApiController initialized
ERROR - 2026-02-02 05:38:38 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2221 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:38 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:38 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:38 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:38:38 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:38:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:38"}}
DEBUG - 2026-02-02 05:38:38 --> ApiController initialized
DEBUG - 2026-02-02 05:38:40 --> ApiController initialized
DEBUG - 2026-02-02 05:38:40 --> ApiController initialized
DEBUG - 2026-02-02 05:38:40 --> ApiController initialized
DEBUG - 2026-02-02 05:38:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:38:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:38:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:38:40"}}
ERROR - 2026-02-02 05:38:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:40 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:38:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:40 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:40 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:38:40 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:38:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:40"}}
DEBUG - 2026-02-02 05:38:40 --> ApiController initialized
ERROR - 2026-02-02 05:38:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2233 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:42 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 05:38:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2223 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:43 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:38:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:43 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:43 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:38:43 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:38:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:43"}}
DEBUG - 2026-02-02 05:38:43 --> ApiController initialized
DEBUG - 2026-02-02 05:38:43 --> ApiController initialized
DEBUG - 2026-02-02 05:38:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:38:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:38:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:38:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:43"}}
ERROR - 2026-02-02 05:38:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:45 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:38:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:45 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:45 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:38:45 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:38:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:45"}}
ERROR - 2026-02-02 05:38:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:45 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:38:45 --> ApiController initialized
ERROR - 2026-02-02 05:38:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:47 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:38:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:47 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:47 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:38:47 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:38:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:47"}}
DEBUG - 2026-02-02 05:38:47 --> ApiController initialized
ERROR - 2026-02-02 05:38:50 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:50 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:38:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:50 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:50 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:38:50 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:38:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:50"}}
DEBUG - 2026-02-02 05:38:50 --> ApiController initialized
DEBUG - 2026-02-02 05:38:50 --> ApiController initialized
DEBUG - 2026-02-02 05:38:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:38:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:38:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:38:50"}}
ERROR - 2026-02-02 05:38:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2266 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:52 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:38:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:52 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:38:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:38:52 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:38:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:38:52"}}
DEBUG - 2026-02-02 05:38:52 --> ApiController initialized
DEBUG - 2026-02-02 05:38:52 --> ApiController initialized
DEBUG - 2026-02-02 05:38:52 --> ApiController initialized
ERROR - 2026-02-02 05:38:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2265 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:52 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:53 --> ApiController initialized
DEBUG - 2026-02-02 05:38:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:53 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:38:53 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:38:53 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:38:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:53"}}
ERROR - 2026-02-02 05:38:54 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:54 --> Found 10 direct messages
DEBUG - 2026-02-02 05:38:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:54 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:54 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:38:54 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:38:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:54"}}
DEBUG - 2026-02-02 05:38:54 --> ApiController initialized
ERROR - 2026-02-02 05:38:55 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2260 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:55 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:38:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2236 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:57 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:38:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:57 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:57 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:38:57 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:38:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:57"}}
DEBUG - 2026-02-02 05:38:57 --> ApiController initialized
ERROR - 2026-02-02 05:38:59 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2254 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:38:59 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:38:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:38:59 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:38:59 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:38:59 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:38:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:38:59"}}
DEBUG - 2026-02-02 05:38:59 --> ApiController initialized
DEBUG - 2026-02-02 05:39:00 --> ApiController initialized
DEBUG - 2026-02-02 05:39:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:39:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:39:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:39:00"}}
ERROR - 2026-02-02 05:39:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:01 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:01 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:01 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:39:01 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:39:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:01"}}
DEBUG - 2026-02-02 05:39:01 --> ApiController initialized
ERROR - 2026-02-02 05:39:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:02 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:03 --> ApiController initialized
DEBUG - 2026-02-02 05:39:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:03 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:39:03 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:39:03 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:39:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:03"}}
ERROR - 2026-02-02 05:39:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:03 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:39:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:04 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:04 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:39:04 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:39:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:04"}}
DEBUG - 2026-02-02 05:39:04 --> ApiController initialized
ERROR - 2026-02-02 05:39:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:05 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:39:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2237 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:06 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:39:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:06 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:06 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:39:06 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:39:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:06"}}
DEBUG - 2026-02-02 05:39:06 --> ApiController initialized
ERROR - 2026-02-02 05:39:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:08 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:39:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:08 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:39:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:08 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:39:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:39:08"}}
DEBUG - 2026-02-02 05:39:08 --> ApiController initialized
DEBUG - 2026-02-02 05:39:08 --> ApiController initialized
DEBUG - 2026-02-02 05:39:08 --> ApiController initialized
DEBUG - 2026-02-02 05:39:10 --> ApiController initialized
DEBUG - 2026-02-02 05:39:10 --> ApiController initialized
DEBUG - 2026-02-02 05:39:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:10 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:39:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:10 --> ApiController initialized
DEBUG - 2026-02-02 05:39:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:39:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:39:10"}}
ERROR - 2026-02-02 05:39:10 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2226 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:10 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:10 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:39:10 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:39:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:10"}}
DEBUG - 2026-02-02 05:39:11 --> ApiController initialized
ERROR - 2026-02-02 05:39:12 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2245 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:12 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 05:39:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:13 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:13 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:13 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:39:13 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:39:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:13"}}
DEBUG - 2026-02-02 05:39:13 --> ApiController initialized
DEBUG - 2026-02-02 05:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:13 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:39:13 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:39:13 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:39:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:13"}}
DEBUG - 2026-02-02 05:39:13 --> ApiController initialized
ERROR - 2026-02-02 05:39:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:15 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:39:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:15 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:15 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:39:15 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:39:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:15"}}
ERROR - 2026-02-02 05:39:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:15 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:39:15 --> ApiController initialized
ERROR - 2026-02-02 05:39:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2236 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:17 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:39:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:17 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:17 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:39:17 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:39:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:17"}}
DEBUG - 2026-02-02 05:39:17 --> ApiController initialized
ERROR - 2026-02-02 05:39:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2259 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:20 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:39:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:20 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:20 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:39:20 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:39:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:20"}}
DEBUG - 2026-02-02 05:39:20 --> ApiController initialized
DEBUG - 2026-02-02 05:39:20 --> ApiController initialized
DEBUG - 2026-02-02 05:39:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:39:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:39:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:39:20"}}
ERROR - 2026-02-02 05:39:22 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2256 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:22 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:39:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:22 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:22 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:39:22 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:39:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:22"}}
DEBUG - 2026-02-02 05:39:22 --> ApiController initialized
ERROR - 2026-02-02 05:39:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:22 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:23 --> ApiController initialized
DEBUG - 2026-02-02 05:39:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:23 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:39:23 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:39:23 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:39:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:23"}}
ERROR - 2026-02-02 05:39:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2234 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:24 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:39:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:24 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:39:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:24 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:39:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:39:24"}}
DEBUG - 2026-02-02 05:39:24 --> ApiController initialized
ERROR - 2026-02-02 05:39:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2237 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:25 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:39:27 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2241 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:27 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:27 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:27 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:39:27 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:39:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:27"}}
DEBUG - 2026-02-02 05:39:27 --> ApiController initialized
ERROR - 2026-02-02 05:39:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:29 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:39:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:29 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:29 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:39:29 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:39:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:29"}}
DEBUG - 2026-02-02 05:39:29 --> ApiController initialized
DEBUG - 2026-02-02 05:39:30 --> ApiController initialized
DEBUG - 2026-02-02 05:39:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:30 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:39:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:30 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:39:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:39:30"}}
ERROR - 2026-02-02 05:39:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:31 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:39:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:31 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:31 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:39:31 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:39:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:31"}}
DEBUG - 2026-02-02 05:39:31 --> ApiController initialized
ERROR - 2026-02-02 05:39:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2232 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:32 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:33 --> ApiController initialized
DEBUG - 2026-02-02 05:39:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:33 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:39:33 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:39:33 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:39:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:33"}}
ERROR - 2026-02-02 05:39:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2228 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:33 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:39:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:33 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:33 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:39:33 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:39:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:33"}}
DEBUG - 2026-02-02 05:39:33 --> ApiController initialized
ERROR - 2026-02-02 05:39:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2242 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:35 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:39:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2251 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:36 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:39:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:36 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:36 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:39:36 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:39:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:36"}}
DEBUG - 2026-02-02 05:39:36 --> ApiController initialized
ERROR - 2026-02-02 05:39:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2243 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:38 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:39:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:39:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:39:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:38"}}
DEBUG - 2026-02-02 05:39:38 --> ApiController initialized
DEBUG - 2026-02-02 05:39:40 --> ApiController initialized
DEBUG - 2026-02-02 05:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:39:40 --> ApiController initialized
DEBUG - 2026-02-02 05:39:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:39:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:39:40"}}
DEBUG - 2026-02-02 05:39:40 --> ApiController initialized
ERROR - 2026-02-02 05:39:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2239 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:40 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:39:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:39:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:39:40"}}
DEBUG - 2026-02-02 05:39:40 --> ApiController initialized
DEBUG - 2026-02-02 05:39:40 --> ApiController initialized
DEBUG - 2026-02-02 05:39:40 --> ApiController initialized
ERROR - 2026-02-02 05:39:42 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:42 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 05:39:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:43 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:43 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:43 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:39:43 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:39:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:43"}}
DEBUG - 2026-02-02 05:39:43 --> ApiController initialized
DEBUG - 2026-02-02 05:39:43 --> ApiController initialized
DEBUG - 2026-02-02 05:39:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:39:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:39:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:39:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:43"}}
ERROR - 2026-02-02 05:39:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:45 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:39:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:45 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:45 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:39:45 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:39:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:45"}}
DEBUG - 2026-02-02 05:39:45 --> ApiController initialized
ERROR - 2026-02-02 05:39:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2261 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:45 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:39:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2263 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:47 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:39:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:47 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:47 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:39:47 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:39:47 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:47"}}
DEBUG - 2026-02-02 05:39:47 --> ApiController initialized
ERROR - 2026-02-02 05:39:50 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2249 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:50 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:39:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:50 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:50 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:39:50 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:39:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:50"}}
DEBUG - 2026-02-02 05:39:50 --> ApiController initialized
DEBUG - 2026-02-02 05:39:50 --> ApiController initialized
DEBUG - 2026-02-02 05:39:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:39:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:39:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:39:50"}}
ERROR - 2026-02-02 05:39:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:52 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:39:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:52 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:52 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:39:52 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:39:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:52"}}
DEBUG - 2026-02-02 05:39:52 --> ApiController initialized
ERROR - 2026-02-02 05:39:52 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:52 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:53 --> ApiController initialized
DEBUG - 2026-02-02 05:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:53 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:39:53 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:39:53 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:39:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:53"}}
ERROR - 2026-02-02 05:39:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2246 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:54 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:54 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:54 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:39:54 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:39:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:54"}}
DEBUG - 2026-02-02 05:39:54 --> ApiController initialized
ERROR - 2026-02-02 05:39:55 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2227 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:55 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:39:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2267 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:57 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:39:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:57 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:39:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:39:57 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:39:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:39:57"}}
DEBUG - 2026-02-02 05:39:57 --> ApiController initialized
ERROR - 2026-02-02 05:39:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2247 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:39:59 --> Found 10 direct messages
DEBUG - 2026-02-02 05:39:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:39:59 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:39:59 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:39:59 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:39:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:39:59"}}
DEBUG - 2026-02-02 05:39:59 --> ApiController initialized
DEBUG - 2026-02-02 05:40:00 --> ApiController initialized
DEBUG - 2026-02-02 05:40:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:00 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:40:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:00 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:40:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:40:00"}}
ERROR - 2026-02-02 05:40:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2255 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:40:01 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:40:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:01 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:01 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:40:01 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:40:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:01"}}
DEBUG - 2026-02-02 05:40:01 --> ApiController initialized
ERROR - 2026-02-02 05:40:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2242 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:40:02 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:02 --> ApiController initialized
DEBUG - 2026-02-02 05:40:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:02 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:40:02 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:40:02 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:40:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:02"}}
ERROR - 2026-02-02 05:40:04 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2269 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:40:04 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:04 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:04 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:40:04 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:40:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:04"}}
DEBUG - 2026-02-02 05:40:04 --> ApiController initialized
ERROR - 2026-02-02 05:40:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2244 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:40:05 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> Groups data: []
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:05 --> ApiController initialized
DEBUG - 2026-02-02 05:40:06 --> ApiController initialized
DEBUG - 2026-02-02 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:06 --> Groups data: []
DEBUG - 2026-02-02 05:40:06 --> ApiController initialized
DEBUG - 2026-02-02 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 05:40:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2250 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:40:06 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:06 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:06 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:40:06 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:40:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:06"}}
DEBUG - 2026-02-02 05:40:06 --> ApiController initialized
ERROR - 2026-02-02 05:40:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2253 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:40:08 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:08 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:08 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:40:08 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:40:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:08"}}
DEBUG - 2026-02-02 05:40:08 --> ApiController initialized
ERROR - 2026-02-02 05:40:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:09 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:40:09 --> ApiController initialized
DEBUG - 2026-02-02 05:40:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:09 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:40:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:10 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:40:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:40:10"}}
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 116 as seen by user 4 (is_group: false)
ERROR - 2026-02-02 05:40:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:10 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:40:10 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:40:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:10"}}
ERROR - 2026-02-02 05:40:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:10 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:10 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:11 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:11 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:11 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:40:11 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:40:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:11"}}
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
ERROR - 2026-02-02 05:40:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:11 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:11 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:40:11 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:40:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:11 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:40:11 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:40:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:11 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:40:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:11 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:11 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:40:11 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:40:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:40:11 --> ApiController initialized
DEBUG - 2026-02-02 05:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:11 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:11 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:40:11 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:40:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:11"}}
ERROR - 2026-02-02 05:40:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:11 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:12 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:40:12 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:40:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:12"}}
ERROR - 2026-02-02 05:40:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
DEBUG - 2026-02-02 05:40:12 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:40:12 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:40:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:12"}}
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
ERROR - 2026-02-02 05:40:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:12 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:40:12 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:40:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:12"}}
ERROR - 2026-02-02 05:40:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:12 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:40:12 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:40:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:12"}}
ERROR - 2026-02-02 05:40:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:12 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:40:12 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:40:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:12"}}
ERROR - 2026-02-02 05:40:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:12 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:40:12 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:40:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:12"}}
ERROR - 2026-02-02 05:40:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:40:12 --> ApiController initialized
DEBUG - 2026-02-02 05:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:12 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:12 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:12"}}
ERROR - 2026-02-02 05:40:12 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:12 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:13 --> ApiController initialized
DEBUG - 2026-02-02 05:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:13 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:13 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:40:13 --> ApiController initialized
DEBUG - 2026-02-02 05:40:13 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:40:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:13"}}
DEBUG - 2026-02-02 05:40:13 --> ApiController initialized
DEBUG - 2026-02-02 05:40:13 --> ApiController initialized
DEBUG - 2026-02-02 05:40:13 --> ApiController initialized
ERROR - 2026-02-02 05:40:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:13 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:40:13 --> ApiController initialized
DEBUG - 2026-02-02 05:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:13 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:13 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:40:13 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:40:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:13"}}
ERROR - 2026-02-02 05:40:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:13 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:13 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:13 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:40:13 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:40:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:13"}}
ERROR - 2026-02-02 05:40:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:13 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:13 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:13 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:40:13 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:40:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:13"}}
ERROR - 2026-02-02 05:40:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:13 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:13 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:13 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:40:13 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:40:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:13"}}
ERROR - 2026-02-02 05:40:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:13 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:13 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:13 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:40:13 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:40:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:13"}}
ERROR - 2026-02-02 05:40:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:13 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:40:14 --> ApiController initialized
DEBUG - 2026-02-02 05:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:15 --> Groups data: []
DEBUG - 2026-02-02 05:40:15 --> ApiController initialized
DEBUG - 2026-02-02 05:40:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:15 --> Groups data: []
DEBUG - 2026-02-02 05:40:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:15 --> ApiController initialized
DEBUG - 2026-02-02 05:40:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:18 --> ApiController initialized
DEBUG - 2026-02-02 05:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:18 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:40:18 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:40:18 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:40:18 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:40:18"}}
ERROR - 2026-02-02 05:40:18 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:18 --> Found 10 direct messages
DEBUG - 2026-02-02 05:40:19 --> ApiController initialized
DEBUG - 2026-02-02 05:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:19 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:19 --> ApiController initialized
DEBUG - 2026-02-02 05:40:19 --> ApiController initialized
DEBUG - 2026-02-02 05:40:19 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:40:19 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:40:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:19"}}
ERROR - 2026-02-02 05:40:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:19 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:40:19 --> ApiController initialized
DEBUG - 2026-02-02 05:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:19 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:19 --> ApiController initialized
DEBUG - 2026-02-02 05:40:19 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:40:19 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:40:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:19"}}
DEBUG - 2026-02-02 05:40:19 --> ApiController initialized
ERROR - 2026-02-02 05:40:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:19 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:19 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:19 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:40:19 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:40:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:19"}}
ERROR - 2026-02-02 05:40:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:19 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:19 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:19 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:40:19 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:40:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:19"}}
ERROR - 2026-02-02 05:40:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:19 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:19 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:19 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:40:19 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:40:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:19"}}
ERROR - 2026-02-02 05:40:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:19 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:19 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:40:19 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:40:19 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:40:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:40:19"}}
ERROR - 2026-02-02 05:40:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:40:19 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:40:36 --> ApiController initialized
DEBUG - 2026-02-02 05:40:36 --> ApiController initialized
DEBUG - 2026-02-02 05:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:44 --> ApiController initialized
DEBUG - 2026-02-02 05:40:44 --> ApiController initialized
DEBUG - 2026-02-02 05:40:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:40:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:06 --> ApiController initialized
DEBUG - 2026-02-02 05:41:06 --> ApiController initialized
DEBUG - 2026-02-02 05:41:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:14 --> ApiController initialized
DEBUG - 2026-02-02 05:41:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:14 --> ApiController initialized
DEBUG - 2026-02-02 05:41:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Groups data: []
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:41:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:41:21 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:41:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:41:21"}}
ERROR - 2026-02-02 05:41:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:21 --> Found 10 direct messages
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> ApiController initialized
DEBUG - 2026-02-02 05:41:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:21 --> Groups data: []
DEBUG - 2026-02-02 05:41:22 --> ApiController initialized
DEBUG - 2026-02-02 05:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:22 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:41:22 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:41:22 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:41:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:22"}}
ERROR - 2026-02-02 05:41:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:22 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:41:44 --> ApiController initialized
DEBUG - 2026-02-02 05:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:44 --> ApiController initialized
DEBUG - 2026-02-02 05:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:52 --> ApiController initialized
DEBUG - 2026-02-02 05:41:52 --> ApiController initialized
DEBUG - 2026-02-02 05:41:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:54 --> ApiController initialized
DEBUG - 2026-02-02 05:41:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:54 --> ApiController initialized
DEBUG - 2026-02-02 05:41:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:54 --> ApiController initialized
DEBUG - 2026-02-02 05:41:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:54 --> ApiController initialized
DEBUG - 2026-02-02 05:41:54 --> Groups data: []
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:41:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:41:55 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:41:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:41:55"}}
ERROR - 2026-02-02 05:41:55 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:55 --> Found 10 direct messages
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> Groups data: []
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> ApiController initialized
DEBUG - 2026-02-02 05:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:55 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:41:55 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:41:55 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:41:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:55"}}
ERROR - 2026-02-02 05:41:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:55 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:41:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Groups data: []
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Groups data: []
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:41:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:41:58 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:41:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 10 direct messages
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:41:58 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:41:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> ApiController initialized
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:41:58 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:41:58 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:41:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:41:58 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:41:58 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:41:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:41:58 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:41:58 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:41:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:41:58 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:41:58 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:41:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:41:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:41:58 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:41:58 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:41:58 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:41:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:41:58"}}
ERROR - 2026-02-02 05:41:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:41:58 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:42:24 --> ApiController initialized
DEBUG - 2026-02-02 05:42:24 --> ApiController initialized
DEBUG - 2026-02-02 05:42:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:27 --> ApiController initialized
DEBUG - 2026-02-02 05:42:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:27 --> ApiController initialized
DEBUG - 2026-02-02 05:42:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:55 --> ApiController initialized
DEBUG - 2026-02-02 05:42:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:55 --> ApiController initialized
DEBUG - 2026-02-02 05:42:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:57 --> ApiController initialized
DEBUG - 2026-02-02 05:42:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:42:57 --> ApiController initialized
DEBUG - 2026-02-02 05:42:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:25 --> ApiController initialized
DEBUG - 2026-02-02 05:43:25 --> ApiController initialized
DEBUG - 2026-02-02 05:43:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:27 --> ApiController initialized
DEBUG - 2026-02-02 05:43:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:27 --> ApiController initialized
DEBUG - 2026-02-02 05:43:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:55 --> ApiController initialized
DEBUG - 2026-02-02 05:43:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:55 --> ApiController initialized
DEBUG - 2026-02-02 05:43:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:57 --> ApiController initialized
DEBUG - 2026-02-02 05:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:43:57 --> ApiController initialized
DEBUG - 2026-02-02 05:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> Groups data: []
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> ApiController initialized
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:21 --> ApiController initialized
DEBUG - 2026-02-02 05:44:21 --> ApiController initialized
DEBUG - 2026-02-02 05:44:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:21 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:44:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:44:21 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:44:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:44:21"}}
ERROR - 2026-02-02 05:44:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:21 --> Found 10 direct messages
DEBUG - 2026-02-02 05:44:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:21 --> Groups data: []
DEBUG - 2026-02-02 05:44:21 --> ApiController initialized
DEBUG - 2026-02-02 05:44:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:21 --> ApiController initialized
DEBUG - 2026-02-02 05:44:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:21 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:44:21 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:44:21 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:44:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:21"}}
ERROR - 2026-02-02 05:44:21 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:21 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:44:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Groups data: []
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Groups data: []
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:44:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:44:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:44:23"}}
ERROR - 2026-02-02 05:44:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:23 --> Found 10 direct messages
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:44:23 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:44:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:23"}}
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
ERROR - 2026-02-02 05:44:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> ApiController initialized
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:44:23 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:44:23 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:44:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:23"}}
ERROR - 2026-02-02 05:44:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:23 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:44:23 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:44:23 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:44:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:23"}}
ERROR - 2026-02-02 05:44:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:23 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:44:23 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:44:23 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:44:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:23"}}
ERROR - 2026-02-02 05:44:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:23 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:23 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:44:23 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:44:23 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:44:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:23"}}
ERROR - 2026-02-02 05:44:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:23 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:44:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:24 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:44:24 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:44:24 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:44:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:44:24"}}
ERROR - 2026-02-02 05:44:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:44:24 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:44:50 --> ApiController initialized
DEBUG - 2026-02-02 05:44:50 --> ApiController initialized
DEBUG - 2026-02-02 05:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:53 --> ApiController initialized
DEBUG - 2026-02-02 05:44:53 --> ApiController initialized
DEBUG - 2026-02-02 05:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:21 --> ApiController initialized
DEBUG - 2026-02-02 05:45:21 --> ApiController initialized
DEBUG - 2026-02-02 05:45:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:23 --> ApiController initialized
DEBUG - 2026-02-02 05:45:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:23 --> ApiController initialized
DEBUG - 2026-02-02 05:45:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:49 --> ApiController initialized
DEBUG - 2026-02-02 05:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Groups data: []
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:45:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:45:50 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:45:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:45:50"}}
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
ERROR - 2026-02-02 05:45:50 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:50 --> Found 10 direct messages
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Groups data: []
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> ApiController initialized
DEBUG - 2026-02-02 05:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:50 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:45:50 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:45:50 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:45:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:50"}}
ERROR - 2026-02-02 05:45:50 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:50 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:45:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> Groups data: []
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> Groups data: []
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:53 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:45:53 --> ApiController initialized
DEBUG - 2026-02-02 05:45:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:45:53 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:45:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:45:53"}}
ERROR - 2026-02-02 05:45:53 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:53 --> Found 10 direct messages
DEBUG - 2026-02-02 05:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> ApiController initialized
DEBUG - 2026-02-02 05:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:45:54 --> ApiController initialized
DEBUG - 2026-02-02 05:45:54 --> ApiController initialized
DEBUG - 2026-02-02 05:45:54 --> ApiController initialized
DEBUG - 2026-02-02 05:45:54 --> ApiController initialized
DEBUG - 2026-02-02 05:45:54 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:45:54 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:45:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:54"}}
ERROR - 2026-02-02 05:45:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:54 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:45:54 --> ApiController initialized
DEBUG - 2026-02-02 05:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:45:54 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:45:54 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:45:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:54"}}
ERROR - 2026-02-02 05:45:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:54 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:45:54 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:45:54 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:45:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:54"}}
ERROR - 2026-02-02 05:45:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:54 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:45:54 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:45:54 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:45:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:54"}}
ERROR - 2026-02-02 05:45:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:54 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:45:54 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:45:54 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:45:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:54"}}
ERROR - 2026-02-02 05:45:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:54 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:45:54 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:45:54 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:45:54 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:45:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:45:54"}}
ERROR - 2026-02-02 05:45:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:45:54 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:46:20 --> ApiController initialized
DEBUG - 2026-02-02 05:46:20 --> ApiController initialized
DEBUG - 2026-02-02 05:46:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:24 --> ApiController initialized
DEBUG - 2026-02-02 05:46:24 --> ApiController initialized
DEBUG - 2026-02-02 05:46:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:26 --> ApiController initialized
DEBUG - 2026-02-02 05:46:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:26 --> ApiController initialized
DEBUG - 2026-02-02 05:46:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:26 --> ApiController initialized
DEBUG - 2026-02-02 05:46:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> Groups data: []
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> Groups data: []
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:46:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:46:27 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:46:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:46:27"}}
ERROR - 2026-02-02 05:46:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:27 --> Found 10 direct messages
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> ApiController initialized
DEBUG - 2026-02-02 05:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:27 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:46:27 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:46:27 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:46:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:27"}}
ERROR - 2026-02-02 05:46:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:27 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:46:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:29 --> ApiController initialized
DEBUG - 2026-02-02 05:46:29 --> Groups data: []
DEBUG - 2026-02-02 05:46:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Groups data: []
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:46:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:46:30 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:46:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 10 direct messages
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:30 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:46:30 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:46:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> ApiController initialized
DEBUG - 2026-02-02 05:46:30 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:46:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:30 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:46:30 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:46:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:30 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:46:30 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:46:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:30 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:46:30 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:46:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:30 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:30 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:46:30 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:46:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:30"}}
ERROR - 2026-02-02 05:46:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:30 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:46:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> Groups data: []
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Groups data: []
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:46:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:46:43 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:46:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:46:43"}}
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
ERROR - 2026-02-02 05:46:43 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:43 --> Found 10 direct messages
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> ApiController initialized
DEBUG - 2026-02-02 05:46:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:43 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:46:43 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:46:43 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:46:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:43"}}
ERROR - 2026-02-02 05:46:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:43 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> Groups data: []
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:44 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> ApiController initialized
DEBUG - 2026-02-02 05:46:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> Groups data: []
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:46:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:46:45 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:46:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:46:45"}}
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
ERROR - 2026-02-02 05:46:45 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 10 direct messages
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:46:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:45"}}
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
ERROR - 2026-02-02 05:46:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:46:45 --> ApiController initialized
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:45 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:46:45 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:46:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:45"}}
ERROR - 2026-02-02 05:46:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:45 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:46:45 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:46:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:45"}}
ERROR - 2026-02-02 05:46:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:45 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:46:45 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:46:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:45"}}
ERROR - 2026-02-02 05:46:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:45 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:46:45 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:46:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:45"}}
ERROR - 2026-02-02 05:46:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:46:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:45 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:45 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:46:45 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:46:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:45"}}
ERROR - 2026-02-02 05:46:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:45 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:46:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Groups data: []
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:46:54 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:46:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:46:54"}}
ERROR - 2026-02-02 05:46:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:54 --> Found 10 direct messages
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> Groups data: []
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> ApiController initialized
DEBUG - 2026-02-02 05:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:54 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:46:54 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:46:54 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:46:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:54"}}
ERROR - 2026-02-02 05:46:54 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:54 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:46:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Groups data: []
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Groups data: []
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:46:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:46:56 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:46:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:46:56"}}
ERROR - 2026-02-02 05:46:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:56 --> Found 10 direct messages
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:46:56 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:46:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:56"}}
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
ERROR - 2026-02-02 05:46:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:56 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:56 --> ApiController initialized
DEBUG - 2026-02-02 05:46:56 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:46:56 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:46:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:56"}}
ERROR - 2026-02-02 05:46:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:56 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:46:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:56 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:57 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:46:57 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:46:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:57"}}
ERROR - 2026-02-02 05:46:57 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:57 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:46:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:57 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:57 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:46:57 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:46:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:57"}}
ERROR - 2026-02-02 05:46:57 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:57 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:46:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:57 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:57 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:46:57 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:46:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:57"}}
ERROR - 2026-02-02 05:46:57 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:57 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:46:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:46:57 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:46:57 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:46:57 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:46:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:46:57"}}
ERROR - 2026-02-02 05:46:57 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:46:57 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:47:24 --> ApiController initialized
DEBUG - 2026-02-02 05:47:24 --> ApiController initialized
DEBUG - 2026-02-02 05:47:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:26 --> ApiController initialized
DEBUG - 2026-02-02 05:47:26 --> ApiController initialized
DEBUG - 2026-02-02 05:47:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> ApiController initialized
DEBUG - 2026-02-02 05:47:54 --> ApiController initialized
DEBUG - 2026-02-02 05:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> ApiController initialized
DEBUG - 2026-02-02 05:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> ApiController initialized
DEBUG - 2026-02-02 05:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> ApiController initialized
DEBUG - 2026-02-02 05:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Groups data: []
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Groups data: []
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:47:55 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:47:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 10 direct messages
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:47:55 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:47:55 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:47:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:47:55 --> ApiController initialized
DEBUG - 2026-02-02 05:47:55 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:47:55 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:47:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:47:55 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:47:55 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:47:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:47:55 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:47:55 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:47:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:47:55 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:47:55 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:47:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:55 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:47:55 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:47:55 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:47:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:55"}}
ERROR - 2026-02-02 05:47:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:55 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Groups data: []
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Groups data: []
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:47:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:47:56 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:47:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:47:56"}}
ERROR - 2026-02-02 05:47:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:56 --> Found 10 direct messages
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> ApiController initialized
DEBUG - 2026-02-02 05:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:47:56 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:47:56 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:47:56 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:47:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:47:56"}}
ERROR - 2026-02-02 05:47:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:47:56 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:48:25 --> ApiController initialized
DEBUG - 2026-02-02 05:48:25 --> ApiController initialized
DEBUG - 2026-02-02 05:48:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:27 --> ApiController initialized
DEBUG - 2026-02-02 05:48:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:27 --> ApiController initialized
DEBUG - 2026-02-02 05:48:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:54 --> ApiController initialized
DEBUG - 2026-02-02 05:48:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:54 --> ApiController initialized
DEBUG - 2026-02-02 05:48:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:57 --> ApiController initialized
DEBUG - 2026-02-02 05:48:57 --> ApiController initialized
DEBUG - 2026-02-02 05:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:24 --> ApiController initialized
DEBUG - 2026-02-02 05:49:24 --> ApiController initialized
DEBUG - 2026-02-02 05:49:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> Groups data: []
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:26 --> ApiController initialized
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> ApiController initialized
DEBUG - 2026-02-02 05:49:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:49:27 --> ApiController initialized
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> Groups data: []
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> ApiController initialized
DEBUG - 2026-02-02 05:49:27 --> ApiController initialized
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:49:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:49:27 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:49:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:49:27"}}
ERROR - 2026-02-02 05:49:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:27 --> Found 10 direct messages
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> ApiController initialized
DEBUG - 2026-02-02 05:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:27 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:49:27 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:49:27 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:49:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:27"}}
ERROR - 2026-02-02 05:49:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:27 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:49:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Groups data: []
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Groups data: []
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:49:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:49:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:49:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:49:29"}}
ERROR - 2026-02-02 05:49:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:29 --> Found 10 direct messages
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:29 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:49:29 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:49:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:29"}}
ERROR - 2026-02-02 05:49:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:29 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:29 --> ApiController initialized
DEBUG - 2026-02-02 05:49:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:30 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:49:30 --> ApiController initialized
DEBUG - 2026-02-02 05:49:30 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:49:30 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:49:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:30"}}
ERROR - 2026-02-02 05:49:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:30 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:49:30 --> ApiController initialized
DEBUG - 2026-02-02 05:49:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:30 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:49:30 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:49:30 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:49:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:30"}}
ERROR - 2026-02-02 05:49:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:30 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:49:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:30 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:49:30 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:49:30 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:49:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:30"}}
ERROR - 2026-02-02 05:49:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:30 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:49:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:30 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:49:30 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:49:30 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:49:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:30"}}
ERROR - 2026-02-02 05:49:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:30 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:49:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:30 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:49:30 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:49:30 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:49:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:49:30"}}
ERROR - 2026-02-02 05:49:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:49:30 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:49:57 --> ApiController initialized
DEBUG - 2026-02-02 05:49:57 --> ApiController initialized
DEBUG - 2026-02-02 05:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:59 --> ApiController initialized
DEBUG - 2026-02-02 05:49:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:49:59 --> ApiController initialized
DEBUG - 2026-02-02 05:49:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Groups data: []
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Groups data: []
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:50:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:50:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:50:20"}}
ERROR - 2026-02-02 05:50:20 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:20 --> Found 10 direct messages
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> ApiController initialized
DEBUG - 2026-02-02 05:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:20 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:50:20 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:50:20 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:50:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:20"}}
ERROR - 2026-02-02 05:50:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:20 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> Groups data: []
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> Groups data: []
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:22 --> ApiController initialized
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:50:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:50:23 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:50:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:50:23"}}
ERROR - 2026-02-02 05:50:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 10 direct messages
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> ApiController initialized
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:50:23 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:50:23 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:23"}}
DEBUG - 2026-02-02 05:50:23 --> ApiController initialized
ERROR - 2026-02-02 05:50:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:50:23 --> ApiController initialized
DEBUG - 2026-02-02 05:50:23 --> ApiController initialized
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:50:23 --> ApiController initialized
DEBUG - 2026-02-02 05:50:23 --> ApiController initialized
DEBUG - 2026-02-02 05:50:23 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:50:23 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:23"}}
ERROR - 2026-02-02 05:50:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:50:23 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:50:23 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:23"}}
ERROR - 2026-02-02 05:50:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:50:23 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:50:23 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:23"}}
ERROR - 2026-02-02 05:50:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:50:23 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:50:23 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:23"}}
ERROR - 2026-02-02 05:50:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:23 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:50:23 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:50:23 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:23"}}
ERROR - 2026-02-02 05:50:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:23 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:50:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Groups data: []
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:50:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:50:45 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:50:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:50:45"}}
ERROR - 2026-02-02 05:50:45 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:45 --> Found 10 direct messages
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:50:45 --> ApiController initialized
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:45 --> Groups data: []
DEBUG - 2026-02-02 05:50:46 --> ApiController initialized
DEBUG - 2026-02-02 05:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:46 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:50:46 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:50:46 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:50:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:50:46"}}
ERROR - 2026-02-02 05:50:46 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:50:46 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:50:52 --> ApiController initialized
DEBUG - 2026-02-02 05:50:52 --> ApiController initialized
DEBUG - 2026-02-02 05:50:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:50:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:15 --> ApiController initialized
DEBUG - 2026-02-02 05:51:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:15 --> ApiController initialized
DEBUG - 2026-02-02 05:51:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:22 --> ApiController initialized
DEBUG - 2026-02-02 05:51:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:22 --> ApiController initialized
DEBUG - 2026-02-02 05:51:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:45 --> ApiController initialized
DEBUG - 2026-02-02 05:51:45 --> ApiController initialized
DEBUG - 2026-02-02 05:51:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:52 --> ApiController initialized
DEBUG - 2026-02-02 05:51:52 --> ApiController initialized
DEBUG - 2026-02-02 05:51:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:51:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:15 --> ApiController initialized
DEBUG - 2026-02-02 05:52:15 --> ApiController initialized
DEBUG - 2026-02-02 05:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:22 --> ApiController initialized
DEBUG - 2026-02-02 05:52:22 --> ApiController initialized
DEBUG - 2026-02-02 05:52:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:45 --> ApiController initialized
DEBUG - 2026-02-02 05:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:45 --> ApiController initialized
DEBUG - 2026-02-02 05:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:52 --> ApiController initialized
DEBUG - 2026-02-02 05:52:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:52:52 --> ApiController initialized
DEBUG - 2026-02-02 05:52:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:15 --> ApiController initialized
DEBUG - 2026-02-02 05:53:15 --> ApiController initialized
DEBUG - 2026-02-02 05:53:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:22 --> ApiController initialized
DEBUG - 2026-02-02 05:53:22 --> ApiController initialized
DEBUG - 2026-02-02 05:53:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:45 --> ApiController initialized
DEBUG - 2026-02-02 05:53:45 --> ApiController initialized
DEBUG - 2026-02-02 05:53:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:52 --> ApiController initialized
DEBUG - 2026-02-02 05:53:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:53:52 --> ApiController initialized
DEBUG - 2026-02-02 05:53:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:15 --> ApiController initialized
DEBUG - 2026-02-02 05:54:15 --> ApiController initialized
DEBUG - 2026-02-02 05:54:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:22 --> ApiController initialized
DEBUG - 2026-02-02 05:54:22 --> ApiController initialized
DEBUG - 2026-02-02 05:54:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:45 --> ApiController initialized
DEBUG - 2026-02-02 05:54:45 --> ApiController initialized
DEBUG - 2026-02-02 05:54:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:57 --> ApiController initialized
DEBUG - 2026-02-02 05:54:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:54:57 --> ApiController initialized
DEBUG - 2026-02-02 05:54:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:05 --> ApiController initialized
DEBUG - 2026-02-02 05:55:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:05 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Groups data: []
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:55:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:06 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:55:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:55:06"}}
ERROR - 2026-02-02 05:55:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:06 --> Found 10 direct messages
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Groups data: []
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> ApiController initialized
DEBUG - 2026-02-02 05:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:06 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:55:06 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:55:06 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:55:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:06"}}
ERROR - 2026-02-02 05:55:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:07 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:55:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> Groups data: []
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> ApiController initialized
DEBUG - 2026-02-02 05:55:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:08 --> Groups data: []
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:55:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:55:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:55:09"}}
ERROR - 2026-02-02 05:55:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 10 direct messages
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:09 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:55:09 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:55:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:09"}}
ERROR - 2026-02-02 05:55:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:09 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:55:09 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:55:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:09"}}
ERROR - 2026-02-02 05:55:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:09 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:55:09 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:55:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:09"}}
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
ERROR - 2026-02-02 05:55:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:55:09 --> ApiController initialized
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:09 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:55:09 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:55:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:09"}}
ERROR - 2026-02-02 05:55:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:09 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:55:09 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:55:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:09"}}
ERROR - 2026-02-02 05:55:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:09 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:09 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:55:09 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:55:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:09"}}
ERROR - 2026-02-02 05:55:09 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:55:09 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:55:36 --> ApiController initialized
DEBUG - 2026-02-02 05:55:36 --> ApiController initialized
DEBUG - 2026-02-02 05:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:36 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:55:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:36 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:55:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:55:36"}}
DEBUG - 2026-02-02 05:55:36 --> ApiController initialized
DEBUG - 2026-02-02 05:55:38 --> ApiController initialized
DEBUG - 2026-02-02 05:55:38 --> ApiController initialized
DEBUG - 2026-02-02 05:55:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:38 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:55:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:38 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:55:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:55:38"}}
DEBUG - 2026-02-02 05:55:38 --> ApiController initialized
ERROR - 2026-02-02 05:55:39 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2597 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:39 --> Found 10 direct messages
DEBUG - 2026-02-02 05:55:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:40 --> ApiController initialized
DEBUG - 2026-02-02 05:55:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:40 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:55:40 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:55:40 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:55:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:40"}}
ERROR - 2026-02-02 05:55:41 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2591 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:41 --> Found 10 direct messages
DEBUG - 2026-02-02 05:55:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 05:55:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2666 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:43 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:55:43 --> ApiController initialized
DEBUG - 2026-02-02 05:55:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:43 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:43 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:55:43 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:55:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:43"}}
DEBUG - 2026-02-02 05:55:43 --> ApiController initialized
DEBUG - 2026-02-02 05:55:43 --> ApiController initialized
DEBUG - 2026-02-02 05:55:44 --> ApiController initialized
ERROR - 2026-02-02 05:55:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2559 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:45 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:55:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:46 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:46 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:55:46 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:55:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:46"}}
DEBUG - 2026-02-02 05:55:47 --> ApiController initialized
DEBUG - 2026-02-02 05:55:47 --> ApiController initialized
ERROR - 2026-02-02 05:55:48 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2494 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:48 --> ApiController initialized
DEBUG - 2026-02-02 05:55:48 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:55:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:48 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:48 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:55:48 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:55:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:48"}}
DEBUG - 2026-02-02 05:55:49 --> ApiController initialized
DEBUG - 2026-02-02 05:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:49 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:55:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:49 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:55:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:55:49"}}
ERROR - 2026-02-02 05:55:51 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2690 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:51 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:55:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:51 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:51 --> Updated is_read column for message 114
ERROR - 2026-02-02 05:55:51 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2497 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:51 --> Found 10 direct messages
DEBUG - 2026-02-02 05:55:51 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:55:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:51"}}
DEBUG - 2026-02-02 05:55:52 --> ApiController initialized
DEBUG - 2026-02-02 05:55:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:52 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:55:52 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:55:52 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:55:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:52"}}
ERROR - 2026-02-02 05:55:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2609 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:54 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:55:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:54 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:54 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:55:54 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:55:54 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:55:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:54"}}
DEBUG - 2026-02-02 05:55:54 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:55:54 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:55:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:55:54"}}
ERROR - 2026-02-02 05:55:55 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2613 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:55 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:55:56 --> ApiController initialized
DEBUG - 2026-02-02 05:55:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:56 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:55:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:56 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:55:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:55:56"}}
ERROR - 2026-02-02 05:55:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2780 ms: Couldn't connect to server
ERROR - 2026-02-02 05:55:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2813 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:57 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:55:57 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:55:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:55:57 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:55:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:55:57 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:55:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:55:57"}}
ERROR - 2026-02-02 05:55:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2643 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:59 --> Found 10 direct messages
ERROR - 2026-02-02 05:55:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2453 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:55:59 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:00 --> ApiController initialized
DEBUG - 2026-02-02 05:56:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:00 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:56:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:00 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:56:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:56:00"}}
DEBUG - 2026-02-02 05:56:00 --> ApiController initialized
DEBUG - 2026-02-02 05:56:00 --> ApiController initialized
DEBUG - 2026-02-02 05:56:00 --> ApiController initialized
DEBUG - 2026-02-02 05:56:00 --> ApiController initialized
DEBUG - 2026-02-02 05:56:00 --> ApiController initialized
DEBUG - 2026-02-02 05:56:02 --> ApiController initialized
DEBUG - 2026-02-02 05:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:02 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:02 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:02 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:02"}}
ERROR - 2026-02-02 05:56:02 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2607 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:02 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:02 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:02 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:56:02 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:56:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:02"}}
DEBUG - 2026-02-02 05:56:03 --> ApiController initialized
ERROR - 2026-02-02 05:56:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2711 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:05 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:56:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2483 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:05 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:56:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:05 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:05 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:56:05 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:56:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:05"}}
DEBUG - 2026-02-02 05:56:05 --> ApiController initialized
DEBUG - 2026-02-02 05:56:06 --> ApiController initialized
DEBUG - 2026-02-02 05:56:06 --> ApiController initialized
DEBUG - 2026-02-02 05:56:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:06 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:56:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:06 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:56:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:56:06"}}
DEBUG - 2026-02-02 05:56:06 --> ApiController initialized
ERROR - 2026-02-02 05:56:07 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2451 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:07 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:56:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:07 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:07 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:56:07 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:56:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:07"}}
DEBUG - 2026-02-02 05:56:08 --> ApiController initialized
ERROR - 2026-02-02 05:56:08 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2593 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:08 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:09 --> ApiController initialized
DEBUG - 2026-02-02 05:56:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:09 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:09 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:09 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:09"}}
ERROR - 2026-02-02 05:56:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2539 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:10 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:56:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:10 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:10 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:56:10 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:56:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:10"}}
DEBUG - 2026-02-02 05:56:10 --> ApiController initialized
ERROR - 2026-02-02 05:56:11 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2437 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:11 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:56:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2524 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:13 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:56:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:13 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:13 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:56:13 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:56:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:13"}}
DEBUG - 2026-02-02 05:56:13 --> ApiController initialized
ERROR - 2026-02-02 05:56:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2762 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:15 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:56:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:15 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:15 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:56:15 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:56:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:15"}}
DEBUG - 2026-02-02 05:56:16 --> ApiController initialized
DEBUG - 2026-02-02 05:56:16 --> ApiController initialized
DEBUG - 2026-02-02 05:56:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:16 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:56:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:16 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:56:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:56:16"}}
ERROR - 2026-02-02 05:56:18 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2545 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:18 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:18 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:18 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:56:18 --> ApiController initialized
DEBUG - 2026-02-02 05:56:18 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:56:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:18"}}
ERROR - 2026-02-02 05:56:18 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2579 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:18 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:20 --> ApiController initialized
DEBUG - 2026-02-02 05:56:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:20 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:20 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:20 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:20"}}
ERROR - 2026-02-02 05:56:21 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2531 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:21 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:56:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:21 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:21 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:56:21 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:56:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:21"}}
DEBUG - 2026-02-02 05:56:21 --> ApiController initialized
ERROR - 2026-02-02 05:56:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2744 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:23 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:56:23 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2573 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:23 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:56:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:23 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:23 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:56:23 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:56:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:23"}}
DEBUG - 2026-02-02 05:56:23 --> ApiController initialized
DEBUG - 2026-02-02 05:56:26 --> ApiController initialized
DEBUG - 2026-02-02 05:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:26 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:56:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:26 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:56:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:56:26"}}
ERROR - 2026-02-02 05:56:26 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2496 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:26 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:26 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:26 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:56:26 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:56:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:26"}}
DEBUG - 2026-02-02 05:56:26 --> ApiController initialized
ERROR - 2026-02-02 05:56:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2437 ms: Couldn't connect to server
ERROR - 2026-02-02 05:56:28 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2603 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:28 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:28 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:56:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:28 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:28 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:56:28 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:56:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:28"}}
DEBUG - 2026-02-02 05:56:29 --> ApiController initialized
DEBUG - 2026-02-02 05:56:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:29 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:29 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:29 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:29"}}
ERROR - 2026-02-02 05:56:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2443 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:31 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:31 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:31 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:56:31 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:56:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:31"}}
ERROR - 2026-02-02 05:56:31 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2510 ms: Couldn't connect to server
DEBUG - 2026-02-02 05:56:31 --> Found 1 users who have seen message 109
ERROR - 2026-02-02 05:56:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:32 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:32 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:56:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:32 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:56:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:56:32"}}
ERROR - 2026-02-02 05:56:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:32 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:32 --> ApiController initialized
DEBUG - 2026-02-02 05:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:32 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:56:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:32 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:56:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:56:32"}}
ERROR - 2026-02-02 05:56:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:32 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:32 --> ApiController initialized
DEBUG - 2026-02-02 05:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:32 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:56:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:32 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:56:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:56:32"}}
ERROR - 2026-02-02 05:56:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:32 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:33 --> ApiController initialized
DEBUG - 2026-02-02 05:56:33 --> ApiController initialized
DEBUG - 2026-02-02 05:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:33 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:33 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:56:33 --> ApiController initialized
DEBUG - 2026-02-02 05:56:33 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:56:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:33"}}
ERROR - 2026-02-02 05:56:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:33 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:33 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:33 --> ApiController initialized
DEBUG - 2026-02-02 05:56:33 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:56:33 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:56:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:33"}}
ERROR - 2026-02-02 05:56:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:33 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:33 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:33 --> ApiController initialized
DEBUG - 2026-02-02 05:56:33 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:56:33 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:56:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:33"}}
ERROR - 2026-02-02 05:56:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:33 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:33 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:33 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:56:33 --> ApiController initialized
DEBUG - 2026-02-02 05:56:33 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:56:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:33"}}
ERROR - 2026-02-02 05:56:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:33 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:33 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:33 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:56:33 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:56:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:33"}}
ERROR - 2026-02-02 05:56:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:33 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:33 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:33 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:56:33 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:56:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:33"}}
ERROR - 2026-02-02 05:56:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:33 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:56:36 --> ApiController initialized
DEBUG - 2026-02-02 05:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:36 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:56:36 --> ApiController initialized
DEBUG - 2026-02-02 05:56:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:36 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:56:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:56:36"}}
ERROR - 2026-02-02 05:56:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:36 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:36 --> ApiController initialized
DEBUG - 2026-02-02 05:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:36 --> ApiController initialized
DEBUG - 2026-02-02 05:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:56:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:56:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:56:36"}}
ERROR - 2026-02-02 05:56:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:36 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:56:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:37 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:56:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:37 --> ApiController initialized
DEBUG - 2026-02-02 05:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:37 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:37 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:37 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:37"}}
ERROR - 2026-02-02 05:56:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:37 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:56:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:38 --> Groups data: []
DEBUG - 2026-02-02 05:56:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:38 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 05:56:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:39 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 05:56:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 05:56:39"}}
ERROR - 2026-02-02 05:56:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:39 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> Groups data: []
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> ApiController initialized
DEBUG - 2026-02-02 05:56:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:39 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 05:56:39 --> Updated is_read column for message 109
DEBUG - 2026-02-02 05:56:39 --> Updated existing message status for message 109
DEBUG - 2026-02-02 05:56:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:39"}}
ERROR - 2026-02-02 05:56:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:39 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 05:56:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"116","sender_id":"1","receiver_id":"4","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 11:08:56","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Groups data: []
DEBUG - 2026-02-02 05:56:41 --> ApiController initialized
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Groups data: []
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 05:56:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 05:56:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 05:56:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 05:56:42"}}
ERROR - 2026-02-02 05:56:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:42 --> Found 10 direct messages
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:42 --> Marking message 113 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> Updated is_read column for message 113
DEBUG - 2026-02-02 05:56:42 --> Updated existing message status for message 113
DEBUG - 2026-02-02 05:56:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"113","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:42"}}
ERROR - 2026-02-02 05:56:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:42 --> Found 1 users who have seen message 113
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:42 --> Marking message 111 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> ApiController initialized
DEBUG - 2026-02-02 05:56:42 --> Updated is_read column for message 111
DEBUG - 2026-02-02 05:56:42 --> Updated existing message status for message 111
DEBUG - 2026-02-02 05:56:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"111","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:42"}}
ERROR - 2026-02-02 05:56:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:42 --> Found 1 users who have seen message 111
DEBUG - 2026-02-02 05:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:42 --> Marking message 112 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:43 --> Updated is_read column for message 112
DEBUG - 2026-02-02 05:56:43 --> Updated existing message status for message 112
DEBUG - 2026-02-02 05:56:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"112","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:43"}}
ERROR - 2026-02-02 05:56:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:43 --> Found 1 users who have seen message 112
DEBUG - 2026-02-02 05:56:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:43 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:43 --> Updated is_read column for message 116
DEBUG - 2026-02-02 05:56:43 --> Updated existing message status for message 116
DEBUG - 2026-02-02 05:56:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:43"}}
ERROR - 2026-02-02 05:56:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:43 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 05:56:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:43 --> Marking message 114 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:43 --> Updated is_read column for message 114
DEBUG - 2026-02-02 05:56:43 --> Updated existing message status for message 114
DEBUG - 2026-02-02 05:56:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"114","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:43"}}
ERROR - 2026-02-02 05:56:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:43 --> Found 1 users who have seen message 114
DEBUG - 2026-02-02 05:56:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:56:43 --> Marking message 115 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 05:56:43 --> Updated is_read column for message 115
DEBUG - 2026-02-02 05:56:43 --> Updated existing message status for message 115
DEBUG - 2026-02-02 05:56:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"115","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 05:56:43"}}
ERROR - 2026-02-02 05:56:43 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 05:56:43 --> Found 1 users who have seen message 115
DEBUG - 2026-02-02 05:57:08 --> ApiController initialized
DEBUG - 2026-02-02 05:57:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:08 --> ApiController initialized
DEBUG - 2026-02-02 05:57:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:11 --> ApiController initialized
DEBUG - 2026-02-02 05:57:11 --> ApiController initialized
DEBUG - 2026-02-02 05:57:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:38 --> ApiController initialized
DEBUG - 2026-02-02 05:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:38 --> ApiController initialized
DEBUG - 2026-02-02 05:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:41 --> ApiController initialized
DEBUG - 2026-02-02 05:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:57:41 --> ApiController initialized
DEBUG - 2026-02-02 05:57:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:08 --> ApiController initialized
DEBUG - 2026-02-02 05:58:08 --> ApiController initialized
DEBUG - 2026-02-02 05:58:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:11 --> ApiController initialized
DEBUG - 2026-02-02 05:58:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:11 --> ApiController initialized
DEBUG - 2026-02-02 05:58:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:38 --> ApiController initialized
DEBUG - 2026-02-02 05:58:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:38 --> ApiController initialized
DEBUG - 2026-02-02 05:58:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:41 --> ApiController initialized
DEBUG - 2026-02-02 05:58:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:58:41 --> ApiController initialized
DEBUG - 2026-02-02 05:58:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:08 --> ApiController initialized
DEBUG - 2026-02-02 05:59:08 --> ApiController initialized
DEBUG - 2026-02-02 05:59:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:11 --> ApiController initialized
DEBUG - 2026-02-02 05:59:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:11 --> ApiController initialized
DEBUG - 2026-02-02 05:59:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:38 --> ApiController initialized
DEBUG - 2026-02-02 05:59:38 --> ApiController initialized
DEBUG - 2026-02-02 05:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:41 --> ApiController initialized
DEBUG - 2026-02-02 05:59:41 --> ApiController initialized
DEBUG - 2026-02-02 05:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 05:59:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:08 --> ApiController initialized
DEBUG - 2026-02-02 06:00:08 --> ApiController initialized
DEBUG - 2026-02-02 06:00:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:11 --> ApiController initialized
DEBUG - 2026-02-02 06:00:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:11 --> ApiController initialized
DEBUG - 2026-02-02 06:00:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:30 --> ApiController initialized
DEBUG - 2026-02-02 06:00:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:30 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryZuJBKleUny3KimVR
DEBUG - 2026-02-02 06:00:30 --> Processing form data
DEBUG - 2026-02-02 06:00:30 --> POST data: {"content":"hello","is_group":"0","receiver_id":"1","type":"text"}
DEBUG - 2026-02-02 06:00:30 --> Processed message data: {"sender_id":"4","content":"hello","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 06:00:30 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 06:00:30 --> Inserting message data: {"sender_id":"4","content":"hello","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 14:00:30","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-02-02 06:00:30 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 06:00:30 --> Message saved successfully with ID: 117
DEBUG - 2026-02-02 06:00:30 --> Sending message to socket server: {"event":"new_message","data":{"id":117,"sender_id":"4","receiver_id":"1","group_id":null,"is_group":0,"content":"hello","type":"text","file_url":null,"created_at":"2026-02-02 06:00:30","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 06:00:30 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:00:30 --> ApiController initialized
DEBUG - 2026-02-02 06:00:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:30 --> ApiController initialized
DEBUG - 2026-02-02 06:00:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:30 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:00:30 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:00:30 --> Created new message status for message 117. Insert result: success
DEBUG - 2026-02-02 06:00:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:00:30"}}
DEBUG - 2026-02-02 06:00:30 --> ApiController initialized
ERROR - 2026-02-02 06:00:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:00:30 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:00:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:38 --> ApiController initialized
DEBUG - 2026-02-02 06:00:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:38 --> ApiController initialized
DEBUG - 2026-02-02 06:00:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:41 --> ApiController initialized
DEBUG - 2026-02-02 06:00:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:41 --> ApiController initialized
DEBUG - 2026-02-02 06:00:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:45 --> ApiController initialized
DEBUG - 2026-02-02 06:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:45 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryovPOI3pTRAAGoJAO
DEBUG - 2026-02-02 06:00:45 --> Processing form data
DEBUG - 2026-02-02 06:00:45 --> POST data: {"content":"hi, who is dis","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 06:00:45 --> Processed message data: {"sender_id":"1","content":"hi, who is dis","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 06:00:45 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 06:00:45 --> Inserting message data: {"sender_id":"1","content":"hi, who is dis","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 14:00:45","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 06:00:45 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 06:00:45 --> Message saved successfully with ID: 118
DEBUG - 2026-02-02 06:00:45 --> Sending message to socket server: {"event":"new_message","data":{"id":118,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"hi, who is dis","type":"text","file_url":null,"created_at":"2026-02-02 06:00:45","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 06:00:45 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:00:45 --> ApiController initialized
DEBUG - 2026-02-02 06:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:45 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:00:45 --> ApiController initialized
DEBUG - 2026-02-02 06:00:45 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:00:45 --> Created new message status for message 118. Insert result: success
DEBUG - 2026-02-02 06:00:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:00:45"}}
DEBUG - 2026-02-02 06:00:45 --> ApiController initialized
ERROR - 2026-02-02 06:00:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:00:45 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:00 --> ApiController initialized
DEBUG - 2026-02-02 06:01:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:00 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarykrAUvoJSEgJhJfkJ
DEBUG - 2026-02-02 06:01:00 --> Processing form data
DEBUG - 2026-02-02 06:01:00 --> POST data: {"content":"this is a test","is_group":"0","receiver_id":"1","type":"text","reply_to_id":"118","reply_to_sender_id":"1","reply_to_content":"hi, who is dis","reply_to_sender_name":"test"}
DEBUG - 2026-02-02 06:01:00 --> Processed message data: {"sender_id":"4","content":"this is a test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"118","reply_to_sender_id":"1","reply_to_content":"hi, who is dis","reply_to_sender_name":"test"}
DEBUG - 2026-02-02 06:01:00 --> Original reply_to_sender_id received: 1
DEBUG - 2026-02-02 06:01:00 --> Using original message sender ID: 1
DEBUG - 2026-02-02 06:01:00 --> Final reply_to_sender_id: 1
DEBUG - 2026-02-02 06:01:00 --> Reply data: ID=118, SenderID=1, SenderName=test, Content=hi, who is dis
DEBUG - 2026-02-02 06:01:00 --> Inserting message data: {"sender_id":"4","content":"this is a test","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 14:01:00","is_read":0,"reply_to_id":"118","reply_to_sender_id":1,"reply_to_content":"hi, who is dis","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-02-02 06:01:00 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 06:01:00 --> Message saved successfully with ID: 119
DEBUG - 2026-02-02 06:01:00 --> Sending message to socket server: {"event":"new_message","data":{"id":119,"sender_id":"4","receiver_id":"1","group_id":null,"is_group":0,"content":"this is a test","type":"text","file_url":null,"created_at":"2026-02-02 06:01:00","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png","reply_to_id":"118","reply_to_sender_id":1,"reply_to_content":"hi, who is dis","reply_to_sender_name":"test"}}
ERROR - 2026-02-02 06:01:00 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:01:00 --> ApiController initialized
DEBUG - 2026-02-02 06:01:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:01 --> ApiController initialized
DEBUG - 2026-02-02 06:01:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:01 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:01:01 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:01:01 --> Created new message status for message 119. Insert result: success
DEBUG - 2026-02-02 06:01:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:01:01"}}
ERROR - 2026-02-02 06:01:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:01:01 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:01:01 --> ApiController initialized
DEBUG - 2026-02-02 06:01:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:08 --> ApiController initialized
DEBUG - 2026-02-02 06:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:08 --> ApiController initialized
DEBUG - 2026-02-02 06:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:11 --> ApiController initialized
DEBUG - 2026-02-02 06:01:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:11 --> ApiController initialized
DEBUG - 2026-02-02 06:01:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:13 --> ApiController initialized
DEBUG - 2026-02-02 06:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:13 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarysMd6FeXRjBlBESHe
DEBUG - 2026-02-02 06:01:13 --> Processing form data
DEBUG - 2026-02-02 06:01:13 --> POST data: {"content":"oh nooooo","is_group":"0","receiver_id":"4","type":"text"}
DEBUG - 2026-02-02 06:01:13 --> Processed message data: {"sender_id":"1","content":"oh nooooo","type":"text","is_group":0,"group_id":null,"receiver_id":"4","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 06:01:13 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 06:01:13 --> Inserting message data: {"sender_id":"1","content":"oh nooooo","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 14:01:13","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"4","group_id":null}
DEBUG - 2026-02-02 06:01:13 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 06:01:13 --> Message saved successfully with ID: 120
DEBUG - 2026-02-02 06:01:13 --> Sending message to socket server: {"event":"new_message","data":{"id":120,"sender_id":"1","receiver_id":"4","group_id":null,"is_group":0,"content":"oh nooooo","type":"text","file_url":null,"created_at":"2026-02-02 06:01:13","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 06:01:13 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:01:13 --> ApiController initialized
DEBUG - 2026-02-02 06:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:13 --> ApiController initialized
DEBUG - 2026-02-02 06:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:13 --> ApiController initialized
DEBUG - 2026-02-02 06:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:13 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:01:13 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:01:13 --> Created new message status for message 120. Insert result: success
DEBUG - 2026-02-02 06:01:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:01:13"}}
ERROR - 2026-02-02 06:01:13 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:01:13 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:01:19 --> ApiController initialized
DEBUG - 2026-02-02 06:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:19 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryvRAlKoF46Tb8o83D
DEBUG - 2026-02-02 06:01:19 --> Processing form data
DEBUG - 2026-02-02 06:01:19 --> POST data: {"content":"ohhhh yess","is_group":"0","receiver_id":"1","type":"text"}
DEBUG - 2026-02-02 06:01:19 --> Processed message data: {"sender_id":"4","content":"ohhhh yess","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 06:01:19 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 06:01:19 --> Inserting message data: {"sender_id":"4","content":"ohhhh yess","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 14:01:19","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-02-02 06:01:19 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 06:01:19 --> Message saved successfully with ID: 121
DEBUG - 2026-02-02 06:01:19 --> Sending message to socket server: {"event":"new_message","data":{"id":121,"sender_id":"4","receiver_id":"1","group_id":null,"is_group":0,"content":"ohhhh yess","type":"text","file_url":null,"created_at":"2026-02-02 06:01:19","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 06:01:19 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:01:19 --> ApiController initialized
DEBUG - 2026-02-02 06:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:19 --> ApiController initialized
DEBUG - 2026-02-02 06:01:19 --> ApiController initialized
DEBUG - 2026-02-02 06:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:19 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:01:19 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:01:19 --> Created new message status for message 121. Insert result: success
DEBUG - 2026-02-02 06:01:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:01:19"}}
ERROR - 2026-02-02 06:01:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:01:19 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:01:39 --> ApiController initialized
DEBUG - 2026-02-02 06:01:39 --> ApiController initialized
DEBUG - 2026-02-02 06:01:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:41 --> ApiController initialized
DEBUG - 2026-02-02 06:01:41 --> ApiController initialized
DEBUG - 2026-02-02 06:01:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:01:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:08 --> ApiController initialized
DEBUG - 2026-02-02 06:02:08 --> ApiController initialized
DEBUG - 2026-02-02 06:02:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:11 --> ApiController initialized
DEBUG - 2026-02-02 06:02:11 --> ApiController initialized
DEBUG - 2026-02-02 06:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:38 --> ApiController initialized
DEBUG - 2026-02-02 06:02:38 --> ApiController initialized
DEBUG - 2026-02-02 06:02:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:41 --> ApiController initialized
DEBUG - 2026-02-02 06:02:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:02:41 --> ApiController initialized
DEBUG - 2026-02-02 06:02:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:08 --> ApiController initialized
DEBUG - 2026-02-02 06:03:08 --> ApiController initialized
DEBUG - 2026-02-02 06:03:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:11 --> ApiController initialized
DEBUG - 2026-02-02 06:03:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:11 --> ApiController initialized
DEBUG - 2026-02-02 06:03:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:38 --> ApiController initialized
DEBUG - 2026-02-02 06:03:38 --> ApiController initialized
DEBUG - 2026-02-02 06:03:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:41 --> ApiController initialized
DEBUG - 2026-02-02 06:03:41 --> ApiController initialized
DEBUG - 2026-02-02 06:03:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:03:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:08 --> ApiController initialized
DEBUG - 2026-02-02 06:04:08 --> ApiController initialized
DEBUG - 2026-02-02 06:04:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:11 --> ApiController initialized
DEBUG - 2026-02-02 06:04:11 --> ApiController initialized
DEBUG - 2026-02-02 06:04:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:38 --> ApiController initialized
DEBUG - 2026-02-02 06:04:38 --> ApiController initialized
DEBUG - 2026-02-02 06:04:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:41 --> ApiController initialized
DEBUG - 2026-02-02 06:04:41 --> ApiController initialized
DEBUG - 2026-02-02 06:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:08 --> ApiController initialized
DEBUG - 2026-02-02 06:05:08 --> ApiController initialized
DEBUG - 2026-02-02 06:05:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:11 --> ApiController initialized
DEBUG - 2026-02-02 06:05:11 --> ApiController initialized
DEBUG - 2026-02-02 06:05:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:38 --> ApiController initialized
DEBUG - 2026-02-02 06:05:38 --> ApiController initialized
DEBUG - 2026-02-02 06:05:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:41 --> ApiController initialized
DEBUG - 2026-02-02 06:05:41 --> ApiController initialized
DEBUG - 2026-02-02 06:05:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:05:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:08 --> ApiController initialized
DEBUG - 2026-02-02 06:06:08 --> ApiController initialized
DEBUG - 2026-02-02 06:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:11 --> ApiController initialized
DEBUG - 2026-02-02 06:06:11 --> ApiController initialized
DEBUG - 2026-02-02 06:06:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:38 --> ApiController initialized
DEBUG - 2026-02-02 06:06:38 --> ApiController initialized
DEBUG - 2026-02-02 06:06:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:41 --> ApiController initialized
DEBUG - 2026-02-02 06:06:41 --> ApiController initialized
DEBUG - 2026-02-02 06:06:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:06:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:08 --> ApiController initialized
DEBUG - 2026-02-02 06:07:08 --> ApiController initialized
DEBUG - 2026-02-02 06:07:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:11 --> ApiController initialized
DEBUG - 2026-02-02 06:07:11 --> ApiController initialized
DEBUG - 2026-02-02 06:07:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:38 --> ApiController initialized
DEBUG - 2026-02-02 06:07:38 --> ApiController initialized
DEBUG - 2026-02-02 06:07:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:41 --> ApiController initialized
DEBUG - 2026-02-02 06:07:41 --> ApiController initialized
DEBUG - 2026-02-02 06:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:08 --> ApiController initialized
DEBUG - 2026-02-02 06:08:08 --> ApiController initialized
DEBUG - 2026-02-02 06:08:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:11 --> ApiController initialized
DEBUG - 2026-02-02 06:08:11 --> ApiController initialized
DEBUG - 2026-02-02 06:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:38 --> ApiController initialized
DEBUG - 2026-02-02 06:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:38 --> ApiController initialized
DEBUG - 2026-02-02 06:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:41 --> ApiController initialized
DEBUG - 2026-02-02 06:08:41 --> ApiController initialized
DEBUG - 2026-02-02 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:08 --> ApiController initialized
DEBUG - 2026-02-02 06:09:08 --> ApiController initialized
DEBUG - 2026-02-02 06:09:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:11 --> ApiController initialized
DEBUG - 2026-02-02 06:09:11 --> ApiController initialized
DEBUG - 2026-02-02 06:09:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:39 --> ApiController initialized
DEBUG - 2026-02-02 06:09:39 --> ApiController initialized
DEBUG - 2026-02-02 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:41 --> ApiController initialized
DEBUG - 2026-02-02 06:09:41 --> ApiController initialized
DEBUG - 2026-02-02 06:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:09:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:09 --> ApiController initialized
DEBUG - 2026-02-02 06:10:09 --> ApiController initialized
DEBUG - 2026-02-02 06:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:11 --> ApiController initialized
DEBUG - 2026-02-02 06:10:11 --> ApiController initialized
DEBUG - 2026-02-02 06:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:39 --> ApiController initialized
DEBUG - 2026-02-02 06:10:39 --> ApiController initialized
DEBUG - 2026-02-02 06:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:41 --> ApiController initialized
DEBUG - 2026-02-02 06:10:41 --> ApiController initialized
DEBUG - 2026-02-02 06:10:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:10:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:09 --> ApiController initialized
DEBUG - 2026-02-02 06:11:09 --> ApiController initialized
DEBUG - 2026-02-02 06:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:11 --> ApiController initialized
DEBUG - 2026-02-02 06:11:11 --> ApiController initialized
DEBUG - 2026-02-02 06:11:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:39 --> ApiController initialized
DEBUG - 2026-02-02 06:11:39 --> ApiController initialized
DEBUG - 2026-02-02 06:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:41 --> ApiController initialized
DEBUG - 2026-02-02 06:11:41 --> ApiController initialized
DEBUG - 2026-02-02 06:11:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:11:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:09 --> ApiController initialized
DEBUG - 2026-02-02 06:12:09 --> ApiController initialized
DEBUG - 2026-02-02 06:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:11 --> ApiController initialized
DEBUG - 2026-02-02 06:12:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:11 --> ApiController initialized
DEBUG - 2026-02-02 06:12:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:39 --> ApiController initialized
DEBUG - 2026-02-02 06:12:39 --> ApiController initialized
DEBUG - 2026-02-02 06:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:41 --> ApiController initialized
DEBUG - 2026-02-02 06:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:12:41 --> ApiController initialized
DEBUG - 2026-02-02 06:12:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:08 --> ApiController initialized
DEBUG - 2026-02-02 06:13:08 --> ApiController initialized
DEBUG - 2026-02-02 06:13:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:11 --> ApiController initialized
DEBUG - 2026-02-02 06:13:11 --> ApiController initialized
DEBUG - 2026-02-02 06:13:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:39 --> ApiController initialized
DEBUG - 2026-02-02 06:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:39 --> ApiController initialized
DEBUG - 2026-02-02 06:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:41 --> ApiController initialized
DEBUG - 2026-02-02 06:13:41 --> ApiController initialized
DEBUG - 2026-02-02 06:13:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:13:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:09 --> ApiController initialized
DEBUG - 2026-02-02 06:14:09 --> ApiController initialized
DEBUG - 2026-02-02 06:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:11 --> ApiController initialized
DEBUG - 2026-02-02 06:14:11 --> ApiController initialized
DEBUG - 2026-02-02 06:14:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:39 --> ApiController initialized
DEBUG - 2026-02-02 06:14:39 --> ApiController initialized
DEBUG - 2026-02-02 06:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:41 --> ApiController initialized
DEBUG - 2026-02-02 06:14:41 --> ApiController initialized
DEBUG - 2026-02-02 06:14:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:14:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:09 --> ApiController initialized
DEBUG - 2026-02-02 06:15:09 --> ApiController initialized
DEBUG - 2026-02-02 06:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:11 --> ApiController initialized
DEBUG - 2026-02-02 06:15:11 --> ApiController initialized
DEBUG - 2026-02-02 06:15:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:39 --> ApiController initialized
DEBUG - 2026-02-02 06:15:39 --> ApiController initialized
DEBUG - 2026-02-02 06:15:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:41 --> ApiController initialized
DEBUG - 2026-02-02 06:15:41 --> ApiController initialized
DEBUG - 2026-02-02 06:15:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:15:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:08 --> ApiController initialized
DEBUG - 2026-02-02 06:16:08 --> ApiController initialized
DEBUG - 2026-02-02 06:16:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:11 --> ApiController initialized
DEBUG - 2026-02-02 06:16:11 --> ApiController initialized
DEBUG - 2026-02-02 06:16:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> Groups data: []
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> ApiController initialized
DEBUG - 2026-02-02 06:16:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:21 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:16:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:16:21 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:16:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:16:21"}}
ERROR - 2026-02-02 06:16:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:21 --> Found 15 direct messages
DEBUG - 2026-02-02 06:16:22 --> ApiController initialized
DEBUG - 2026-02-02 06:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:22 --> ApiController initialized
DEBUG - 2026-02-02 06:16:22 --> Groups data: []
DEBUG - 2026-02-02 06:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:22 --> ApiController initialized
DEBUG - 2026-02-02 06:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:16:22 --> ApiController initialized
DEBUG - 2026-02-02 06:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:22 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:16:22 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:16:22 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:16:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:16:22"}}
DEBUG - 2026-02-02 06:16:22 --> ApiController initialized
ERROR - 2026-02-02 06:16:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:22 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:16:22 --> ApiController initialized
DEBUG - 2026-02-02 06:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:22 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:16:22 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:16:22 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:16:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:16:22"}}
ERROR - 2026-02-02 06:16:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:22 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:22 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:16:22 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:16:22 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:16:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:16:22"}}
ERROR - 2026-02-02 06:16:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:22 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Groups data: []
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:16:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:16:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:16:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:16:36"}}
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
ERROR - 2026-02-02 06:16:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:36 --> Found 15 direct messages
DEBUG - 2026-02-02 06:16:36 --> ApiController initialized
DEBUG - 2026-02-02 06:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:37 --> Groups data: []
DEBUG - 2026-02-02 06:16:37 --> ApiController initialized
DEBUG - 2026-02-02 06:16:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:16:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:37 --> ApiController initialized
DEBUG - 2026-02-02 06:16:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:37 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:16:37 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:16:37 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:16:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:16:37"}}
DEBUG - 2026-02-02 06:16:37 --> ApiController initialized
ERROR - 2026-02-02 06:16:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:37 --> ApiController initialized
DEBUG - 2026-02-02 06:16:37 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:16:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:37 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:16:37 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:16:37 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:16:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:16:37"}}
ERROR - 2026-02-02 06:16:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:37 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:16:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:37 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:16:37 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:16:37 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:16:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:16:37"}}
ERROR - 2026-02-02 06:16:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:16:37 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:16:38 --> ApiController initialized
DEBUG - 2026-02-02 06:16:38 --> ApiController initialized
DEBUG - 2026-02-02 06:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:06 --> ApiController initialized
DEBUG - 2026-02-02 06:17:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:06 --> ApiController initialized
DEBUG - 2026-02-02 06:17:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:09 --> ApiController initialized
DEBUG - 2026-02-02 06:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:09 --> ApiController initialized
DEBUG - 2026-02-02 06:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:36 --> ApiController initialized
DEBUG - 2026-02-02 06:17:36 --> ApiController initialized
DEBUG - 2026-02-02 06:17:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:39 --> ApiController initialized
DEBUG - 2026-02-02 06:17:39 --> ApiController initialized
DEBUG - 2026-02-02 06:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:06 --> ApiController initialized
DEBUG - 2026-02-02 06:18:06 --> ApiController initialized
DEBUG - 2026-02-02 06:18:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:09 --> ApiController initialized
DEBUG - 2026-02-02 06:18:09 --> ApiController initialized
DEBUG - 2026-02-02 06:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:36 --> ApiController initialized
DEBUG - 2026-02-02 06:18:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:36 --> ApiController initialized
DEBUG - 2026-02-02 06:18:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:39 --> ApiController initialized
DEBUG - 2026-02-02 06:18:39 --> ApiController initialized
DEBUG - 2026-02-02 06:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:18:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:06 --> ApiController initialized
DEBUG - 2026-02-02 06:19:06 --> ApiController initialized
DEBUG - 2026-02-02 06:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:09 --> ApiController initialized
DEBUG - 2026-02-02 06:19:09 --> ApiController initialized
DEBUG - 2026-02-02 06:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:36 --> ApiController initialized
DEBUG - 2026-02-02 06:19:36 --> ApiController initialized
DEBUG - 2026-02-02 06:19:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:39 --> ApiController initialized
DEBUG - 2026-02-02 06:19:39 --> ApiController initialized
DEBUG - 2026-02-02 06:19:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:19:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:06 --> ApiController initialized
DEBUG - 2026-02-02 06:20:06 --> ApiController initialized
DEBUG - 2026-02-02 06:20:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:09 --> ApiController initialized
DEBUG - 2026-02-02 06:20:09 --> ApiController initialized
DEBUG - 2026-02-02 06:20:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:27 --> ApiController initialized
DEBUG - 2026-02-02 06:20:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:27 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:20:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:20:27 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:20:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:20:27"}}
ERROR - 2026-02-02 06:20:28 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:28 --> Found 15 direct messages
DEBUG - 2026-02-02 06:20:28 --> ApiController initialized
DEBUG - 2026-02-02 06:20:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:28 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:20:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:20:28 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:20:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:20:28"}}
ERROR - 2026-02-02 06:20:28 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:28 --> Found 15 direct messages
DEBUG - 2026-02-02 06:20:29 --> ApiController initialized
DEBUG - 2026-02-02 06:20:29 --> ApiController initialized
DEBUG - 2026-02-02 06:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:29 --> ApiController initialized
DEBUG - 2026-02-02 06:20:29 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:29 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:20:29 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:29"}}
ERROR - 2026-02-02 06:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:29 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:29 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:29 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:20:29 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:29"}}
ERROR - 2026-02-02 06:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:29 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:20:29 --> ApiController initialized
DEBUG - 2026-02-02 06:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:29 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:20:29 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:20:29 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:29"}}
ERROR - 2026-02-02 06:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:29 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:20:29 --> ApiController initialized
DEBUG - 2026-02-02 06:20:29 --> ApiController initialized
DEBUG - 2026-02-02 06:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:29 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:29 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:20:29 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:20:29 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:29"}}
DEBUG - 2026-02-02 06:20:29 --> Updated is_read column for message 119
ERROR - 2026-02-02 06:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:29 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:29"}}
DEBUG - 2026-02-02 06:20:29 --> Found 1 users who have seen message 120
ERROR - 2026-02-02 06:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:29 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:29 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:20:29 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:20:29 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:20:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:29"}}
ERROR - 2026-02-02 06:20:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:29 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:20:31 --> ApiController initialized
DEBUG - 2026-02-02 06:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:20:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:20:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:20:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:20:31"}}
ERROR - 2026-02-02 06:20:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:31 --> Found 15 direct messages
DEBUG - 2026-02-02 06:20:32 --> ApiController initialized
DEBUG - 2026-02-02 06:20:32 --> ApiController initialized
DEBUG - 2026-02-02 06:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:32 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:32 --> ApiController initialized
DEBUG - 2026-02-02 06:20:32 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:20:32 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:20:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:32"}}
ERROR - 2026-02-02 06:20:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:32 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:32 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:32 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:20:32 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:20:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:32"}}
ERROR - 2026-02-02 06:20:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:32 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:32 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:32 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:20:32 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:20:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:32"}}
ERROR - 2026-02-02 06:20:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:32 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Groups data: []
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Groups data: []
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:20:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:20:33 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:20:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:20:33"}}
ERROR - 2026-02-02 06:20:33 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:33 --> Found 15 direct messages
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:20:33 --> ApiController initialized
DEBUG - 2026-02-02 06:20:33 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:20:33 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:20:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:33"}}
ERROR - 2026-02-02 06:20:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:33 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:20:33 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:20:33 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:20:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:33"}}
ERROR - 2026-02-02 06:20:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:33 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:33 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:20:33 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:20:33 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:20:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:33"}}
ERROR - 2026-02-02 06:20:33 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:33 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:20:36 --> ApiController initialized
DEBUG - 2026-02-02 06:20:36 --> ApiController initialized
DEBUG - 2026-02-02 06:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> Groups data: []
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> Groups data: []
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> ApiController initialized
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:37 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:20:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:20:37 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:20:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:20:37"}}
ERROR - 2026-02-02 06:20:37 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:37 --> Found 15 direct messages
DEBUG - 2026-02-02 06:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:38 --> ApiController initialized
DEBUG - 2026-02-02 06:20:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:38 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:38 --> ApiController initialized
DEBUG - 2026-02-02 06:20:38 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:20:38 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:20:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:38"}}
ERROR - 2026-02-02 06:20:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:38 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:20:38 --> ApiController initialized
DEBUG - 2026-02-02 06:20:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:20:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:20:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:38"}}
ERROR - 2026-02-02 06:20:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:38 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:20:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:20:38 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:20:38 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:20:38 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:20:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:20:38"}}
ERROR - 2026-02-02 06:20:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:20:38 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:21:03 --> ApiController initialized
DEBUG - 2026-02-02 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:03 --> ApiController initialized
DEBUG - 2026-02-02 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:07 --> ApiController initialized
DEBUG - 2026-02-02 06:21:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:07 --> ApiController initialized
DEBUG - 2026-02-02 06:21:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:33 --> ApiController initialized
DEBUG - 2026-02-02 06:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:33 --> ApiController initialized
DEBUG - 2026-02-02 06:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:37 --> ApiController initialized
DEBUG - 2026-02-02 06:21:37 --> ApiController initialized
DEBUG - 2026-02-02 06:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:38 --> ApiController initialized
DEBUG - 2026-02-02 06:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:38 --> ApiController initialized
DEBUG - 2026-02-02 06:21:38 --> ApiController initialized
DEBUG - 2026-02-02 06:21:38 --> ApiController initialized
DEBUG - 2026-02-02 06:21:38 --> ApiController initialized
DEBUG - 2026-02-02 06:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:38 --> ApiController initialized
DEBUG - 2026-02-02 06:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:38 --> Groups data: []
DEBUG - 2026-02-02 06:21:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:38 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Groups data: []
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:21:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:21:39 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:21:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:21:39"}}
ERROR - 2026-02-02 06:21:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:39 --> Found 15 direct messages
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:21:39 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:21:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:21:39"}}
ERROR - 2026-02-02 06:21:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:39 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:21:39 --> ApiController initialized
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:21:39 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:21:39 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:21:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:21:39"}}
ERROR - 2026-02-02 06:21:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:39 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:39 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:21:39 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:21:39 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:21:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:21:39"}}
ERROR - 2026-02-02 06:21:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:39 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> ApiController initialized
DEBUG - 2026-02-02 06:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Groups data: []
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Groups data: []
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:21:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:21:42 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:21:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:21:42"}}
ERROR - 2026-02-02 06:21:42 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:42 --> Found 15 direct messages
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:21:42 --> ApiController initialized
DEBUG - 2026-02-02 06:21:42 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:21:42 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:21:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:21:42"}}
ERROR - 2026-02-02 06:21:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:42 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:21:42 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:21:42 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:21:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:21:42"}}
ERROR - 2026-02-02 06:21:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:42 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:21:42 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:21:42 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:21:42 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:21:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:21:42"}}
ERROR - 2026-02-02 06:21:42 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:21:42 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:22:08 --> ApiController initialized
DEBUG - 2026-02-02 06:22:08 --> ApiController initialized
DEBUG - 2026-02-02 06:22:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:11 --> ApiController initialized
DEBUG - 2026-02-02 06:22:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:11 --> ApiController initialized
DEBUG - 2026-02-02 06:22:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:38 --> ApiController initialized
DEBUG - 2026-02-02 06:22:38 --> ApiController initialized
DEBUG - 2026-02-02 06:22:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:42 --> ApiController initialized
DEBUG - 2026-02-02 06:22:42 --> ApiController initialized
DEBUG - 2026-02-02 06:22:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:22:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:09 --> ApiController initialized
DEBUG - 2026-02-02 06:23:09 --> ApiController initialized
DEBUG - 2026-02-02 06:23:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:12 --> ApiController initialized
DEBUG - 2026-02-02 06:23:12 --> ApiController initialized
DEBUG - 2026-02-02 06:23:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:39 --> ApiController initialized
DEBUG - 2026-02-02 06:23:39 --> ApiController initialized
DEBUG - 2026-02-02 06:23:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:42 --> ApiController initialized
DEBUG - 2026-02-02 06:23:42 --> ApiController initialized
DEBUG - 2026-02-02 06:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:09 --> ApiController initialized
DEBUG - 2026-02-02 06:24:09 --> ApiController initialized
DEBUG - 2026-02-02 06:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:12 --> ApiController initialized
DEBUG - 2026-02-02 06:24:12 --> ApiController initialized
DEBUG - 2026-02-02 06:24:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:39 --> ApiController initialized
DEBUG - 2026-02-02 06:24:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:39 --> ApiController initialized
DEBUG - 2026-02-02 06:24:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:41 --> ApiController initialized
DEBUG - 2026-02-02 06:24:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:24:41 --> ApiController initialized
DEBUG - 2026-02-02 06:24:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:09 --> ApiController initialized
DEBUG - 2026-02-02 06:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:09 --> ApiController initialized
DEBUG - 2026-02-02 06:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:11 --> ApiController initialized
DEBUG - 2026-02-02 06:25:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:11 --> ApiController initialized
DEBUG - 2026-02-02 06:25:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:39 --> ApiController initialized
DEBUG - 2026-02-02 06:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:39 --> ApiController initialized
DEBUG - 2026-02-02 06:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:42 --> ApiController initialized
DEBUG - 2026-02-02 06:25:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:25:42 --> ApiController initialized
DEBUG - 2026-02-02 06:25:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:09 --> ApiController initialized
DEBUG - 2026-02-02 06:26:09 --> ApiController initialized
DEBUG - 2026-02-02 06:26:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:11 --> ApiController initialized
DEBUG - 2026-02-02 06:26:11 --> ApiController initialized
DEBUG - 2026-02-02 06:26:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:39 --> ApiController initialized
DEBUG - 2026-02-02 06:26:39 --> ApiController initialized
DEBUG - 2026-02-02 06:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:41 --> ApiController initialized
DEBUG - 2026-02-02 06:26:41 --> ApiController initialized
DEBUG - 2026-02-02 06:26:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:26:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:09 --> ApiController initialized
DEBUG - 2026-02-02 06:27:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:09 --> ApiController initialized
DEBUG - 2026-02-02 06:27:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:11 --> ApiController initialized
DEBUG - 2026-02-02 06:27:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:11 --> ApiController initialized
DEBUG - 2026-02-02 06:27:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:39 --> ApiController initialized
DEBUG - 2026-02-02 06:27:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:39 --> ApiController initialized
DEBUG - 2026-02-02 06:27:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:41 --> ApiController initialized
DEBUG - 2026-02-02 06:27:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:41 --> ApiController initialized
DEBUG - 2026-02-02 06:27:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:53 --> ApiController initialized
DEBUG - 2026-02-02 06:27:53 --> ApiController initialized
DEBUG - 2026-02-02 06:27:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> Groups data: []
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> Groups data: []
DEBUG - 2026-02-02 06:27:54 --> ApiController initialized
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:54 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:27:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:27:54 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:27:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:27:54"}}
ERROR - 2026-02-02 06:27:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:27:54 --> Found 15 direct messages
DEBUG - 2026-02-02 06:27:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:55 --> ApiController initialized
DEBUG - 2026-02-02 06:27:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:55 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:27:55 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:27:55 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:27:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:27:55"}}
ERROR - 2026-02-02 06:27:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:27:55 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:27:55 --> ApiController initialized
DEBUG - 2026-02-02 06:27:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:55 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:27:55 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:27:55 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:27:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:27:55"}}
ERROR - 2026-02-02 06:27:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:27:55 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:27:55 --> ApiController initialized
DEBUG - 2026-02-02 06:27:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:27:55 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:27:55 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:27:55 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:27:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:27:55"}}
ERROR - 2026-02-02 06:27:55 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:27:55 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:28:11 --> ApiController initialized
DEBUG - 2026-02-02 06:28:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:11 --> ApiController initialized
DEBUG - 2026-02-02 06:28:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> Groups data: []
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Groups data: []
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:14 --> ApiController initialized
DEBUG - 2026-02-02 06:28:14 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:28:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:28:14 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:28:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:28:14"}}
ERROR - 2026-02-02 06:28:14 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:28:14 --> Found 15 direct messages
DEBUG - 2026-02-02 06:28:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:15 --> ApiController initialized
DEBUG - 2026-02-02 06:28:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:15 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:28:15 --> ApiController initialized
DEBUG - 2026-02-02 06:28:15 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:28:15 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:28:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:28:15"}}
ERROR - 2026-02-02 06:28:15 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:28:15 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:28:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:15 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:28:15 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:28:15 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:28:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:28:15"}}
ERROR - 2026-02-02 06:28:15 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:28:15 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:28:15 --> ApiController initialized
DEBUG - 2026-02-02 06:28:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:15 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:28:15 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:28:15 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:28:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:28:15"}}
ERROR - 2026-02-02 06:28:15 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:28:15 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:28:23 --> ApiController initialized
DEBUG - 2026-02-02 06:28:23 --> ApiController initialized
DEBUG - 2026-02-02 06:28:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:44 --> ApiController initialized
DEBUG - 2026-02-02 06:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:44 --> ApiController initialized
DEBUG - 2026-02-02 06:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:54 --> ApiController initialized
DEBUG - 2026-02-02 06:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:28:54 --> ApiController initialized
DEBUG - 2026-02-02 06:28:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:14 --> ApiController initialized
DEBUG - 2026-02-02 06:29:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:14 --> ApiController initialized
DEBUG - 2026-02-02 06:29:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:23 --> ApiController initialized
DEBUG - 2026-02-02 06:29:23 --> ApiController initialized
DEBUG - 2026-02-02 06:29:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:44 --> ApiController initialized
DEBUG - 2026-02-02 06:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:44 --> ApiController initialized
DEBUG - 2026-02-02 06:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:55 --> ApiController initialized
DEBUG - 2026-02-02 06:29:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:29:55 --> ApiController initialized
DEBUG - 2026-02-02 06:29:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:14 --> ApiController initialized
DEBUG - 2026-02-02 06:30:14 --> ApiController initialized
DEBUG - 2026-02-02 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:24 --> ApiController initialized
DEBUG - 2026-02-02 06:30:24 --> ApiController initialized
DEBUG - 2026-02-02 06:30:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:34 --> ApiController initialized
DEBUG - 2026-02-02 06:30:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:34 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:30:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:30:34 --> ApiController initialized
DEBUG - 2026-02-02 06:30:34 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:30:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:30:34"}}
DEBUG - 2026-02-02 06:30:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:34 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:30:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:30:34 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:30:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:30:34"}}
ERROR - 2026-02-02 06:30:36 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2332 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:36 --> Found 15 direct messages
ERROR - 2026-02-02 06:30:37 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2917 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:37 --> Found 15 direct messages
DEBUG - 2026-02-02 06:30:37 --> ApiController initialized
DEBUG - 2026-02-02 06:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:37 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:30:37 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:30:37 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:30:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:37"}}
DEBUG - 2026-02-02 06:30:37 --> ApiController initialized
DEBUG - 2026-02-02 06:30:38 --> ApiController initialized
DEBUG - 2026-02-02 06:30:38 --> ApiController initialized
DEBUG - 2026-02-02 06:30:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:30:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:30:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:30:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:38"}}
DEBUG - 2026-02-02 06:30:38 --> ApiController initialized
DEBUG - 2026-02-02 06:30:38 --> ApiController initialized
ERROR - 2026-02-02 06:30:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2592 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:40 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:30:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:40 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:30:40 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:30:40 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:30:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:40"}}
ERROR - 2026-02-02 06:30:41 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2699 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:41 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:41 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:30:41 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:30:41 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:30:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:41"}}
ERROR - 2026-02-02 06:30:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2570 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:43 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:43 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:30:43 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:30:43 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:30:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:43"}}
ERROR - 2026-02-02 06:30:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2545 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:43 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:43 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:30:43 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:30:43 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:30:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:43"}}
DEBUG - 2026-02-02 06:30:44 --> ApiController initialized
DEBUG - 2026-02-02 06:30:45 --> ApiController initialized
ERROR - 2026-02-02 06:30:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2534 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:45 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:30:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:45 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:30:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:30:45 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:30:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:30:45"}}
DEBUG - 2026-02-02 06:30:46 --> ApiController initialized
ERROR - 2026-02-02 06:30:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2461 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:46 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:30:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:46 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:30:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:30:46 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:30:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:30:46"}}
DEBUG - 2026-02-02 06:30:46 --> ApiController initialized
ERROR - 2026-02-02 06:30:48 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2716 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:48 --> Found 15 direct messages
ERROR - 2026-02-02 06:30:48 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2314 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:48 --> Found 15 direct messages
DEBUG - 2026-02-02 06:30:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:49 --> ApiController initialized
DEBUG - 2026-02-02 06:30:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:49 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:30:49 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:30:49 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:30:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:49"}}
DEBUG - 2026-02-02 06:30:49 --> ApiController initialized
DEBUG - 2026-02-02 06:30:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:49 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:30:49 --> ApiController initialized
DEBUG - 2026-02-02 06:30:49 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:30:49 --> ApiController initialized
DEBUG - 2026-02-02 06:30:49 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:30:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:49"}}
DEBUG - 2026-02-02 06:30:50 --> ApiController initialized
DEBUG - 2026-02-02 06:30:50 --> ApiController initialized
ERROR - 2026-02-02 06:30:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2744 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:52 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:30:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:52 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:30:52 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:30:52 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:30:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:52"}}
ERROR - 2026-02-02 06:30:52 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2537 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:52 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:30:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:52 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:30:52 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:30:52 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:30:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:52"}}
DEBUG - 2026-02-02 06:30:54 --> ApiController initialized
DEBUG - 2026-02-02 06:30:54 --> ApiController initialized
DEBUG - 2026-02-02 06:30:54 --> ApiController initialized
DEBUG - 2026-02-02 06:30:54 --> ApiController initialized
ERROR - 2026-02-02 06:30:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2523 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:54 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:30:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:54 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:30:54 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:30:54 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:30:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:54"}}
ERROR - 2026-02-02 06:30:54 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2634 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:54 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:55 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:30:55 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:30:55 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:30:55 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:30:55"}}
ERROR - 2026-02-02 06:30:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2494 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:57 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:30:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:57 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:30:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:30:57 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:30:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:30:57"}}
ERROR - 2026-02-02 06:30:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2501 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:57 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:30:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:57 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:30:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:30:57 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:30:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:30:57"}}
ERROR - 2026-02-02 06:30:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2606 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:30:59 --> Found 15 direct messages
DEBUG - 2026-02-02 06:30:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:30:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 06:31:00 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2544 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:00 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:00 --> ApiController initialized
DEBUG - 2026-02-02 06:31:00 --> ApiController initialized
DEBUG - 2026-02-02 06:31:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:00 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:00 --> ApiController initialized
DEBUG - 2026-02-02 06:31:00 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:31:00 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:31:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:00"}}
DEBUG - 2026-02-02 06:31:01 --> ApiController initialized
DEBUG - 2026-02-02 06:31:01 --> ApiController initialized
DEBUG - 2026-02-02 06:31:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:01 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:01 --> ApiController initialized
DEBUG - 2026-02-02 06:31:01 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:31:01 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:31:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:01"}}
ERROR - 2026-02-02 06:31:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2699 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:03 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:31:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:03 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:03 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:31:03 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:31:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:03"}}
ERROR - 2026-02-02 06:31:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2460 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:03 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:31:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:03 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:03 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:31:03 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:31:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:03"}}
DEBUG - 2026-02-02 06:31:04 --> ApiController initialized
DEBUG - 2026-02-02 06:31:04 --> ApiController initialized
ERROR - 2026-02-02 06:31:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2566 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:05 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:31:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:05 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:05 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:31:05 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:31:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:05"}}
ERROR - 2026-02-02 06:31:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2411 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:06 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:31:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:06 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:06 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:31:06 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:31:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:06"}}
ERROR - 2026-02-02 06:31:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2540 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:08 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:31:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:08 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:31:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:08 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:31:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:31:08"}}
ERROR - 2026-02-02 06:31:09 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2663 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:09 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:31:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:31:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:31:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:31:09"}}
ERROR - 2026-02-02 06:31:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2442 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:11 --> Found 15 direct messages
ERROR - 2026-02-02 06:31:11 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2742 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:11 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:12 --> ApiController initialized
DEBUG - 2026-02-02 06:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:12 --> ApiController initialized
DEBUG - 2026-02-02 06:31:12 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:12 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:31:12 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:31:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:12"}}
DEBUG - 2026-02-02 06:31:12 --> ApiController initialized
DEBUG - 2026-02-02 06:31:12 --> ApiController initialized
DEBUG - 2026-02-02 06:31:12 --> ApiController initialized
DEBUG - 2026-02-02 06:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:12 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:12 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:12 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:31:12 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:31:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:12"}}
DEBUG - 2026-02-02 06:31:12 --> ApiController initialized
DEBUG - 2026-02-02 06:31:12 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:31:12 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:31:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:12"}}
DEBUG - 2026-02-02 06:31:14 --> ApiController initialized
ERROR - 2026-02-02 06:31:14 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2515 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:14 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:31:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:14 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:14 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:31:14 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:31:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:14"}}
ERROR - 2026-02-02 06:31:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2619 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:15 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2660 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:15 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:31:15 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:31:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:15 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:15 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:31:15 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:31:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:15"}}
DEBUG - 2026-02-02 06:31:15 --> ApiController initialized
DEBUG - 2026-02-02 06:31:15 --> ApiController initialized
DEBUG - 2026-02-02 06:31:15 --> ApiController initialized
ERROR - 2026-02-02 06:31:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2624 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:17 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2312 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:17 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:31:17 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:31:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:17 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:17 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:31:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:17 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:31:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:31:17"}}
DEBUG - 2026-02-02 06:31:17 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:31:17 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:31:17 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:17"}}
ERROR - 2026-02-02 06:31:20 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2766 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:20 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2751 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:20 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:20 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:31:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:20 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:31:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:20 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:31:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:31:20"}}
DEBUG - 2026-02-02 06:31:21 --> ApiController initialized
DEBUG - 2026-02-02 06:31:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:21 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:21 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:31:21 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:31:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:21"}}
DEBUG - 2026-02-02 06:31:21 --> ApiController initialized
DEBUG - 2026-02-02 06:31:21 --> ApiController initialized
ERROR - 2026-02-02 06:31:23 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2643 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:23 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 06:31:24 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2528 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:24 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:31:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:24 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:24 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:31:24 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:31:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:24"}}
DEBUG - 2026-02-02 06:31:24 --> ApiController initialized
DEBUG - 2026-02-02 06:31:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:24 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:24 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:31:24 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:31:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:24"}}
DEBUG - 2026-02-02 06:31:24 --> ApiController initialized
DEBUG - 2026-02-02 06:31:25 --> ApiController initialized
DEBUG - 2026-02-02 06:31:25 --> ApiController initialized
DEBUG - 2026-02-02 06:31:25 --> ApiController initialized
DEBUG - 2026-02-02 06:31:25 --> ApiController initialized
DEBUG - 2026-02-02 06:31:25 --> ApiController initialized
ERROR - 2026-02-02 06:31:26 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2779 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:27 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:27 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:27 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:31:27 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:31:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:27"}}
ERROR - 2026-02-02 06:31:27 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2503 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:27 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:27 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:27 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:31:27 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:31:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:27"}}
ERROR - 2026-02-02 06:31:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2566 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:29 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2444 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:29 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:31:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:29 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:29 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:31:29 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:31:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:29 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:31:29 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:31:29 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:29"}}
DEBUG - 2026-02-02 06:31:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:29 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:31:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:31:29"}}
ERROR - 2026-02-02 06:31:32 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2434 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:32 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 06:31:32 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2641 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:32 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:31:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:32 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:31:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:32 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:31:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:31:32"}}
DEBUG - 2026-02-02 06:31:32 --> ApiController initialized
DEBUG - 2026-02-02 06:31:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:32 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:32 --> ApiController initialized
DEBUG - 2026-02-02 06:31:32 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:31:32 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:31:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:32"}}
DEBUG - 2026-02-02 06:31:32 --> ApiController initialized
DEBUG - 2026-02-02 06:31:34 --> ApiController initialized
ERROR - 2026-02-02 06:31:34 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2404 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:34 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:35 --> ApiController initialized
DEBUG - 2026-02-02 06:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:35 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:31:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:35 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:31:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:31:35"}}
ERROR - 2026-02-02 06:31:35 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2748 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:35 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:31:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:35 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:35 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:31:35 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:31:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:35"}}
DEBUG - 2026-02-02 06:31:35 --> ApiController initialized
DEBUG - 2026-02-02 06:31:35 --> ApiController initialized
DEBUG - 2026-02-02 06:31:36 --> ApiController initialized
ERROR - 2026-02-02 06:31:37 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2547 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:37 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2597 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:37 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:37 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:37 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:37 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:37 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:31:37 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:31:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:37"}}
DEBUG - 2026-02-02 06:31:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:31:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:31:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:38"}}
DEBUG - 2026-02-02 06:31:38 --> ApiController initialized
DEBUG - 2026-02-02 06:31:38 --> ApiController initialized
DEBUG - 2026-02-02 06:31:38 --> ApiController initialized
ERROR - 2026-02-02 06:31:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2653 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:40 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2541 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:40 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:31:40 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:40 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:40 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:31:40 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:31:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:40 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:31:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:31:40"}}
DEBUG - 2026-02-02 06:31:40 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:31:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:40"}}
ERROR - 2026-02-02 06:31:43 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2542 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:43 --> Found 15 direct messages
ERROR - 2026-02-02 06:31:43 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2540 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:43 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:31:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:43 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:43 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:31:43 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:31:43 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:43"}}
DEBUG - 2026-02-02 06:31:44 --> ApiController initialized
DEBUG - 2026-02-02 06:31:44 --> ApiController initialized
DEBUG - 2026-02-02 06:31:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:44 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:44 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:31:44 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:31:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:44"}}
DEBUG - 2026-02-02 06:31:44 --> ApiController initialized
ERROR - 2026-02-02 06:31:45 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2525 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:45 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:31:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:45 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:45 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:31:45 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:31:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:45"}}
ERROR - 2026-02-02 06:31:47 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2631 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:47 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:31:47 --> ApiController initialized
DEBUG - 2026-02-02 06:31:48 --> ApiController initialized
DEBUG - 2026-02-02 06:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:48 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:48 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:31:48 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:31:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:48"}}
DEBUG - 2026-02-02 06:31:48 --> ApiController initialized
DEBUG - 2026-02-02 06:31:48 --> ApiController initialized
ERROR - 2026-02-02 06:31:48 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2669 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:48 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:48 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:48 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:31:48 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:31:48 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:48"}}
ERROR - 2026-02-02 06:31:50 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2602 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:50 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:50 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:31:50 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:31:51 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:31:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:51"}}
ERROR - 2026-02-02 06:31:51 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2510 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:51 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:31:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:51 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:31:51 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:31:51 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:31:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:31:51"}}
ERROR - 2026-02-02 06:31:53 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2526 ms: Couldn't connect to server
ERROR - 2026-02-02 06:31:53 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2588 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:53 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:31:53 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:31:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:53 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:31:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:53 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:31:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:31:53"}}
DEBUG - 2026-02-02 06:31:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:53 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:31:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:53 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:31:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:31:53"}}
DEBUG - 2026-02-02 06:31:54 --> ApiController initialized
DEBUG - 2026-02-02 06:31:54 --> ApiController initialized
ERROR - 2026-02-02 06:31:56 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2437 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:56 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 06:31:56 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2500 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:56 --> Found 15 direct messages
DEBUG - 2026-02-02 06:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:56 --> ApiController initialized
DEBUG - 2026-02-02 06:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:56 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:31:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:56 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:31:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:31:56"}}
DEBUG - 2026-02-02 06:31:56 --> ApiController initialized
DEBUG - 2026-02-02 06:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:31:56 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:31:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:31:56 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:31:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:31:56"}}
ERROR - 2026-02-02 06:31:58 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2375 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:58 --> Found 15 direct messages
ERROR - 2026-02-02 06:31:59 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2590 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:31:59 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:00 --> ApiController initialized
DEBUG - 2026-02-02 06:32:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:00 --> ApiController initialized
DEBUG - 2026-02-02 06:32:00 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:00 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:32:00 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:32:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:00"}}
DEBUG - 2026-02-02 06:32:00 --> ApiController initialized
DEBUG - 2026-02-02 06:32:00 --> ApiController initialized
DEBUG - 2026-02-02 06:32:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:00 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:00 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:32:00 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:32:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:00"}}
DEBUG - 2026-02-02 06:32:01 --> ApiController initialized
DEBUG - 2026-02-02 06:32:01 --> ApiController initialized
ERROR - 2026-02-02 06:32:02 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2455 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:02 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:32:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:02 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:02 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:32:02 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:32:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:02"}}
ERROR - 2026-02-02 06:32:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2453 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:03 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:32:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:03 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:03 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:32:03 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:32:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:03"}}
DEBUG - 2026-02-02 06:32:03 --> ApiController initialized
DEBUG - 2026-02-02 06:32:03 --> ApiController initialized
DEBUG - 2026-02-02 06:32:03 --> ApiController initialized
DEBUG - 2026-02-02 06:32:03 --> ApiController initialized
DEBUG - 2026-02-02 06:32:03 --> ApiController initialized
DEBUG - 2026-02-02 06:32:03 --> ApiController initialized
DEBUG - 2026-02-02 06:32:04 --> ApiController initialized
DEBUG - 2026-02-02 06:32:05 --> ApiController initialized
ERROR - 2026-02-02 06:32:05 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2517 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:05 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:32:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:05 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:05 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:32:05 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:32:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:05"}}
ERROR - 2026-02-02 06:32:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2536 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:06 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:32:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:06 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:06 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:32:06 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:32:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:06"}}
ERROR - 2026-02-02 06:32:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2543 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:08 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:08 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:08 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:32:08 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:32:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:08"}}
ERROR - 2026-02-02 06:32:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2816 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:08 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:08 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:08 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:32:08 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:32:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:08"}}
ERROR - 2026-02-02 06:32:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2841 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:10 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:32:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:10 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:10 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:32:10 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:32:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:10"}}
ERROR - 2026-02-02 06:32:11 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2660 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:11 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:32:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:11 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:11 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:32:11 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:32:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:11"}}
ERROR - 2026-02-02 06:32:13 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2831 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:13 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:32:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:13 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:13 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:32:13 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:32:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:13"}}
ERROR - 2026-02-02 06:32:14 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2761 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:14 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:14 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:14 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:32:14 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:32:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:14"}}
DEBUG - 2026-02-02 06:32:15 --> ApiController initialized
DEBUG - 2026-02-02 06:32:15 --> ApiController initialized
ERROR - 2026-02-02 06:32:16 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2438 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:16 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:32:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:16 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:32:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:16 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:32:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:32:16"}}
ERROR - 2026-02-02 06:32:16 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2414 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:16 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:32:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:16 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:32:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:16 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:32:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:32:16"}}
ERROR - 2026-02-02 06:32:19 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2732 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:19 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:19 --> ApiController initialized
DEBUG - 2026-02-02 06:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:32:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:32:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:32:19"}}
ERROR - 2026-02-02 06:32:19 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2723 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:19 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:19 --> ApiController initialized
DEBUG - 2026-02-02 06:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:32:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:32:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:32:19"}}
ERROR - 2026-02-02 06:32:21 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2657 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:21 --> Found 15 direct messages
ERROR - 2026-02-02 06:32:22 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2714 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:22 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:22 --> ApiController initialized
DEBUG - 2026-02-02 06:32:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:22 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:22 --> ApiController initialized
DEBUG - 2026-02-02 06:32:22 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:32:22 --> ApiController initialized
DEBUG - 2026-02-02 06:32:22 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:32:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:22"}}
DEBUG - 2026-02-02 06:32:25 --> ApiController initialized
DEBUG - 2026-02-02 06:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:25 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:25 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:32:25 --> Updated existing message status for message 116
ERROR - 2026-02-02 06:32:25 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2599 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:25"}}
DEBUG - 2026-02-02 06:32:25 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:25 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:25 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:32:25 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:32:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:25"}}
DEBUG - 2026-02-02 06:32:25 --> ApiController initialized
DEBUG - 2026-02-02 06:32:25 --> ApiController initialized
DEBUG - 2026-02-02 06:32:25 --> ApiController initialized
DEBUG - 2026-02-02 06:32:25 --> ApiController initialized
DEBUG - 2026-02-02 06:32:25 --> ApiController initialized
DEBUG - 2026-02-02 06:32:26 --> ApiController initialized
DEBUG - 2026-02-02 06:32:26 --> ApiController initialized
DEBUG - 2026-02-02 06:32:26 --> ApiController initialized
DEBUG - 2026-02-02 06:32:26 --> ApiController initialized
ERROR - 2026-02-02 06:32:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2442 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:28 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:28 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:28 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:32:28 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:32:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:28"}}
ERROR - 2026-02-02 06:32:28 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2490 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:28 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:28 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:28 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:32:28 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:32:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:28"}}
DEBUG - 2026-02-02 06:32:28 --> ApiController initialized
DEBUG - 2026-02-02 06:32:28 --> ApiController initialized
ERROR - 2026-02-02 06:32:30 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2653 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:30 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2707 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:30 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:32:30 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:32:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:30 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:32:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:30 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:30 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:32:30 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:32:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:32:30"}}
DEBUG - 2026-02-02 06:32:30 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:32:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:30"}}
DEBUG - 2026-02-02 06:32:30 --> ApiController initialized
ERROR - 2026-02-02 06:32:33 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2410 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:33 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:33 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:33 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:32:33 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:32:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:33"}}
ERROR - 2026-02-02 06:32:33 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2475 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:33 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:32:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:33 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:33 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:32:33 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:32:33 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:33"}}
DEBUG - 2026-02-02 06:32:34 --> ApiController initialized
DEBUG - 2026-02-02 06:32:34 --> ApiController initialized
ERROR - 2026-02-02 06:32:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2575 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:36 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2689 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:36 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:32:36 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:32:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:36 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:36 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:32:36 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:32:36 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:32:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:36"}}
DEBUG - 2026-02-02 06:32:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:36 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:32:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:32:36"}}
DEBUG - 2026-02-02 06:32:36 --> ApiController initialized
ERROR - 2026-02-02 06:32:38 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2525 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:38 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2522 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:38 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:38 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:38 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:38 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:32:38 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:32:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:38"}}
DEBUG - 2026-02-02 06:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:38 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:38 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:32:38 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:32:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:38"}}
DEBUG - 2026-02-02 06:32:38 --> ApiController initialized
DEBUG - 2026-02-02 06:32:38 --> ApiController initialized
DEBUG - 2026-02-02 06:32:40 --> ApiController initialized
DEBUG - 2026-02-02 06:32:40 --> ApiController initialized
ERROR - 2026-02-02 06:32:41 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2537 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:41 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2571 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:41 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:32:41 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:41 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:41 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:32:41 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:32:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:41"}}
DEBUG - 2026-02-02 06:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:41 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:32:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:41 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:32:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:32:41"}}
DEBUG - 2026-02-02 06:32:41 --> ApiController initialized
ERROR - 2026-02-02 06:32:44 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2737 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:44 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2685 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:44 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:44 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:32:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:44 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:44 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:44 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:44 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:32:44 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:32:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:44"}}
DEBUG - 2026-02-02 06:32:44 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:32:44 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:32:44 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:32:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:44"}}
DEBUG - 2026-02-02 06:32:44 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:32:44 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:44"}}
DEBUG - 2026-02-02 06:32:44 --> ApiController initialized
DEBUG - 2026-02-02 06:32:45 --> ApiController initialized
DEBUG - 2026-02-02 06:32:45 --> ApiController initialized
DEBUG - 2026-02-02 06:32:45 --> ApiController initialized
DEBUG - 2026-02-02 06:32:45 --> ApiController initialized
ERROR - 2026-02-02 06:32:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2427 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:46 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:32:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:46 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:46 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:32:46 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:32:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:46"}}
ERROR - 2026-02-02 06:32:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2510 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:46 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2509 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:46 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:32:46 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:32:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:46 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:46 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:32:46 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:32:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:46"}}
DEBUG - 2026-02-02 06:32:46 --> ApiController initialized
ERROR - 2026-02-02 06:32:49 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2545 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:49 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2465 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:49 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:32:49 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:32:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:49 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:32:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:49 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:49 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:32:49 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:32:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:49"}}
DEBUG - 2026-02-02 06:32:49 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:32:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:32:49"}}
ERROR - 2026-02-02 06:32:51 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2507 ms: Couldn't connect to server
ERROR - 2026-02-02 06:32:51 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2501 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:51 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:51 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:51 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:32:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:51 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:32:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:32:51"}}
DEBUG - 2026-02-02 06:32:51 --> ApiController initialized
DEBUG - 2026-02-02 06:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:51 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:32:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:51 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:32:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:32:51"}}
DEBUG - 2026-02-02 06:32:54 --> ApiController initialized
DEBUG - 2026-02-02 06:32:54 --> ApiController initialized
ERROR - 2026-02-02 06:32:54 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2559 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:54 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:54 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:54 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:32:54 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:32:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:54"}}
DEBUG - 2026-02-02 06:32:54 --> ApiController initialized
ERROR - 2026-02-02 06:32:54 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2729 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:54 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:55 --> ApiController initialized
DEBUG - 2026-02-02 06:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:55 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:32:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:32:55 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:32:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:32:55"}}
DEBUG - 2026-02-02 06:32:55 --> ApiController initialized
DEBUG - 2026-02-02 06:32:55 --> ApiController initialized
DEBUG - 2026-02-02 06:32:55 --> ApiController initialized
ERROR - 2026-02-02 06:32:57 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2750 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:57 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:32:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:57 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:32:57 --> ApiController initialized
DEBUG - 2026-02-02 06:32:57 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:32:57 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:32:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:57"}}
ERROR - 2026-02-02 06:32:58 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2710 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:32:58 --> Found 15 direct messages
DEBUG - 2026-02-02 06:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:32:58 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:32:58 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:32:58 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:32:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:32:58"}}
ERROR - 2026-02-02 06:33:00 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2426 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:00 --> ApiController initialized
DEBUG - 2026-02-02 06:33:00 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:00 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:00 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:33:00 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:33:00 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:00"}}
DEBUG - 2026-02-02 06:33:00 --> ApiController initialized
ERROR - 2026-02-02 06:33:00 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2522 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:00 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:01 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:01 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:33:01 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:01"}}
DEBUG - 2026-02-02 06:33:01 --> ApiController initialized
DEBUG - 2026-02-02 06:33:01 --> ApiController initialized
ERROR - 2026-02-02 06:33:02 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2498 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:02 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:02 --> ApiController initialized
DEBUG - 2026-02-02 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:02 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:33:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:02 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:33:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:33:02"}}
ERROR - 2026-02-02 06:33:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2567 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:03 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:33:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:03 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:03 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:03 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:03"}}
ERROR - 2026-02-02 06:33:05 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2464 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:05 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:05 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:05 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:33:05 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:33:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:05"}}
DEBUG - 2026-02-02 06:33:06 --> ApiController initialized
ERROR - 2026-02-02 06:33:06 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2523 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:06 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:06 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:06 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:33:06 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:33:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:06"}}
DEBUG - 2026-02-02 06:33:06 --> ApiController initialized
ERROR - 2026-02-02 06:33:07 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2432 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:07 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:07 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:07 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:33:07 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:33:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:07"}}
DEBUG - 2026-02-02 06:33:08 --> ApiController initialized
DEBUG - 2026-02-02 06:33:08 --> ApiController initialized
DEBUG - 2026-02-02 06:33:08 --> ApiController initialized
ERROR - 2026-02-02 06:33:08 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2525 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:08 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:08 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:08 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:08 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:08 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:08"}}
ERROR - 2026-02-02 06:33:10 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2486 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:10 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:33:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:10 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:10 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:33:10 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:33:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:10"}}
ERROR - 2026-02-02 06:33:11 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2678 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:11 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:11 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:11 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:33:11 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:11"}}
ERROR - 2026-02-02 06:33:12 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2448 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:12 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:33:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:12 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:33:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:12 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:33:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:33:12"}}
ERROR - 2026-02-02 06:33:14 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2447 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:14 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:14 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:33:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:14 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:33:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:33:14"}}
DEBUG - 2026-02-02 06:33:15 --> ApiController initialized
DEBUG - 2026-02-02 06:33:15 --> ApiController initialized
ERROR - 2026-02-02 06:33:15 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2622 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:15 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:15 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:15 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:33:15 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:33:15 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:15"}}
DEBUG - 2026-02-02 06:33:15 --> ApiController initialized
DEBUG - 2026-02-02 06:33:16 --> ApiController initialized
DEBUG - 2026-02-02 06:33:16 --> ApiController initialized
ERROR - 2026-02-02 06:33:16 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2423 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:16 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:16 --> ApiController initialized
DEBUG - 2026-02-02 06:33:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:16 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:33:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:16 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:33:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:33:16"}}
DEBUG - 2026-02-02 06:33:17 --> ApiController initialized
DEBUG - 2026-02-02 06:33:17 --> ApiController initialized
DEBUG - 2026-02-02 06:33:17 --> ApiController initialized
ERROR - 2026-02-02 06:33:18 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2730 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:18 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:18 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:18 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:33:18 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:33:18 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:18"}}
DEBUG - 2026-02-02 06:33:18 --> ApiController initialized
ERROR - 2026-02-02 06:33:19 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2786 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:19 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:19 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:19 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:33:19 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:33:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:19"}}
DEBUG - 2026-02-02 06:33:20 --> ApiController initialized
DEBUG - 2026-02-02 06:33:20 --> ApiController initialized
DEBUG - 2026-02-02 06:33:20 --> ApiController initialized
ERROR - 2026-02-02 06:33:21 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2586 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:21 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:21 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:21 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:33:21 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:33:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:21"}}
ERROR - 2026-02-02 06:33:21 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2271 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:33:21 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:21 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:21 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:21 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:21"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 120
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Getting direct messages between user 1 and 4
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:33:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:23 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:33:23 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:33:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:23"}}
ERROR - 2026-02-02 06:33:23 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:33:23 --> ApiController initialized
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:33:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:33:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:33:23"}}
DEBUG - 2026-02-02 06:33:23 --> ApiController initialized
DEBUG - 2026-02-02 06:33:23 --> ApiController initialized
ERROR - 2026-02-02 06:33:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:23 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:24 --> ApiController initialized
DEBUG - 2026-02-02 06:33:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:24 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:33:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:24 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:33:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:33:24"}}
ERROR - 2026-02-02 06:33:24 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:24 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:25 --> ApiController initialized
DEBUG - 2026-02-02 06:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:25 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:25 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:25 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:25"}}
DEBUG - 2026-02-02 06:33:25 --> ApiController initialized
ERROR - 2026-02-02 06:33:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:25 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:25 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:25 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:33:25 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:33:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:25"}}
ERROR - 2026-02-02 06:33:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:25 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:25 --> ApiController initialized
DEBUG - 2026-02-02 06:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:25 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:25 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:33:25 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:25"}}
DEBUG - 2026-02-02 06:33:25 --> ApiController initialized
ERROR - 2026-02-02 06:33:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:25 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:33:25 --> ApiController initialized
DEBUG - 2026-02-02 06:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:25 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:25 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:33:25 --> ApiController initialized
DEBUG - 2026-02-02 06:33:25 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:33:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:25"}}
ERROR - 2026-02-02 06:33:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:25 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:25 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:25 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:33:25 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:33:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:25"}}
ERROR - 2026-02-02 06:33:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:25 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:25 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:25 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:33:25 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:33:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:25"}}
ERROR - 2026-02-02 06:33:25 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:25 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:33:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> Groups data: []
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> ApiController initialized
DEBUG - 2026-02-02 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:33 --> Groups data: []
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:33:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:34 --> ApiController initialized
DEBUG - 2026-02-02 06:33:34 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:33:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:33:34"}}
ERROR - 2026-02-02 06:33:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:34 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> ApiController initialized
DEBUG - 2026-02-02 06:33:34 --> ApiController initialized
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:34 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:33:34 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:33:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:34"}}
ERROR - 2026-02-02 06:33:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:34 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:34 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:33:34 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:33:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:34"}}
DEBUG - 2026-02-02 06:33:34 --> ApiController initialized
ERROR - 2026-02-02 06:33:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:34 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:33:34 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:33:34 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:33:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:34"}}
ERROR - 2026-02-02 06:33:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:34 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:33:34 --> ApiController initialized
DEBUG - 2026-02-02 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:34 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:33:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:34 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:33:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:33:34"}}
ERROR - 2026-02-02 06:33:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:34 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:35 --> ApiController initialized
DEBUG - 2026-02-02 06:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:35 --> ApiController initialized
DEBUG - 2026-02-02 06:33:35 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:35 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:35 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:35"}}
ERROR - 2026-02-02 06:33:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:35 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:35 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:35 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:33:35 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:33:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:35"}}
ERROR - 2026-02-02 06:33:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:35 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:35 --> ApiController initialized
DEBUG - 2026-02-02 06:33:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:35 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:35 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:33:35 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:35"}}
ERROR - 2026-02-02 06:33:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:35 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:39 --> ApiController initialized
DEBUG - 2026-02-02 06:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:39 --> ApiController initialized
DEBUG - 2026-02-02 06:33:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:39 --> ApiController initialized
DEBUG - 2026-02-02 06:33:39 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Groups data: []
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Groups data: []
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:33:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:33:40 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:33:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:33:40"}}
ERROR - 2026-02-02 06:33:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:40 --> Found 15 direct messages
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> ApiController initialized
DEBUG - 2026-02-02 06:33:40 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:33:40 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:33:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:40"}}
ERROR - 2026-02-02 06:33:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:40 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:40 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:33:40 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:33:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:40"}}
ERROR - 2026-02-02 06:33:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:40 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:33:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:33:40 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:33:40 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:33:40 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:33:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:33:40"}}
ERROR - 2026-02-02 06:33:40 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:33:40 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:34:04 --> ApiController initialized
DEBUG - 2026-02-02 06:34:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:04 --> ApiController initialized
DEBUG - 2026-02-02 06:34:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:09 --> ApiController initialized
DEBUG - 2026-02-02 06:34:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:09 --> ApiController initialized
DEBUG - 2026-02-02 06:34:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:34 --> ApiController initialized
DEBUG - 2026-02-02 06:34:34 --> ApiController initialized
DEBUG - 2026-02-02 06:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:39 --> ApiController initialized
DEBUG - 2026-02-02 06:34:39 --> ApiController initialized
DEBUG - 2026-02-02 06:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:03 --> ApiController initialized
DEBUG - 2026-02-02 06:35:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:03 --> ApiController initialized
DEBUG - 2026-02-02 06:35:03 --> Groups data: []
DEBUG - 2026-02-02 06:35:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:03 --> ApiController initialized
DEBUG - 2026-02-02 06:35:03 --> ApiController initialized
DEBUG - 2026-02-02 06:35:03 --> ApiController initialized
DEBUG - 2026-02-02 06:35:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Groups data: []
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:35:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:35:04 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:35:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:35:04"}}
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
ERROR - 2026-02-02 06:35:04 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:04 --> Found 15 direct messages
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:35:04 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:35:04 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:35:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:35:04"}}
ERROR - 2026-02-02 06:35:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:04 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> ApiController initialized
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:35:04 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:35:04 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:35:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:35:04"}}
ERROR - 2026-02-02 06:35:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:04 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:04 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:35:04 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:35:04 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:35:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:35:04"}}
ERROR - 2026-02-02 06:35:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:04 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:35:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> ApiController initialized
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> Groups data: []
DEBUG - 2026-02-02 06:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:07 --> Groups data: []
DEBUG - 2026-02-02 06:35:07 --> ApiController initialized
DEBUG - 2026-02-02 06:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:07 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:35:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:35:07 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:35:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:35:07"}}
ERROR - 2026-02-02 06:35:07 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:07 --> Found 15 direct messages
DEBUG - 2026-02-02 06:35:07 --> ApiController initialized
DEBUG - 2026-02-02 06:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:07 --> ApiController initialized
DEBUG - 2026-02-02 06:35:07 --> ApiController initialized
DEBUG - 2026-02-02 06:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:07 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:35:07 --> ApiController initialized
DEBUG - 2026-02-02 06:35:07 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:35:07 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:35:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:35:07"}}
ERROR - 2026-02-02 06:35:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:07 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:07 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:35:07 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:35:07 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:35:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:35:07"}}
ERROR - 2026-02-02 06:35:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:07 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:07 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:35:07 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:35:07 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:35:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:35:07"}}
ERROR - 2026-02-02 06:35:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:35:07 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:35:34 --> ApiController initialized
DEBUG - 2026-02-02 06:35:34 --> ApiController initialized
DEBUG - 2026-02-02 06:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:36 --> ApiController initialized
DEBUG - 2026-02-02 06:35:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:35:36 --> ApiController initialized
DEBUG - 2026-02-02 06:35:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:04 --> ApiController initialized
DEBUG - 2026-02-02 06:36:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:04 --> ApiController initialized
DEBUG - 2026-02-02 06:36:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:08 --> ApiController initialized
DEBUG - 2026-02-02 06:36:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:08 --> ApiController initialized
DEBUG - 2026-02-02 06:36:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:34 --> ApiController initialized
DEBUG - 2026-02-02 06:36:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:34 --> ApiController initialized
DEBUG - 2026-02-02 06:36:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:37 --> ApiController initialized
DEBUG - 2026-02-02 06:36:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:36:37 --> ApiController initialized
DEBUG - 2026-02-02 06:36:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:05 --> ApiController initialized
DEBUG - 2026-02-02 06:37:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:06 --> ApiController initialized
DEBUG - 2026-02-02 06:37:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:07 --> ApiController initialized
DEBUG - 2026-02-02 06:37:07 --> ApiController initialized
DEBUG - 2026-02-02 06:37:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Groups data: []
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Groups data: []
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:37:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:37:28 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:37:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:37:28"}}
ERROR - 2026-02-02 06:37:28 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:28 --> Found 15 direct messages
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:37:28 --> ApiController initialized
DEBUG - 2026-02-02 06:37:28 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:37:28 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:37:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:37:28"}}
ERROR - 2026-02-02 06:37:28 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:28 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:37:28 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:37:28 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:37:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:37:28"}}
ERROR - 2026-02-02 06:37:28 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:28 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:28 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:37:28 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:37:28 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:37:28 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:37:28"}}
ERROR - 2026-02-02 06:37:29 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:29 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:37:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Groups data: []
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Groups data: []
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:37:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:37:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:37:31"}}
ERROR - 2026-02-02 06:37:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:31 --> Found 15 direct messages
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:37:31 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:37:31 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:37:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:37:31"}}
ERROR - 2026-02-02 06:37:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:31 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:37:31 --> ApiController initialized
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:37:31 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:37:31 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:37:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:37:31"}}
ERROR - 2026-02-02 06:37:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:31 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:37:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:31 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:37:31 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:37:31 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:37:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:37:31"}}
ERROR - 2026-02-02 06:37:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:37:31 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:37:58 --> ApiController initialized
DEBUG - 2026-02-02 06:37:58 --> ApiController initialized
DEBUG - 2026-02-02 06:37:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:37:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:01 --> ApiController initialized
DEBUG - 2026-02-02 06:38:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:01 --> ApiController initialized
DEBUG - 2026-02-02 06:38:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:28 --> ApiController initialized
DEBUG - 2026-02-02 06:38:28 --> ApiController initialized
DEBUG - 2026-02-02 06:38:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:31 --> ApiController initialized
DEBUG - 2026-02-02 06:38:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:31 --> ApiController initialized
DEBUG - 2026-02-02 06:38:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:58 --> ApiController initialized
DEBUG - 2026-02-02 06:38:58 --> ApiController initialized
DEBUG - 2026-02-02 06:38:58 --> ApiController initialized
DEBUG - 2026-02-02 06:38:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:38:58 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:38:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:38:58 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:38:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:38:58"}}
ERROR - 2026-02-02 06:39:00 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2220 ms: Couldn't connect to server
DEBUG - 2026-02-02 06:39:00 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:39:01 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:39:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:39:01 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:39:01 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:39:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:01"}}
DEBUG - 2026-02-02 06:39:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:39:01"}}
ERROR - 2026-02-02 06:39:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
ERROR - 2026-02-02 06:39:01 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:01 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:01 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:01 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:39:01 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:39:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:01"}}
ERROR - 2026-02-02 06:39:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:01 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:01 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:39:01 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:39:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:01"}}
ERROR - 2026-02-02 06:39:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:01 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:39:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:39:01 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:39:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:39:01"}}
ERROR - 2026-02-02 06:39:01 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:01 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:01 --> ApiController initialized
DEBUG - 2026-02-02 06:39:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:01 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:39:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:39:01 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:39:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:39:01"}}
ERROR - 2026-02-02 06:39:01 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:01 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:02 --> ApiController initialized
DEBUG - 2026-02-02 06:39:02 --> ApiController initialized
DEBUG - 2026-02-02 06:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:02 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:02 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:02 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:39:02 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:39:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:02"}}
ERROR - 2026-02-02 06:39:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:02 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:39:02 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:39:02 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:39:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:02"}}
ERROR - 2026-02-02 06:39:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:02 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:39:02 --> ApiController initialized
DEBUG - 2026-02-02 06:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:02 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:02 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:39:02 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:39:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:02"}}
ERROR - 2026-02-02 06:39:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:02 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:39:02 --> ApiController initialized
DEBUG - 2026-02-02 06:39:02 --> ApiController initialized
DEBUG - 2026-02-02 06:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:02 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:02 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:02 --> ApiController initialized
DEBUG - 2026-02-02 06:39:02 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:39:02 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:39:02 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:39:02 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:39:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:02"}}
DEBUG - 2026-02-02 06:39:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:02"}}
ERROR - 2026-02-02 06:39:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
ERROR - 2026-02-02 06:39:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:02 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:39:02 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:02 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:39:02 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:39:02 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:39:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:02"}}
ERROR - 2026-02-02 06:39:02 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:02 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:39:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Groups data: []
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Groups data: []
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:39:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:39:11 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:39:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:39:11"}}
ERROR - 2026-02-02 06:39:11 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:11 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> ApiController initialized
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:11 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:39:11 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:39:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:11"}}
ERROR - 2026-02-02 06:39:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:11 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:11 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:39:11 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:39:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:11"}}
ERROR - 2026-02-02 06:39:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:11 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:11 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:11 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:39:11 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:39:11 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:11"}}
ERROR - 2026-02-02 06:39:11 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:11 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Groups data: []
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Groups data: []
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:39:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:39:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:39:12"}}
ERROR - 2026-02-02 06:39:12 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:12 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:12 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:39:12 --> ApiController initialized
DEBUG - 2026-02-02 06:39:12 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:39:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:12"}}
ERROR - 2026-02-02 06:39:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:12 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:12 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:39:12 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:39:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:12"}}
ERROR - 2026-02-02 06:39:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:12 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:12 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:39:12 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:39:12 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:39:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:12"}}
ERROR - 2026-02-02 06:39:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:12 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:39:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Groups data: []
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Groups data: []
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> ApiController initialized
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:13 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:39:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:39:13 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:39:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:39:13"}}
ERROR - 2026-02-02 06:39:13 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:13 --> Found 15 direct messages
DEBUG - 2026-02-02 06:39:14 --> ApiController initialized
DEBUG - 2026-02-02 06:39:14 --> ApiController initialized
DEBUG - 2026-02-02 06:39:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:14 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:39:14 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:39:14 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:39:14 --> ApiController initialized
DEBUG - 2026-02-02 06:39:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:14"}}
ERROR - 2026-02-02 06:39:14 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:14 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:39:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:14 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:39:14 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:39:14 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:39:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:14"}}
ERROR - 2026-02-02 06:39:14 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:14 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:39:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:14 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:39:14 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:39:14 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:39:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:39:14"}}
ERROR - 2026-02-02 06:39:14 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:39:14 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:39:42 --> ApiController initialized
DEBUG - 2026-02-02 06:39:42 --> ApiController initialized
DEBUG - 2026-02-02 06:39:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:43 --> ApiController initialized
DEBUG - 2026-02-02 06:39:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:39:43 --> ApiController initialized
DEBUG - 2026-02-02 06:39:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:12 --> ApiController initialized
DEBUG - 2026-02-02 06:40:12 --> ApiController initialized
DEBUG - 2026-02-02 06:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:13 --> ApiController initialized
DEBUG - 2026-02-02 06:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:13 --> ApiController initialized
DEBUG - 2026-02-02 06:40:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> Groups data: []
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:40:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:40:23 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:40:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:40:23"}}
ERROR - 2026-02-02 06:40:23 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:40:23 --> Found 15 direct messages
DEBUG - 2026-02-02 06:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:23 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:40:23 --> ApiController initialized
DEBUG - 2026-02-02 06:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:24 --> Groups data: []
DEBUG - 2026-02-02 06:40:24 --> ApiController initialized
DEBUG - 2026-02-02 06:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:24 --> ApiController initialized
DEBUG - 2026-02-02 06:40:24 --> ApiController initialized
DEBUG - 2026-02-02 06:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:24 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:40:24 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:40:24 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:40:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:40:24"}}
ERROR - 2026-02-02 06:40:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:40:24 --> ApiController initialized
DEBUG - 2026-02-02 06:40:24 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:24 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:40:24 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:40:24 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:40:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:40:24"}}
ERROR - 2026-02-02 06:40:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:40:24 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:24 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:40:24 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:40:24 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:40:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:40:24"}}
ERROR - 2026-02-02 06:40:24 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:40:24 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:40:43 --> ApiController initialized
DEBUG - 2026-02-02 06:40:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:43 --> ApiController initialized
DEBUG - 2026-02-02 06:40:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:53 --> ApiController initialized
DEBUG - 2026-02-02 06:40:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:40:54 --> ApiController initialized
DEBUG - 2026-02-02 06:40:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:13 --> ApiController initialized
DEBUG - 2026-02-02 06:41:13 --> ApiController initialized
DEBUG - 2026-02-02 06:41:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:23 --> ApiController initialized
DEBUG - 2026-02-02 06:41:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:23 --> ApiController initialized
DEBUG - 2026-02-02 06:41:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:43 --> ApiController initialized
DEBUG - 2026-02-02 06:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:43 --> ApiController initialized
DEBUG - 2026-02-02 06:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:53 --> ApiController initialized
DEBUG - 2026-02-02 06:41:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:41:53 --> ApiController initialized
DEBUG - 2026-02-02 06:41:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:15 --> ApiController initialized
DEBUG - 2026-02-02 06:42:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:15 --> ApiController initialized
DEBUG - 2026-02-02 06:42:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:23 --> ApiController initialized
DEBUG - 2026-02-02 06:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:24 --> ApiController initialized
DEBUG - 2026-02-02 06:42:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:44 --> ApiController initialized
DEBUG - 2026-02-02 06:42:44 --> ApiController initialized
DEBUG - 2026-02-02 06:42:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:53 --> ApiController initialized
DEBUG - 2026-02-02 06:42:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:42:53 --> ApiController initialized
DEBUG - 2026-02-02 06:42:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:14 --> ApiController initialized
DEBUG - 2026-02-02 06:43:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:15 --> ApiController initialized
DEBUG - 2026-02-02 06:43:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:23 --> ApiController initialized
DEBUG - 2026-02-02 06:43:23 --> ApiController initialized
DEBUG - 2026-02-02 06:43:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:44 --> ApiController initialized
DEBUG - 2026-02-02 06:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:44 --> ApiController initialized
DEBUG - 2026-02-02 06:43:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:53 --> ApiController initialized
DEBUG - 2026-02-02 06:43:53 --> ApiController initialized
DEBUG - 2026-02-02 06:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:13 --> ApiController initialized
DEBUG - 2026-02-02 06:44:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:13 --> ApiController initialized
DEBUG - 2026-02-02 06:44:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:23 --> ApiController initialized
DEBUG - 2026-02-02 06:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:23 --> ApiController initialized
DEBUG - 2026-02-02 06:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:43 --> ApiController initialized
DEBUG - 2026-02-02 06:44:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:43 --> ApiController initialized
DEBUG - 2026-02-02 06:44:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:53 --> ApiController initialized
DEBUG - 2026-02-02 06:44:53 --> ApiController initialized
DEBUG - 2026-02-02 06:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:57 --> ApiController initialized
DEBUG - 2026-02-02 06:44:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Groups data: []
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Groups data: []
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:44:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:44:58 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:44:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:44:58"}}
ERROR - 2026-02-02 06:44:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:44:58 --> Found 15 direct messages
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:44:58 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:44:58 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:44:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:44:58"}}
ERROR - 2026-02-02 06:44:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:44:58 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:44:58 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:44:58 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:44:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:44:58"}}
DEBUG - 2026-02-02 06:44:58 --> ApiController initialized
ERROR - 2026-02-02 06:44:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:44:58 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:44:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:44:58 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:44:58 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:44:58 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:44:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:44:58"}}
ERROR - 2026-02-02 06:44:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:44:58 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:45:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> ApiController initialized
DEBUG - 2026-02-02 06:45:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:02 --> Groups data: []
DEBUG - 2026-02-02 06:45:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> ApiController initialized
DEBUG - 2026-02-02 06:45:03 --> ApiController initialized
DEBUG - 2026-02-02 06:45:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:45:03 --> ApiController initialized
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Groups data: []
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:45:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:45:03 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:45:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:45:03"}}
ERROR - 2026-02-02 06:45:03 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:45:03 --> Found 15 direct messages
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> ApiController initialized
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:45:03 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:45:03 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:45:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:45:03"}}
ERROR - 2026-02-02 06:45:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:45:03 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:45:03 --> ApiController initialized
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:45:03 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:45:03 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:45:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:45:03"}}
ERROR - 2026-02-02 06:45:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:45:03 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:45:03 --> ApiController initialized
DEBUG - 2026-02-02 06:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:03 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:45:03 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:45:03 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:45:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:45:03"}}
ERROR - 2026-02-02 06:45:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:45:03 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:45:28 --> ApiController initialized
DEBUG - 2026-02-02 06:45:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:28 --> ApiController initialized
DEBUG - 2026-02-02 06:45:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:32 --> ApiController initialized
DEBUG - 2026-02-02 06:45:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:32 --> ApiController initialized
DEBUG - 2026-02-02 06:45:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:58 --> ApiController initialized
DEBUG - 2026-02-02 06:45:58 --> ApiController initialized
DEBUG - 2026-02-02 06:45:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:45:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:00 --> ApiController initialized
DEBUG - 2026-02-02 06:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:46:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:46:01 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:46:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:46:01"}}
ERROR - 2026-02-02 06:46:01 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:01 --> Found 15 direct messages
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Groups data: []
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Groups data: []
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:46:01 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:46:01 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:46:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:46:01"}}
ERROR - 2026-02-02 06:46:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:01 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:46:01 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:46:01 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:46:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:46:01"}}
ERROR - 2026-02-02 06:46:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:01 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> ApiController initialized
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:46:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:01 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:46:01 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:46:01 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:46:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:46:01"}}
ERROR - 2026-02-02 06:46:01 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:01 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:46:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:02 --> ApiController initialized
DEBUG - 2026-02-02 06:46:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:02 --> ApiController initialized
DEBUG - 2026-02-02 06:46:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Groups data: []
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Groups data: []
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:46:03 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:46:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:46:03"}}
ERROR - 2026-02-02 06:46:03 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:03 --> Found 15 direct messages
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> ApiController initialized
DEBUG - 2026-02-02 06:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:03 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:46:04 --> ApiController initialized
DEBUG - 2026-02-02 06:46:04 --> ApiController initialized
DEBUG - 2026-02-02 06:46:04 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:46:04 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:46:04"}}
ERROR - 2026-02-02 06:46:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:04 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:04 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:46:04 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:46:04 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:46:04"}}
ERROR - 2026-02-02 06:46:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:04 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:04 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:46:04 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:46:04 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:46:04"}}
ERROR - 2026-02-02 06:46:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:46:04 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:46:31 --> ApiController initialized
DEBUG - 2026-02-02 06:46:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:31 --> ApiController initialized
DEBUG - 2026-02-02 06:46:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:33 --> ApiController initialized
DEBUG - 2026-02-02 06:46:33 --> ApiController initialized
DEBUG - 2026-02-02 06:46:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:46:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:01 --> ApiController initialized
DEBUG - 2026-02-02 06:47:01 --> ApiController initialized
DEBUG - 2026-02-02 06:47:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:03 --> ApiController initialized
DEBUG - 2026-02-02 06:47:03 --> ApiController initialized
DEBUG - 2026-02-02 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:31 --> ApiController initialized
DEBUG - 2026-02-02 06:47:31 --> ApiController initialized
DEBUG - 2026-02-02 06:47:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:33 --> ApiController initialized
DEBUG - 2026-02-02 06:47:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:47:33 --> ApiController initialized
DEBUG - 2026-02-02 06:47:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:02 --> ApiController initialized
DEBUG - 2026-02-02 06:48:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:03 --> ApiController initialized
DEBUG - 2026-02-02 06:48:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:03 --> ApiController initialized
DEBUG - 2026-02-02 06:48:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:03 --> ApiController initialized
DEBUG - 2026-02-02 06:48:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:31 --> ApiController initialized
DEBUG - 2026-02-02 06:48:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:31 --> ApiController initialized
DEBUG - 2026-02-02 06:48:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:33 --> ApiController initialized
DEBUG - 2026-02-02 06:48:33 --> ApiController initialized
DEBUG - 2026-02-02 06:48:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:51 --> ApiController initialized
DEBUG - 2026-02-02 06:48:51 --> ApiController initialized
DEBUG - 2026-02-02 06:48:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:51 --> ApiController initialized
DEBUG - 2026-02-02 06:48:51 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:48:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Groups data: []
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> Groups data: []
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:48:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:48:52 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:48:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:48:52"}}
ERROR - 2026-02-02 06:48:52 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:52 --> Found 15 direct messages
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> ApiController initialized
DEBUG - 2026-02-02 06:48:52 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:48:52 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:48:52 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:48:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:48:52"}}
ERROR - 2026-02-02 06:48:52 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:52 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:48:52 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:48:52 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:48:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:48:52"}}
ERROR - 2026-02-02 06:48:52 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:52 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:52 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:48:52 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:48:52 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:48:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:48:52"}}
ERROR - 2026-02-02 06:48:52 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:52 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:48:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> Groups data: []
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:57 --> Groups data: []
DEBUG - 2026-02-02 06:48:57 --> ApiController initialized
DEBUG - 2026-02-02 06:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> ApiController initialized
DEBUG - 2026-02-02 06:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> ApiController initialized
DEBUG - 2026-02-02 06:48:58 --> ApiController initialized
DEBUG - 2026-02-02 06:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:48:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:48:58 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:48:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:48:58"}}
ERROR - 2026-02-02 06:48:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:58 --> Found 15 direct messages
DEBUG - 2026-02-02 06:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> ApiController initialized
DEBUG - 2026-02-02 06:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:48:58 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:48:58 --> ApiController initialized
DEBUG - 2026-02-02 06:48:58 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:48:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:48:58"}}
ERROR - 2026-02-02 06:48:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:58 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:48:58 --> ApiController initialized
DEBUG - 2026-02-02 06:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:48:58 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:48:58 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:48:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:48:58"}}
ERROR - 2026-02-02 06:48:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:58 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:48:58 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:48:58 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:48:58 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:48:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:48:58"}}
ERROR - 2026-02-02 06:48:58 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:48:58 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:49:22 --> ApiController initialized
DEBUG - 2026-02-02 06:49:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:22 --> ApiController initialized
DEBUG - 2026-02-02 06:49:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:27 --> ApiController initialized
DEBUG - 2026-02-02 06:49:27 --> ApiController initialized
DEBUG - 2026-02-02 06:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:28 --> ApiController initialized
DEBUG - 2026-02-02 06:49:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:28 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:49:52 --> ApiController initialized
DEBUG - 2026-02-02 06:49:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:53 --> ApiController initialized
DEBUG - 2026-02-02 06:49:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:57 --> ApiController initialized
DEBUG - 2026-02-02 06:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:49:57 --> ApiController initialized
DEBUG - 2026-02-02 06:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:22 --> ApiController initialized
DEBUG - 2026-02-02 06:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:22 --> ApiController initialized
DEBUG - 2026-02-02 06:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:28 --> ApiController initialized
DEBUG - 2026-02-02 06:50:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:28 --> ApiController initialized
DEBUG - 2026-02-02 06:50:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:52 --> ApiController initialized
DEBUG - 2026-02-02 06:50:52 --> ApiController initialized
DEBUG - 2026-02-02 06:50:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:57 --> ApiController initialized
DEBUG - 2026-02-02 06:50:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:50:57 --> ApiController initialized
DEBUG - 2026-02-02 06:50:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:22 --> ApiController initialized
DEBUG - 2026-02-02 06:51:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:22 --> ApiController initialized
DEBUG - 2026-02-02 06:51:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:28 --> ApiController initialized
DEBUG - 2026-02-02 06:51:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:28 --> ApiController initialized
DEBUG - 2026-02-02 06:51:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:31 --> ApiController initialized
DEBUG - 2026-02-02 06:51:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:31 --> Groups data: []
DEBUG - 2026-02-02 06:51:31 --> ApiController initialized
DEBUG - 2026-02-02 06:51:31 --> ApiController initialized
DEBUG - 2026-02-02 06:51:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:31 --> Groups data: []
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:51:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:51:32 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:51:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:51:32"}}
ERROR - 2026-02-02 06:51:32 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:32 --> Found 15 direct messages
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:51:32 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:51:32 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:51:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:51:32"}}
ERROR - 2026-02-02 06:51:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:32 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:51:32 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:51:32 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:51:32 --> ApiController initialized
DEBUG - 2026-02-02 06:51:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:51:32"}}
ERROR - 2026-02-02 06:51:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:32 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:32 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:51:32 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:51:32 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:51:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:51:32"}}
ERROR - 2026-02-02 06:51:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:32 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:51:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:35 --> ApiController initialized
DEBUG - 2026-02-02 06:51:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:51:35 --> ApiController initialized
DEBUG - 2026-02-02 06:51:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:35 --> ApiController initialized
DEBUG - 2026-02-02 06:51:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:35 --> ApiController initialized
DEBUG - 2026-02-02 06:51:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:35 --> Groups data: []
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Groups data: []
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:51:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:51:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:51:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:51:36"}}
ERROR - 2026-02-02 06:51:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:36 --> Found 15 direct messages
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:51:36 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:51:36 --> ApiController initialized
DEBUG - 2026-02-02 06:51:36 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:51:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:51:36"}}
ERROR - 2026-02-02 06:51:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:36 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:51:36 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:51:36 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:51:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:51:36"}}
ERROR - 2026-02-02 06:51:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:36 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:51:36 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:51:36 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:51:36 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:51:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:51:36"}}
ERROR - 2026-02-02 06:51:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:51:36 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:52:02 --> ApiController initialized
DEBUG - 2026-02-02 06:52:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:02 --> ApiController initialized
DEBUG - 2026-02-02 06:52:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:05 --> ApiController initialized
DEBUG - 2026-02-02 06:52:05 --> ApiController initialized
DEBUG - 2026-02-02 06:52:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:32 --> ApiController initialized
DEBUG - 2026-02-02 06:52:32 --> ApiController initialized
DEBUG - 2026-02-02 06:52:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:35 --> ApiController initialized
DEBUG - 2026-02-02 06:52:35 --> ApiController initialized
DEBUG - 2026-02-02 06:52:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:52:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:02 --> ApiController initialized
DEBUG - 2026-02-02 06:53:02 --> ApiController initialized
DEBUG - 2026-02-02 06:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:05 --> ApiController initialized
DEBUG - 2026-02-02 06:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:05 --> ApiController initialized
DEBUG - 2026-02-02 06:53:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:33 --> ApiController initialized
DEBUG - 2026-02-02 06:53:33 --> ApiController initialized
DEBUG - 2026-02-02 06:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:36 --> ApiController initialized
DEBUG - 2026-02-02 06:53:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:53:36 --> ApiController initialized
DEBUG - 2026-02-02 06:53:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:02 --> ApiController initialized
DEBUG - 2026-02-02 06:54:02 --> ApiController initialized
DEBUG - 2026-02-02 06:54:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:06 --> ApiController initialized
DEBUG - 2026-02-02 06:54:06 --> ApiController initialized
DEBUG - 2026-02-02 06:54:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:33 --> ApiController initialized
DEBUG - 2026-02-02 06:54:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:33 --> ApiController initialized
DEBUG - 2026-02-02 06:54:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:36 --> ApiController initialized
DEBUG - 2026-02-02 06:54:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:54:36 --> ApiController initialized
DEBUG - 2026-02-02 06:54:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:01 --> ApiController initialized
DEBUG - 2026-02-02 06:55:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:01 --> ApiController initialized
DEBUG - 2026-02-02 06:55:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> Groups data: []
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:55:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:55:03 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:55:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:55:03"}}
ERROR - 2026-02-02 06:55:03 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:03 --> Found 15 direct messages
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:03 --> ApiController initialized
DEBUG - 2026-02-02 06:55:04 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:04 --> Groups data: []
DEBUG - 2026-02-02 06:55:04 --> ApiController initialized
DEBUG - 2026-02-02 06:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:04 --> ApiController initialized
DEBUG - 2026-02-02 06:55:04 --> ApiController initialized
DEBUG - 2026-02-02 06:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:04 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:04 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:55:04 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:55:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:04"}}
ERROR - 2026-02-02 06:55:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:04 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:55:04 --> ApiController initialized
DEBUG - 2026-02-02 06:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:04 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:04 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:55:04 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:55:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:04"}}
ERROR - 2026-02-02 06:55:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:04 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:04 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:04 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:55:04 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:55:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:04"}}
ERROR - 2026-02-02 06:55:04 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:04 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:05 --> ApiController initialized
DEBUG - 2026-02-02 06:55:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:05 --> ApiController initialized
DEBUG - 2026-02-02 06:55:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:05 --> ApiController initialized
DEBUG - 2026-02-02 06:55:05 --> ApiController initialized
DEBUG - 2026-02-02 06:55:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:05 --> Groups data: []
DEBUG - 2026-02-02 06:55:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:05 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:05 --> ApiController initialized
DEBUG - 2026-02-02 06:55:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Groups data: []
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 06:55:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:55:06 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 06:55:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 06:55:06"}}
ERROR - 2026-02-02 06:55:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:06 --> Found 15 direct messages
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:55:06 --> Updated is_read column for message 120
DEBUG - 2026-02-02 06:55:06 --> Updated existing message status for message 120
DEBUG - 2026-02-02 06:55:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:06"}}
ERROR - 2026-02-02 06:55:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:06 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:55:06 --> Updated is_read column for message 118
DEBUG - 2026-02-02 06:55:06 --> Updated existing message status for message 118
DEBUG - 2026-02-02 06:55:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:06"}}
ERROR - 2026-02-02 06:55:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:06 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:06 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 06:55:06 --> Updated is_read column for message 116
DEBUG - 2026-02-02 06:55:06 --> ApiController initialized
DEBUG - 2026-02-02 06:55:06 --> Updated existing message status for message 116
DEBUG - 2026-02-02 06:55:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:06"}}
DEBUG - 2026-02-02 06:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 06:55:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:06 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 06:55:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:30 --> ApiController initialized
DEBUG - 2026-02-02 06:55:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:30 --> ApiController initialized
DEBUG - 2026-02-02 06:55:30 --> ApiController initialized
DEBUG - 2026-02-02 06:55:30 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Groups data: []
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:55:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:55:31 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:55:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:55:31"}}
ERROR - 2026-02-02 06:55:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:31 --> Found 15 direct messages
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Groups data: []
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:55:31 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:55:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:31"}}
ERROR - 2026-02-02 06:55:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:31 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:31 --> ApiController initialized
DEBUG - 2026-02-02 06:55:31 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:55:31 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:55:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:31"}}
ERROR - 2026-02-02 06:55:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:31 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:31 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:31 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:55:31 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:55:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:31"}}
ERROR - 2026-02-02 06:55:31 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:31 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:55:32 --> ApiController initialized
DEBUG - 2026-02-02 06:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:34 --> ApiController initialized
DEBUG - 2026-02-02 06:55:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:35 --> ApiController initialized
DEBUG - 2026-02-02 06:55:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:35 --> ApiController initialized
DEBUG - 2026-02-02 06:55:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> Groups data: []
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> ApiController initialized
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:44 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:55:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:55:44 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:55:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:55:44"}}
ERROR - 2026-02-02 06:55:44 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:44 --> Found 15 direct messages
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:45 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> Groups data: []
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:45 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:45 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:55:45 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:55:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:45"}}
ERROR - 2026-02-02 06:55:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:45 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:45 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:45 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:55:45 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:55:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:45"}}
ERROR - 2026-02-02 06:55:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:45 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:45 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:45 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:55:45 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:55:45 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:45"}}
ERROR - 2026-02-02 06:55:45 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:45 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:55:45 --> ApiController initialized
DEBUG - 2026-02-02 06:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> Groups data: []
DEBUG - 2026-02-02 06:55:49 --> ApiController initialized
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:49 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 06:55:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 06:55:49 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 06:55:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 06:55:49"}}
ERROR - 2026-02-02 06:55:49 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:49 --> Found 15 direct messages
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:50 --> Groups data: []
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:50 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Updated is_read column for message 117
DEBUG - 2026-02-02 06:55:50 --> Updated existing message status for message 117
DEBUG - 2026-02-02 06:55:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:50"}}
ERROR - 2026-02-02 06:55:50 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:50 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:50 --> Updated is_read column for message 119
DEBUG - 2026-02-02 06:55:50 --> Updated existing message status for message 119
DEBUG - 2026-02-02 06:55:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:50"}}
ERROR - 2026-02-02 06:55:50 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:50 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:50 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 06:55:50 --> Updated is_read column for message 121
DEBUG - 2026-02-02 06:55:50 --> Updated existing message status for message 121
DEBUG - 2026-02-02 06:55:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 06:55:50"}}
ERROR - 2026-02-02 06:55:50 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 06:55:50 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 06:55:50 --> ApiController initialized
DEBUG - 2026-02-02 06:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:55:53 --> ApiController initialized
DEBUG - 2026-02-02 06:55:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:05 --> ApiController initialized
DEBUG - 2026-02-02 06:56:05 --> ApiController initialized
DEBUG - 2026-02-02 06:56:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:19 --> ApiController initialized
DEBUG - 2026-02-02 06:56:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:19 --> ApiController initialized
DEBUG - 2026-02-02 06:56:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:35 --> ApiController initialized
DEBUG - 2026-02-02 06:56:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:35 --> ApiController initialized
DEBUG - 2026-02-02 06:56:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:49 --> ApiController initialized
DEBUG - 2026-02-02 06:56:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:56:49 --> ApiController initialized
DEBUG - 2026-02-02 06:56:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:05 --> ApiController initialized
DEBUG - 2026-02-02 06:57:05 --> ApiController initialized
DEBUG - 2026-02-02 06:57:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:19 --> ApiController initialized
DEBUG - 2026-02-02 06:57:19 --> ApiController initialized
DEBUG - 2026-02-02 06:57:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:36 --> ApiController initialized
DEBUG - 2026-02-02 06:57:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:36 --> ApiController initialized
DEBUG - 2026-02-02 06:57:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:49 --> ApiController initialized
DEBUG - 2026-02-02 06:57:49 --> ApiController initialized
DEBUG - 2026-02-02 06:57:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:57:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:12 --> ApiController initialized
DEBUG - 2026-02-02 06:58:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:15 --> ApiController initialized
DEBUG - 2026-02-02 06:58:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:19 --> ApiController initialized
DEBUG - 2026-02-02 06:58:19 --> ApiController initialized
DEBUG - 2026-02-02 06:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:36 --> ApiController initialized
DEBUG - 2026-02-02 06:58:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:36 --> ApiController initialized
DEBUG - 2026-02-02 06:58:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:49 --> ApiController initialized
DEBUG - 2026-02-02 06:58:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:58:49 --> ApiController initialized
DEBUG - 2026-02-02 06:58:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:06 --> ApiController initialized
DEBUG - 2026-02-02 06:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:06 --> ApiController initialized
DEBUG - 2026-02-02 06:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:19 --> ApiController initialized
DEBUG - 2026-02-02 06:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:19 --> ApiController initialized
DEBUG - 2026-02-02 06:59:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:36 --> ApiController initialized
DEBUG - 2026-02-02 06:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:36 --> ApiController initialized
DEBUG - 2026-02-02 06:59:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:49 --> ApiController initialized
DEBUG - 2026-02-02 06:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 06:59:49 --> ApiController initialized
DEBUG - 2026-02-02 06:59:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:05 --> ApiController initialized
DEBUG - 2026-02-02 07:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:06 --> ApiController initialized
DEBUG - 2026-02-02 07:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:20 --> ApiController initialized
DEBUG - 2026-02-02 07:00:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:20 --> ApiController initialized
DEBUG - 2026-02-02 07:00:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:36 --> ApiController initialized
DEBUG - 2026-02-02 07:00:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:36 --> ApiController initialized
DEBUG - 2026-02-02 07:00:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:52 --> ApiController initialized
DEBUG - 2026-02-02 07:00:52 --> ApiController initialized
DEBUG - 2026-02-02 07:00:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:00:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:08 --> ApiController initialized
DEBUG - 2026-02-02 07:01:08 --> ApiController initialized
DEBUG - 2026-02-02 07:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:19 --> ApiController initialized
DEBUG - 2026-02-02 07:01:19 --> ApiController initialized
DEBUG - 2026-02-02 07:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Groups data: []
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Groups data: []
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> ApiController initialized
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:01:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:01:35 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:01:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:01:35"}}
ERROR - 2026-02-02 07:01:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:35 --> Found 15 direct messages
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:01:35 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:01:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:35"}}
ERROR - 2026-02-02 07:01:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:35 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:01:35 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:01:35 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:01:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:35"}}
ERROR - 2026-02-02 07:01:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:35 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:01:35 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:01:35 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:01:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:35"}}
ERROR - 2026-02-02 07:01:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:35 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:35 --> ApiController initialized
DEBUG - 2026-02-02 07:01:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> Groups data: []
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> ApiController initialized
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:37 --> Groups data: []
DEBUG - 2026-02-02 07:01:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> ApiController initialized
DEBUG - 2026-02-02 07:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 07:01:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:01:38 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 07:01:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 07:01:38"}}
DEBUG - 2026-02-02 07:01:38 --> ApiController initialized
ERROR - 2026-02-02 07:01:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:38 --> Found 15 direct messages
DEBUG - 2026-02-02 07:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> ApiController initialized
DEBUG - 2026-02-02 07:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:01:38 --> Updated is_read column for message 120
DEBUG - 2026-02-02 07:01:38 --> Updated existing message status for message 120
DEBUG - 2026-02-02 07:01:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:38"}}
ERROR - 2026-02-02 07:01:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:38 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 07:01:38 --> ApiController initialized
DEBUG - 2026-02-02 07:01:38 --> ApiController initialized
DEBUG - 2026-02-02 07:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:01:38 --> Updated is_read column for message 116
DEBUG - 2026-02-02 07:01:38 --> Updated existing message status for message 116
DEBUG - 2026-02-02 07:01:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:38"}}
ERROR - 2026-02-02 07:01:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:38 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 07:01:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:38 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:01:38 --> Updated is_read column for message 118
DEBUG - 2026-02-02 07:01:38 --> Updated existing message status for message 118
DEBUG - 2026-02-02 07:01:38 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:38"}}
ERROR - 2026-02-02 07:01:38 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:38 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 07:01:39 --> ApiController initialized
DEBUG - 2026-02-02 07:01:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:52 --> ApiController initialized
DEBUG - 2026-02-02 07:01:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:55 --> ApiController initialized
DEBUG - 2026-02-02 07:01:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:55 --> ApiController initialized
DEBUG - 2026-02-02 07:01:55 --> ApiController initialized
DEBUG - 2026-02-02 07:01:55 --> ApiController initialized
DEBUG - 2026-02-02 07:01:55 --> ApiController initialized
DEBUG - 2026-02-02 07:01:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Groups data: []
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:01:56 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:01:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:01:56"}}
ERROR - 2026-02-02 07:01:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:56 --> Found 15 direct messages
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> ApiController initialized
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Groups data: []
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:01:56 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:01:56 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:01:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:56"}}
ERROR - 2026-02-02 07:01:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:56 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:01:56 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:01:56 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:01:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:56"}}
ERROR - 2026-02-02 07:01:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:56 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:01:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:01:56 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:01:56 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:01:56 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:01:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:01:56"}}
ERROR - 2026-02-02 07:01:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:01:56 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:01:57 --> ApiController initialized
DEBUG - 2026-02-02 07:01:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:07 --> ApiController initialized
DEBUG - 2026-02-02 07:02:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:07 --> ApiController initialized
DEBUG - 2026-02-02 07:02:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:26 --> ApiController initialized
DEBUG - 2026-02-02 07:02:26 --> ApiController initialized
DEBUG - 2026-02-02 07:02:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:37 --> ApiController initialized
DEBUG - 2026-02-02 07:02:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:37 --> ApiController initialized
DEBUG - 2026-02-02 07:02:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:55 --> ApiController initialized
DEBUG - 2026-02-02 07:02:55 --> ApiController initialized
DEBUG - 2026-02-02 07:02:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:02:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:07 --> ApiController initialized
DEBUG - 2026-02-02 07:03:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:07 --> ApiController initialized
DEBUG - 2026-02-02 07:03:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:25 --> ApiController initialized
DEBUG - 2026-02-02 07:03:25 --> ApiController initialized
DEBUG - 2026-02-02 07:03:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Groups data: []
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:03:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:03:34 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:03:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:03:34"}}
ERROR - 2026-02-02 07:03:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:34 --> Found 15 direct messages
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Groups data: []
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:03:34 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:03:34 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:03:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:34"}}
ERROR - 2026-02-02 07:03:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:34 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:03:34 --> ApiController initialized
DEBUG - 2026-02-02 07:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:34 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:03:35 --> ApiController initialized
DEBUG - 2026-02-02 07:03:35 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:03:35 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:03:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:35"}}
ERROR - 2026-02-02 07:03:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:35 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:03:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:35 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:03:35 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:03:35 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:03:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:35"}}
ERROR - 2026-02-02 07:03:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:35 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:03:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:35 --> ApiController initialized
DEBUG - 2026-02-02 07:03:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Groups data: []
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 07:03:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:03:36 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 07:03:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 07:03:36"}}
ERROR - 2026-02-02 07:03:36 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:36 --> Found 15 direct messages
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> Groups data: []
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> ApiController initialized
DEBUG - 2026-02-02 07:03:36 --> Updated is_read column for message 118
DEBUG - 2026-02-02 07:03:36 --> Updated existing message status for message 118
DEBUG - 2026-02-02 07:03:36 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:36"}}
ERROR - 2026-02-02 07:03:36 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:36 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 07:03:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:37 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:03:37 --> Updated is_read column for message 116
DEBUG - 2026-02-02 07:03:37 --> Updated existing message status for message 116
DEBUG - 2026-02-02 07:03:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:37"}}
ERROR - 2026-02-02 07:03:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:37 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 07:03:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:37 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:03:37 --> Updated is_read column for message 120
DEBUG - 2026-02-02 07:03:37 --> Updated existing message status for message 120
DEBUG - 2026-02-02 07:03:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:37"}}
ERROR - 2026-02-02 07:03:37 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:03:37 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 07:03:37 --> ApiController initialized
DEBUG - 2026-02-02 07:03:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:54 --> ApiController initialized
DEBUG - 2026-02-02 07:03:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:54 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:03:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:03:54 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:03:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:03:54"}}
DEBUG - 2026-02-02 07:03:56 --> ApiController initialized
DEBUG - 2026-02-02 07:03:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:56 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 07:03:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:03:56 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 07:03:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 07:03:56"}}
ERROR - 2026-02-02 07:03:56 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2242 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:03:56 --> Found 15 direct messages
DEBUG - 2026-02-02 07:03:57 --> ApiController initialized
DEBUG - 2026-02-02 07:03:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:57 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:03:57 --> ApiController initialized
DEBUG - 2026-02-02 07:03:57 --> ApiController initialized
DEBUG - 2026-02-02 07:03:57 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:03:57 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:03:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:57"}}
ERROR - 2026-02-02 07:03:58 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2258 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:03:58 --> Found 15 direct messages
DEBUG - 2026-02-02 07:03:59 --> ApiController initialized
DEBUG - 2026-02-02 07:03:59 --> ApiController initialized
DEBUG - 2026-02-02 07:03:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:59 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:03:59 --> Updated is_read column for message 118
DEBUG - 2026-02-02 07:03:59 --> Updated existing message status for message 118
DEBUG - 2026-02-02 07:03:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:59"}}
DEBUG - 2026-02-02 07:03:59 --> ApiController initialized
ERROR - 2026-02-02 07:03:59 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2229 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:03:59 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:03:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:03:59 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:03:59 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:03:59 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:03:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:03:59"}}
ERROR - 2026-02-02 07:04:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2220 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:04:01 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 07:04:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:01 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:01 --> Updated is_read column for message 116
DEBUG - 2026-02-02 07:04:01 --> Updated existing message status for message 116
DEBUG - 2026-02-02 07:04:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:01"}}
ERROR - 2026-02-02 07:04:01 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2231 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:04:01 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:04:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:01 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:01 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:04:01 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:04:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:01"}}
ERROR - 2026-02-02 07:04:03 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2236 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:04:03 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 07:04:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:03 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:03 --> Updated is_read column for message 120
DEBUG - 2026-02-02 07:04:03 --> Updated existing message status for message 120
DEBUG - 2026-02-02 07:04:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:03"}}
ERROR - 2026-02-02 07:04:04 --> Failed to send message_seen event to socket server: 7 : Failed to connect to localhost port 3001 after 2227 ms: Couldn't connect to server
DEBUG - 2026-02-02 07:04:04 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:04:04 --> ApiController initialized
DEBUG - 2026-02-02 07:04:04 --> ApiController initialized
DEBUG - 2026-02-02 07:04:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:04 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:04:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:04:04 --> ApiController initialized
DEBUG - 2026-02-02 07:04:04 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:04:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:04:04"}}
ERROR - 2026-02-02 07:04:05 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:05 --> Found 15 direct messages
ERROR - 2026-02-02 07:04:05 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:05 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 07:04:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> ApiController initialized
DEBUG - 2026-02-02 07:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:06 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:04:06 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:04:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:06"}}
ERROR - 2026-02-02 07:04:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:06 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:04:06 --> ApiController initialized
DEBUG - 2026-02-02 07:04:06 --> ApiController initialized
DEBUG - 2026-02-02 07:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 07:04:06 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:04:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:04:06 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:04:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:06"}}
ERROR - 2026-02-02 07:04:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:06 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:04:06 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 07:04:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 07:04:06"}}
ERROR - 2026-02-02 07:04:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:06 --> Found 15 direct messages
DEBUG - 2026-02-02 07:04:06 --> ApiController initialized
DEBUG - 2026-02-02 07:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> ApiController initialized
DEBUG - 2026-02-02 07:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> ApiController initialized
DEBUG - 2026-02-02 07:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:06 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:06 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:04:06 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:04:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:06"}}
ERROR - 2026-02-02 07:04:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:06 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:04:07 --> ApiController initialized
DEBUG - 2026-02-02 07:04:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:07 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:07 --> ApiController initialized
DEBUG - 2026-02-02 07:04:07 --> Updated is_read column for message 116
DEBUG - 2026-02-02 07:04:07 --> ApiController initialized
DEBUG - 2026-02-02 07:04:07 --> Updated existing message status for message 116
DEBUG - 2026-02-02 07:04:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:07"}}
DEBUG - 2026-02-02 07:04:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:07 --> Marking message 118 as seen by user 4 (is_group: false)
ERROR - 2026-02-02 07:04:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:07 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 07:04:07 --> Updated is_read column for message 118
DEBUG - 2026-02-02 07:04:07 --> Updated existing message status for message 118
DEBUG - 2026-02-02 07:04:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:07"}}
ERROR - 2026-02-02 07:04:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:07 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 07:04:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:07 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:07 --> Updated is_read column for message 120
DEBUG - 2026-02-02 07:04:07 --> Updated existing message status for message 120
DEBUG - 2026-02-02 07:04:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:07"}}
ERROR - 2026-02-02 07:04:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:07 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 07:04:09 --> ApiController initialized
DEBUG - 2026-02-02 07:04:09 --> ApiController initialized
DEBUG - 2026-02-02 07:04:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:09 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:04:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:09 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 07:04:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:04:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:04:09 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:04:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:04:09"}}
DEBUG - 2026-02-02 07:04:09 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 07:04:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 07:04:09"}}
ERROR - 2026-02-02 07:04:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:09 --> Found 15 direct messages
ERROR - 2026-02-02 07:04:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:09 --> Found 15 direct messages
DEBUG - 2026-02-02 07:04:10 --> ApiController initialized
DEBUG - 2026-02-02 07:04:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:10 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:10 --> Updated is_read column for message 116
DEBUG - 2026-02-02 07:04:10 --> Updated existing message status for message 116
DEBUG - 2026-02-02 07:04:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:10"}}
ERROR - 2026-02-02 07:04:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:10 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 07:04:10 --> ApiController initialized
DEBUG - 2026-02-02 07:04:10 --> ApiController initialized
DEBUG - 2026-02-02 07:04:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:10 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:10 --> Updated is_read column for message 118
DEBUG - 2026-02-02 07:04:10 --> Updated existing message status for message 118
DEBUG - 2026-02-02 07:04:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:10"}}
ERROR - 2026-02-02 07:04:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:10 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 07:04:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:10 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:10 --> Updated is_read column for message 120
DEBUG - 2026-02-02 07:04:10 --> Updated existing message status for message 120
DEBUG - 2026-02-02 07:04:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:10"}}
ERROR - 2026-02-02 07:04:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:10 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 07:04:10 --> ApiController initialized
DEBUG - 2026-02-02 07:04:10 --> ApiController initialized
DEBUG - 2026-02-02 07:04:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:10 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:10 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:04:10 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:04:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:10"}}
ERROR - 2026-02-02 07:04:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:10 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:04:10 --> ApiController initialized
DEBUG - 2026-02-02 07:04:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:10 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:10 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:04:10 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:04:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:10"}}
ERROR - 2026-02-02 07:04:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:10 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:04:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:10 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:10 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:04:10 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:04:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:10"}}
ERROR - 2026-02-02 07:04:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:10 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:04:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> Groups data: []
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> ApiController initialized
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:18 --> Groups data: []
DEBUG - 2026-02-02 07:04:19 --> ApiController initialized
DEBUG - 2026-02-02 07:04:19 --> ApiController initialized
DEBUG - 2026-02-02 07:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:19 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:04:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:04:19 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:04:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:04:19"}}
ERROR - 2026-02-02 07:04:19 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:19 --> Found 15 direct messages
DEBUG - 2026-02-02 07:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:19 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:04:19 --> ApiController initialized
DEBUG - 2026-02-02 07:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:19 --> ApiController initialized
DEBUG - 2026-02-02 07:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:19 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:19 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:04:19 --> ApiController initialized
DEBUG - 2026-02-02 07:04:19 --> ApiController initialized
DEBUG - 2026-02-02 07:04:19 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:04:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:19"}}
ERROR - 2026-02-02 07:04:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:19 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:19 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:19 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:04:19 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:04:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:19"}}
ERROR - 2026-02-02 07:04:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:19 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:19 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:04:19 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:04:19 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:04:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:19"}}
ERROR - 2026-02-02 07:04:19 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:19 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:04:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:20 --> ApiController initialized
DEBUG - 2026-02-02 07:04:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> Groups data: []
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-02-02 03:46:35","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 03:46:35","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Groups data: []
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> ApiController initialized
DEBUG - 2026-02-02 07:04:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:21 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 07:04:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:04:21 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 07:04:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 07:04:21"}}
ERROR - 2026-02-02 07:04:21 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:21 --> Found 15 direct messages
DEBUG - 2026-02-02 07:04:22 --> ApiController initialized
DEBUG - 2026-02-02 07:04:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:22 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:22 --> ApiController initialized
DEBUG - 2026-02-02 07:04:22 --> Updated is_read column for message 118
DEBUG - 2026-02-02 07:04:22 --> Updated existing message status for message 118
DEBUG - 2026-02-02 07:04:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:22"}}
ERROR - 2026-02-02 07:04:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:22 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 07:04:22 --> ApiController initialized
DEBUG - 2026-02-02 07:04:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:22 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:22 --> Updated is_read column for message 120
DEBUG - 2026-02-02 07:04:22 --> Updated existing message status for message 120
DEBUG - 2026-02-02 07:04:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:22"}}
ERROR - 2026-02-02 07:04:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:22 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 07:04:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:22 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 07:04:22 --> Updated is_read column for message 116
DEBUG - 2026-02-02 07:04:22 --> Updated existing message status for message 116
DEBUG - 2026-02-02 07:04:22 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:04:22"}}
ERROR - 2026-02-02 07:04:22 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:04:22 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 07:04:26 --> ApiController initialized
DEBUG - 2026-02-02 07:04:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:33 --> ApiController initialized
DEBUG - 2026-02-02 07:04:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:48 --> ApiController initialized
DEBUG - 2026-02-02 07:04:48 --> ApiController initialized
DEBUG - 2026-02-02 07:04:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:50 --> ApiController initialized
DEBUG - 2026-02-02 07:04:50 --> ApiController initialized
DEBUG - 2026-02-02 07:04:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:04:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:18 --> ApiController initialized
DEBUG - 2026-02-02 07:05:18 --> ApiController initialized
DEBUG - 2026-02-02 07:05:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:20 --> ApiController initialized
DEBUG - 2026-02-02 07:05:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:21 --> ApiController initialized
DEBUG - 2026-02-02 07:05:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:48 --> ApiController initialized
DEBUG - 2026-02-02 07:05:48 --> ApiController initialized
DEBUG - 2026-02-02 07:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:50 --> ApiController initialized
DEBUG - 2026-02-02 07:05:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:05:50 --> ApiController initialized
DEBUG - 2026-02-02 07:05:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:18 --> ApiController initialized
DEBUG - 2026-02-02 07:06:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:18 --> ApiController initialized
DEBUG - 2026-02-02 07:06:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:21 --> ApiController initialized
DEBUG - 2026-02-02 07:06:21 --> ApiController initialized
DEBUG - 2026-02-02 07:06:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:42 --> ApiController initialized
DEBUG - 2026-02-02 07:06:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:48 --> ApiController initialized
DEBUG - 2026-02-02 07:06:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:48 --> ApiController initialized
DEBUG - 2026-02-02 07:06:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:50 --> ApiController initialized
DEBUG - 2026-02-02 07:06:50 --> ApiController initialized
DEBUG - 2026-02-02 07:06:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:06:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:18 --> ApiController initialized
DEBUG - 2026-02-02 07:07:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:18 --> ApiController initialized
DEBUG - 2026-02-02 07:07:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:20 --> ApiController initialized
DEBUG - 2026-02-02 07:07:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:20 --> ApiController initialized
DEBUG - 2026-02-02 07:07:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:24 --> ApiController initialized
DEBUG - 2026-02-02 07:07:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:48 --> ApiController initialized
DEBUG - 2026-02-02 07:07:48 --> ApiController initialized
DEBUG - 2026-02-02 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:50 --> ApiController initialized
DEBUG - 2026-02-02 07:07:50 --> ApiController initialized
DEBUG - 2026-02-02 07:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:18 --> ApiController initialized
DEBUG - 2026-02-02 07:08:18 --> ApiController initialized
DEBUG - 2026-02-02 07:08:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:20 --> ApiController initialized
DEBUG - 2026-02-02 07:08:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:20 --> ApiController initialized
DEBUG - 2026-02-02 07:08:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:48 --> ApiController initialized
DEBUG - 2026-02-02 07:08:48 --> ApiController initialized
DEBUG - 2026-02-02 07:08:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:50 --> ApiController initialized
DEBUG - 2026-02-02 07:08:50 --> ApiController initialized
DEBUG - 2026-02-02 07:08:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:08:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:18 --> ApiController initialized
DEBUG - 2026-02-02 07:09:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:18 --> ApiController initialized
DEBUG - 2026-02-02 07:09:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:20 --> ApiController initialized
DEBUG - 2026-02-02 07:09:20 --> ApiController initialized
DEBUG - 2026-02-02 07:09:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:48 --> ApiController initialized
DEBUG - 2026-02-02 07:09:48 --> ApiController initialized
DEBUG - 2026-02-02 07:09:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:50 --> ApiController initialized
DEBUG - 2026-02-02 07:09:50 --> ApiController initialized
DEBUG - 2026-02-02 07:09:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:09:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:18 --> ApiController initialized
DEBUG - 2026-02-02 07:10:18 --> ApiController initialized
DEBUG - 2026-02-02 07:10:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:20 --> ApiController initialized
DEBUG - 2026-02-02 07:10:20 --> ApiController initialized
DEBUG - 2026-02-02 07:10:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:48 --> ApiController initialized
DEBUG - 2026-02-02 07:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:48 --> ApiController initialized
DEBUG - 2026-02-02 07:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:50 --> ApiController initialized
DEBUG - 2026-02-02 07:10:50 --> ApiController initialized
DEBUG - 2026-02-02 07:10:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:10:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:18 --> ApiController initialized
DEBUG - 2026-02-02 07:11:18 --> ApiController initialized
DEBUG - 2026-02-02 07:11:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:20 --> ApiController initialized
DEBUG - 2026-02-02 07:11:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:20 --> ApiController initialized
DEBUG - 2026-02-02 07:11:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:48 --> ApiController initialized
DEBUG - 2026-02-02 07:11:48 --> ApiController initialized
DEBUG - 2026-02-02 07:11:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:50 --> ApiController initialized
DEBUG - 2026-02-02 07:11:50 --> ApiController initialized
DEBUG - 2026-02-02 07:11:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:11:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:18 --> ApiController initialized
DEBUG - 2026-02-02 07:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:18 --> ApiController initialized
DEBUG - 2026-02-02 07:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:20 --> ApiController initialized
DEBUG - 2026-02-02 07:12:20 --> ApiController initialized
DEBUG - 2026-02-02 07:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:28 --> ApiController initialized
DEBUG - 2026-02-02 07:12:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:48 --> ApiController initialized
DEBUG - 2026-02-02 07:12:48 --> ApiController initialized
DEBUG - 2026-02-02 07:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:50 --> ApiController initialized
DEBUG - 2026-02-02 07:12:50 --> ApiController initialized
DEBUG - 2026-02-02 07:12:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:12:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:18 --> ApiController initialized
DEBUG - 2026-02-02 07:13:18 --> ApiController initialized
DEBUG - 2026-02-02 07:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:18 --> ApiController initialized
DEBUG - 2026-02-02 07:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:20 --> ApiController initialized
DEBUG - 2026-02-02 07:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:20 --> ApiController initialized
DEBUG - 2026-02-02 07:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:27 --> ApiController initialized
DEBUG - 2026-02-02 07:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:27 --> Marking message 109 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:13:27 --> Updated is_read column for message 109
DEBUG - 2026-02-02 07:13:27 --> Updated existing message status for message 109
DEBUG - 2026-02-02 07:13:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"109","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:13:27"}}
ERROR - 2026-02-02 07:13:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:13:27 --> Found 1 users who have seen message 109
DEBUG - 2026-02-02 07:13:27 --> ApiController initialized
DEBUG - 2026-02-02 07:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:27 --> Marking message 108 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:13:27 --> Updated is_read column for message 108
DEBUG - 2026-02-02 07:13:27 --> Updated existing message status for message 108
DEBUG - 2026-02-02 07:13:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"108","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:13:27"}}
ERROR - 2026-02-02 07:13:27 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:13:27 --> Found 1 users who have seen message 108
DEBUG - 2026-02-02 07:13:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:40 --> ApiController initialized
DEBUG - 2026-02-02 07:13:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-02-02 07:13:40 --> [DEPRECATED] Implicit conversion from float 1770016420.556 to int loses precision in APPPATH\Controllers\ApiController.php on line 2449.
 1 APPPATH\Controllers\ApiController.php(2449): date('Y-m-d H:i:s', 1770016420.556)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('3')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 07:13:40 --> ApiController initialized
DEBUG - 2026-02-02 07:13:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:43 --> ApiController initialized
DEBUG - 2026-02-02 07:13:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-02-02 07:13:43 --> [DEPRECATED] Implicit conversion from float 1770016420.556 to int loses precision in APPPATH\Controllers\ApiController.php on line 2449.
 1 APPPATH\Controllers\ApiController.php(2449): date('Y-m-d H:i:s', 1770016420.556)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('3')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 07:13:45 --> ApiController initialized
DEBUG - 2026-02-02 07:13:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:46 --> ApiController initialized
DEBUG - 2026-02-02 07:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-02-02 07:13:46 --> [DEPRECATED] Implicit conversion from float 1770016420.556 to int loses precision in APPPATH\Controllers\ApiController.php on line 2449.
 1 APPPATH\Controllers\ApiController.php(2449): date('Y-m-d H:i:s', 1770016420.556)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('3')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 07:13:49 --> ApiController initialized
DEBUG - 2026-02-02 07:13:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-02-02 07:13:49 --> [DEPRECATED] Implicit conversion from float 1770016420.556 to int loses precision in APPPATH\Controllers\ApiController.php on line 2449.
 1 APPPATH\Controllers\ApiController.php(2449): date('Y-m-d H:i:s', 1770016420.556)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('3')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-02-02 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:50 --> ApiController initialized
DEBUG - 2026-02-02 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:50 --> ApiController initialized
DEBUG - 2026-02-02 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:50 --> ApiController initialized
DEBUG - 2026-02-02 07:13:50 --> ApiController initialized
DEBUG - 2026-02-02 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:50 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:51 --> ApiController initialized
DEBUG - 2026-02-02 07:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:51 --> Groups data: []
DEBUG - 2026-02-02 07:13:51 --> ApiController initialized
DEBUG - 2026-02-02 07:13:51 --> ApiController initialized
DEBUG - 2026-02-02 07:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:51 --> ApiController initialized
DEBUG - 2026-02-02 07:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> Groups data: []
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> ApiController initialized
DEBUG - 2026-02-02 07:13:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:57 --> ApiController initialized
DEBUG - 2026-02-02 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:57 --> Getting direct messages between user 1 and 5
DEBUG - 2026-02-02 07:13:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '5'
  )
OR    (
`messages`.`sender_id` = '5'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:13:57 --> Marked messages from user 5 to 1 as read
DEBUG - 2026-02-02 07:13:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"5","is_group":false,"timestamp":"2026-02-02 07:13:57"}}
ERROR - 2026-02-02 07:13:57 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:13:57 --> Found 1 direct messages
DEBUG - 2026-02-02 07:13:57 --> ApiController initialized
DEBUG - 2026-02-02 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:57 --> Groups data: []
DEBUG - 2026-02-02 07:13:57 --> ApiController initialized
DEBUG - 2026-02-02 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:57 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"106","sender_id":"5","receiver_id":"1","group_id":null,"content":"gsdgsd","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:13:23","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:13:57 --> ApiController initialized
DEBUG - 2026-02-02 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:57 --> ApiController initialized
DEBUG - 2026-02-02 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:13:57 --> Marking message 106 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:13:57 --> Updated is_read column for message 106
DEBUG - 2026-02-02 07:13:57 --> Updated existing message status for message 106
DEBUG - 2026-02-02 07:13:57 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"106","user_id":"1","other_user_id":5,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:13:57"}}
ERROR - 2026-02-02 07:13:57 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:13:57 --> Found 1 users who have seen message 106
DEBUG - 2026-02-02 07:14:04 --> ApiController initialized
DEBUG - 2026-02-02 07:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryV35n8fjc3DBA8No5
DEBUG - 2026-02-02 07:14:04 --> Processing form data
DEBUG - 2026-02-02 07:14:04 --> POST data: {"content":"low men","is_group":"0","receiver_id":"5","type":"text"}
DEBUG - 2026-02-02 07:14:04 --> Processed message data: {"sender_id":"1","content":"low men","type":"text","is_group":0,"group_id":null,"receiver_id":"5","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-02-02 07:14:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-02-02 07:14:04 --> Inserting message data: {"sender_id":"1","content":"low men","type":"text","file_url":null,"is_group":0,"created_at":"2026-02-02 15:14:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"5","group_id":null}
DEBUG - 2026-02-02 07:14:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-02-02 07:14:04 --> Message saved successfully with ID: 122
DEBUG - 2026-02-02 07:14:04 --> Sending message to socket server: {"event":"new_message","data":{"id":122,"sender_id":"1","receiver_id":"5","group_id":null,"is_group":0,"content":"low men","type":"text","file_url":null,"created_at":"2026-02-02 07:14:04","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
ERROR - 2026-02-02 07:14:04 --> Failed to send message to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:14:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:15 --> ApiController initialized
DEBUG - 2026-02-02 07:14:15 --> ApiController initialized
DEBUG - 2026-02-02 07:14:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:15 --> Groups data: []
DEBUG - 2026-02-02 07:14:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:15 --> ApiController initialized
DEBUG - 2026-02-02 07:14:15 --> ApiController initialized
DEBUG - 2026-02-02 07:14:15 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:14:16 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Getting direct messages between user 1 and 3
DEBUG - 2026-02-02 07:14:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:14:16 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-02-02 07:14:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-02-02 07:14:16"}}
ERROR - 2026-02-02 07:14:16 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:14:16 --> Found 105 direct messages
DEBUG - 2026-02-02 07:14:16 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:16 --> Groups data: []
DEBUG - 2026-02-02 07:14:16 --> ApiController initialized
DEBUG - 2026-02-02 07:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Groups data: []
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 07:14:20 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 07:14:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 07:14:20"}}
ERROR - 2026-02-02 07:14:20 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:14:20 --> Found 15 direct messages
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> ApiController initialized
DEBUG - 2026-02-02 07:14:20 --> Groups data: []
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:20 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 07:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:21 --> ApiController initialized
DEBUG - 2026-02-02 07:14:21 --> ApiController initialized
DEBUG - 2026-02-02 07:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:21 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:14:21 --> ApiController initialized
DEBUG - 2026-02-02 07:14:21 --> ApiController initialized
DEBUG - 2026-02-02 07:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:21 --> Updated is_read column for message 119
DEBUG - 2026-02-02 07:14:21 --> Updated existing message status for message 119
DEBUG - 2026-02-02 07:14:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:14:21"}}
ERROR - 2026-02-02 07:14:21 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:14:21 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 07:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:21 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:14:21 --> ApiController initialized
DEBUG - 2026-02-02 07:14:21 --> Updated is_read column for message 121
DEBUG - 2026-02-02 07:14:21 --> Updated existing message status for message 121
DEBUG - 2026-02-02 07:14:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:14:21"}}
DEBUG - 2026-02-02 07:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-02-02 07:14:21 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:14:21 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 07:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:21 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 07:14:21 --> Updated is_read column for message 117
DEBUG - 2026-02-02 07:14:21 --> Updated existing message status for message 117
DEBUG - 2026-02-02 07:14:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 07:14:21"}}
ERROR - 2026-02-02 07:14:21 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 07:14:21 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 07:14:49 --> ApiController initialized
DEBUG - 2026-02-02 07:14:49 --> ApiController initialized
DEBUG - 2026-02-02 07:14:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:50 --> ApiController initialized
DEBUG - 2026-02-02 07:14:50 --> ApiController initialized
DEBUG - 2026-02-02 07:14:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:14:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:19 --> ApiController initialized
DEBUG - 2026-02-02 07:15:19 --> ApiController initialized
DEBUG - 2026-02-02 07:15:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:20 --> ApiController initialized
DEBUG - 2026-02-02 07:15:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:20 --> ApiController initialized
DEBUG - 2026-02-02 07:15:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:49 --> ApiController initialized
DEBUG - 2026-02-02 07:15:49 --> ApiController initialized
DEBUG - 2026-02-02 07:15:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:50 --> ApiController initialized
DEBUG - 2026-02-02 07:15:50 --> ApiController initialized
DEBUG - 2026-02-02 07:15:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:15:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:19 --> ApiController initialized
DEBUG - 2026-02-02 07:16:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:19 --> ApiController initialized
DEBUG - 2026-02-02 07:16:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:20 --> ApiController initialized
DEBUG - 2026-02-02 07:16:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:20 --> ApiController initialized
DEBUG - 2026-02-02 07:16:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:49 --> ApiController initialized
DEBUG - 2026-02-02 07:16:49 --> ApiController initialized
DEBUG - 2026-02-02 07:16:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:50 --> ApiController initialized
DEBUG - 2026-02-02 07:16:50 --> ApiController initialized
DEBUG - 2026-02-02 07:16:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:16:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:19 --> ApiController initialized
DEBUG - 2026-02-02 07:17:19 --> ApiController initialized
DEBUG - 2026-02-02 07:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:20 --> ApiController initialized
DEBUG - 2026-02-02 07:17:20 --> ApiController initialized
DEBUG - 2026-02-02 07:17:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:49 --> ApiController initialized
DEBUG - 2026-02-02 07:17:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:49 --> ApiController initialized
DEBUG - 2026-02-02 07:17:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:50 --> ApiController initialized
DEBUG - 2026-02-02 07:17:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:17:50 --> ApiController initialized
DEBUG - 2026-02-02 07:17:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:19 --> ApiController initialized
DEBUG - 2026-02-02 07:18:19 --> ApiController initialized
DEBUG - 2026-02-02 07:18:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:20 --> ApiController initialized
DEBUG - 2026-02-02 07:18:20 --> ApiController initialized
DEBUG - 2026-02-02 07:18:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:49 --> ApiController initialized
DEBUG - 2026-02-02 07:18:49 --> ApiController initialized
DEBUG - 2026-02-02 07:18:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:50 --> ApiController initialized
DEBUG - 2026-02-02 07:18:50 --> ApiController initialized
DEBUG - 2026-02-02 07:18:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:18:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:19 --> ApiController initialized
DEBUG - 2026-02-02 07:19:19 --> ApiController initialized
DEBUG - 2026-02-02 07:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:20 --> ApiController initialized
DEBUG - 2026-02-02 07:19:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:20 --> ApiController initialized
DEBUG - 2026-02-02 07:19:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:49 --> ApiController initialized
DEBUG - 2026-02-02 07:19:49 --> ApiController initialized
DEBUG - 2026-02-02 07:19:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:50 --> ApiController initialized
DEBUG - 2026-02-02 07:19:50 --> ApiController initialized
DEBUG - 2026-02-02 07:19:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:19:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:19 --> ApiController initialized
DEBUG - 2026-02-02 07:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:19 --> ApiController initialized
DEBUG - 2026-02-02 07:20:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:20 --> ApiController initialized
DEBUG - 2026-02-02 07:20:20 --> ApiController initialized
DEBUG - 2026-02-02 07:20:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:49 --> ApiController initialized
DEBUG - 2026-02-02 07:20:49 --> ApiController initialized
DEBUG - 2026-02-02 07:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:50 --> ApiController initialized
DEBUG - 2026-02-02 07:20:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:20:50 --> ApiController initialized
DEBUG - 2026-02-02 07:20:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:19 --> ApiController initialized
DEBUG - 2026-02-02 07:21:19 --> ApiController initialized
DEBUG - 2026-02-02 07:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:20 --> ApiController initialized
DEBUG - 2026-02-02 07:21:20 --> ApiController initialized
DEBUG - 2026-02-02 07:21:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:49 --> ApiController initialized
DEBUG - 2026-02-02 07:21:49 --> ApiController initialized
DEBUG - 2026-02-02 07:21:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:50 --> ApiController initialized
DEBUG - 2026-02-02 07:21:50 --> ApiController initialized
DEBUG - 2026-02-02 07:21:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:21:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:19 --> ApiController initialized
DEBUG - 2026-02-02 07:22:19 --> ApiController initialized
DEBUG - 2026-02-02 07:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:20 --> ApiController initialized
DEBUG - 2026-02-02 07:22:20 --> ApiController initialized
DEBUG - 2026-02-02 07:22:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:49 --> ApiController initialized
DEBUG - 2026-02-02 07:22:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:49 --> ApiController initialized
DEBUG - 2026-02-02 07:22:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:50 --> ApiController initialized
DEBUG - 2026-02-02 07:22:50 --> ApiController initialized
DEBUG - 2026-02-02 07:22:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:22:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:19 --> ApiController initialized
DEBUG - 2026-02-02 07:23:19 --> ApiController initialized
DEBUG - 2026-02-02 07:23:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:20 --> ApiController initialized
DEBUG - 2026-02-02 07:23:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:20 --> ApiController initialized
DEBUG - 2026-02-02 07:23:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:49 --> ApiController initialized
DEBUG - 2026-02-02 07:23:49 --> ApiController initialized
DEBUG - 2026-02-02 07:23:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:50 --> ApiController initialized
DEBUG - 2026-02-02 07:23:50 --> ApiController initialized
DEBUG - 2026-02-02 07:23:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:23:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:19 --> ApiController initialized
DEBUG - 2026-02-02 07:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:19 --> ApiController initialized
DEBUG - 2026-02-02 07:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:20 --> ApiController initialized
DEBUG - 2026-02-02 07:24:20 --> ApiController initialized
DEBUG - 2026-02-02 07:24:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:49 --> ApiController initialized
DEBUG - 2026-02-02 07:24:49 --> ApiController initialized
DEBUG - 2026-02-02 07:24:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:50 --> ApiController initialized
DEBUG - 2026-02-02 07:24:50 --> ApiController initialized
DEBUG - 2026-02-02 07:24:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:24:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:19 --> ApiController initialized
DEBUG - 2026-02-02 07:25:19 --> ApiController initialized
DEBUG - 2026-02-02 07:25:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:20 --> ApiController initialized
DEBUG - 2026-02-02 07:25:20 --> ApiController initialized
DEBUG - 2026-02-02 07:25:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:49 --> ApiController initialized
DEBUG - 2026-02-02 07:25:49 --> ApiController initialized
DEBUG - 2026-02-02 07:25:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:50 --> ApiController initialized
DEBUG - 2026-02-02 07:25:50 --> ApiController initialized
DEBUG - 2026-02-02 07:25:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:25:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:19 --> ApiController initialized
DEBUG - 2026-02-02 07:26:19 --> ApiController initialized
DEBUG - 2026-02-02 07:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:20 --> ApiController initialized
DEBUG - 2026-02-02 07:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:20 --> ApiController initialized
DEBUG - 2026-02-02 07:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:49 --> ApiController initialized
DEBUG - 2026-02-02 07:26:49 --> ApiController initialized
DEBUG - 2026-02-02 07:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:50 --> ApiController initialized
DEBUG - 2026-02-02 07:26:50 --> ApiController initialized
DEBUG - 2026-02-02 07:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:19 --> ApiController initialized
DEBUG - 2026-02-02 07:27:19 --> ApiController initialized
DEBUG - 2026-02-02 07:27:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:20 --> ApiController initialized
DEBUG - 2026-02-02 07:27:20 --> ApiController initialized
DEBUG - 2026-02-02 07:27:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:49 --> ApiController initialized
DEBUG - 2026-02-02 07:27:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:49 --> ApiController initialized
DEBUG - 2026-02-02 07:27:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:50 --> ApiController initialized
DEBUG - 2026-02-02 07:27:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:27:50 --> ApiController initialized
DEBUG - 2026-02-02 07:27:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:19 --> ApiController initialized
DEBUG - 2026-02-02 07:28:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:19 --> ApiController initialized
DEBUG - 2026-02-02 07:28:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:20 --> ApiController initialized
DEBUG - 2026-02-02 07:28:20 --> ApiController initialized
DEBUG - 2026-02-02 07:28:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:49 --> ApiController initialized
DEBUG - 2026-02-02 07:28:49 --> ApiController initialized
DEBUG - 2026-02-02 07:28:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:50 --> ApiController initialized
DEBUG - 2026-02-02 07:28:50 --> ApiController initialized
DEBUG - 2026-02-02 07:28:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:28:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:19 --> ApiController initialized
DEBUG - 2026-02-02 07:29:19 --> ApiController initialized
DEBUG - 2026-02-02 07:29:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:20 --> ApiController initialized
DEBUG - 2026-02-02 07:29:20 --> ApiController initialized
DEBUG - 2026-02-02 07:29:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:49 --> ApiController initialized
DEBUG - 2026-02-02 07:29:49 --> ApiController initialized
DEBUG - 2026-02-02 07:29:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:50 --> ApiController initialized
DEBUG - 2026-02-02 07:29:50 --> ApiController initialized
DEBUG - 2026-02-02 07:29:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:29:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:19 --> ApiController initialized
DEBUG - 2026-02-02 07:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:19 --> ApiController initialized
DEBUG - 2026-02-02 07:30:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:20 --> ApiController initialized
DEBUG - 2026-02-02 07:30:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:20 --> ApiController initialized
DEBUG - 2026-02-02 07:30:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:49 --> ApiController initialized
DEBUG - 2026-02-02 07:30:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:49 --> ApiController initialized
DEBUG - 2026-02-02 07:30:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:50 --> ApiController initialized
DEBUG - 2026-02-02 07:30:50 --> ApiController initialized
DEBUG - 2026-02-02 07:30:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:30:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:19 --> ApiController initialized
DEBUG - 2026-02-02 07:31:19 --> ApiController initialized
DEBUG - 2026-02-02 07:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:20 --> ApiController initialized
DEBUG - 2026-02-02 07:31:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:20 --> ApiController initialized
DEBUG - 2026-02-02 07:31:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:49 --> ApiController initialized
DEBUG - 2026-02-02 07:31:49 --> ApiController initialized
DEBUG - 2026-02-02 07:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:50 --> ApiController initialized
DEBUG - 2026-02-02 07:31:50 --> ApiController initialized
DEBUG - 2026-02-02 07:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:19 --> ApiController initialized
DEBUG - 2026-02-02 07:32:19 --> ApiController initialized
DEBUG - 2026-02-02 07:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:20 --> ApiController initialized
DEBUG - 2026-02-02 07:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:20 --> ApiController initialized
DEBUG - 2026-02-02 07:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:49 --> ApiController initialized
DEBUG - 2026-02-02 07:32:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:49 --> ApiController initialized
DEBUG - 2026-02-02 07:32:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:50 --> ApiController initialized
DEBUG - 2026-02-02 07:32:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:32:50 --> ApiController initialized
DEBUG - 2026-02-02 07:32:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:19 --> ApiController initialized
DEBUG - 2026-02-02 07:33:19 --> ApiController initialized
DEBUG - 2026-02-02 07:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:20 --> ApiController initialized
DEBUG - 2026-02-02 07:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:20 --> ApiController initialized
DEBUG - 2026-02-02 07:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:49 --> ApiController initialized
DEBUG - 2026-02-02 07:33:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:49 --> ApiController initialized
DEBUG - 2026-02-02 07:33:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:50 --> ApiController initialized
DEBUG - 2026-02-02 07:33:50 --> ApiController initialized
DEBUG - 2026-02-02 07:33:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:33:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:19 --> ApiController initialized
DEBUG - 2026-02-02 07:34:19 --> ApiController initialized
DEBUG - 2026-02-02 07:34:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:20 --> ApiController initialized
DEBUG - 2026-02-02 07:34:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:20 --> ApiController initialized
DEBUG - 2026-02-02 07:34:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:49 --> ApiController initialized
DEBUG - 2026-02-02 07:34:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:49 --> ApiController initialized
DEBUG - 2026-02-02 07:34:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:50 --> ApiController initialized
DEBUG - 2026-02-02 07:34:50 --> ApiController initialized
DEBUG - 2026-02-02 07:34:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:34:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:19 --> ApiController initialized
DEBUG - 2026-02-02 07:35:19 --> ApiController initialized
DEBUG - 2026-02-02 07:35:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:20 --> ApiController initialized
DEBUG - 2026-02-02 07:35:20 --> ApiController initialized
DEBUG - 2026-02-02 07:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:49 --> ApiController initialized
DEBUG - 2026-02-02 07:35:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:49 --> ApiController initialized
DEBUG - 2026-02-02 07:35:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:50 --> ApiController initialized
DEBUG - 2026-02-02 07:35:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:35:50 --> ApiController initialized
DEBUG - 2026-02-02 07:35:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:19 --> ApiController initialized
DEBUG - 2026-02-02 07:36:19 --> ApiController initialized
DEBUG - 2026-02-02 07:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:20 --> ApiController initialized
DEBUG - 2026-02-02 07:36:20 --> ApiController initialized
DEBUG - 2026-02-02 07:36:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:49 --> ApiController initialized
DEBUG - 2026-02-02 07:36:49 --> ApiController initialized
DEBUG - 2026-02-02 07:36:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:50 --> ApiController initialized
DEBUG - 2026-02-02 07:36:50 --> ApiController initialized
DEBUG - 2026-02-02 07:36:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:36:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:19 --> ApiController initialized
DEBUG - 2026-02-02 07:37:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:19 --> ApiController initialized
DEBUG - 2026-02-02 07:37:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:20 --> ApiController initialized
DEBUG - 2026-02-02 07:37:20 --> ApiController initialized
DEBUG - 2026-02-02 07:37:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:49 --> ApiController initialized
DEBUG - 2026-02-02 07:37:49 --> ApiController initialized
DEBUG - 2026-02-02 07:37:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:50 --> ApiController initialized
DEBUG - 2026-02-02 07:37:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:37:50 --> ApiController initialized
DEBUG - 2026-02-02 07:37:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:19 --> ApiController initialized
DEBUG - 2026-02-02 07:38:19 --> ApiController initialized
DEBUG - 2026-02-02 07:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:20 --> ApiController initialized
DEBUG - 2026-02-02 07:38:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:20 --> ApiController initialized
DEBUG - 2026-02-02 07:38:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:49 --> ApiController initialized
DEBUG - 2026-02-02 07:38:49 --> ApiController initialized
DEBUG - 2026-02-02 07:38:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:50 --> ApiController initialized
DEBUG - 2026-02-02 07:38:50 --> ApiController initialized
DEBUG - 2026-02-02 07:38:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:38:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:19 --> ApiController initialized
DEBUG - 2026-02-02 07:39:19 --> ApiController initialized
DEBUG - 2026-02-02 07:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:20 --> ApiController initialized
DEBUG - 2026-02-02 07:39:20 --> ApiController initialized
DEBUG - 2026-02-02 07:39:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:45 --> ApiController initialized
DEBUG - 2026-02-02 07:39:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:49 --> ApiController initialized
DEBUG - 2026-02-02 07:39:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:49 --> ApiController initialized
DEBUG - 2026-02-02 07:39:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:50 --> ApiController initialized
DEBUG - 2026-02-02 07:39:50 --> ApiController initialized
DEBUG - 2026-02-02 07:39:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:39:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:19 --> ApiController initialized
DEBUG - 2026-02-02 07:40:19 --> ApiController initialized
DEBUG - 2026-02-02 07:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:20 --> ApiController initialized
DEBUG - 2026-02-02 07:40:20 --> ApiController initialized
DEBUG - 2026-02-02 07:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:49 --> ApiController initialized
DEBUG - 2026-02-02 07:40:49 --> ApiController initialized
DEBUG - 2026-02-02 07:40:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:50 --> ApiController initialized
DEBUG - 2026-02-02 07:40:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:40:50 --> ApiController initialized
DEBUG - 2026-02-02 07:40:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:19 --> ApiController initialized
DEBUG - 2026-02-02 07:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:19 --> ApiController initialized
DEBUG - 2026-02-02 07:41:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:20 --> ApiController initialized
DEBUG - 2026-02-02 07:41:20 --> ApiController initialized
DEBUG - 2026-02-02 07:41:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:49 --> ApiController initialized
DEBUG - 2026-02-02 07:41:49 --> ApiController initialized
DEBUG - 2026-02-02 07:41:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:50 --> ApiController initialized
DEBUG - 2026-02-02 07:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:41:50 --> ApiController initialized
DEBUG - 2026-02-02 07:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:42:19 --> ApiController initialized
DEBUG - 2026-02-02 07:42:19 --> ApiController initialized
DEBUG - 2026-02-02 07:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:42:20 --> ApiController initialized
DEBUG - 2026-02-02 07:42:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:42:20 --> ApiController initialized
DEBUG - 2026-02-02 07:42:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:42:49 --> ApiController initialized
DEBUG - 2026-02-02 07:42:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:42:49 --> ApiController initialized
DEBUG - 2026-02-02 07:42:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:43:19 --> ApiController initialized
DEBUG - 2026-02-02 07:43:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:43:19 --> ApiController initialized
DEBUG - 2026-02-02 07:43:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:43:50 --> ApiController initialized
DEBUG - 2026-02-02 07:43:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:43:50 --> ApiController initialized
DEBUG - 2026-02-02 07:43:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:44:19 --> ApiController initialized
DEBUG - 2026-02-02 07:44:19 --> ApiController initialized
DEBUG - 2026-02-02 07:44:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:44:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:44:50 --> ApiController initialized
DEBUG - 2026-02-02 07:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:44:50 --> ApiController initialized
DEBUG - 2026-02-02 07:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:45:19 --> ApiController initialized
DEBUG - 2026-02-02 07:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:45:19 --> ApiController initialized
DEBUG - 2026-02-02 07:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:45:50 --> ApiController initialized
DEBUG - 2026-02-02 07:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:45:50 --> ApiController initialized
DEBUG - 2026-02-02 07:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:46:20 --> ApiController initialized
DEBUG - 2026-02-02 07:46:20 --> ApiController initialized
DEBUG - 2026-02-02 07:46:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:46:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:46:50 --> ApiController initialized
DEBUG - 2026-02-02 07:46:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:46:50 --> ApiController initialized
DEBUG - 2026-02-02 07:46:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:47:20 --> ApiController initialized
DEBUG - 2026-02-02 07:47:20 --> ApiController initialized
DEBUG - 2026-02-02 07:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:47:50 --> ApiController initialized
DEBUG - 2026-02-02 07:47:50 --> ApiController initialized
DEBUG - 2026-02-02 07:47:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:47:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:48:20 --> ApiController initialized
DEBUG - 2026-02-02 07:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:48:20 --> ApiController initialized
DEBUG - 2026-02-02 07:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:48:50 --> ApiController initialized
DEBUG - 2026-02-02 07:48:50 --> ApiController initialized
DEBUG - 2026-02-02 07:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:49:20 --> ApiController initialized
DEBUG - 2026-02-02 07:49:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:49:20 --> ApiController initialized
DEBUG - 2026-02-02 07:49:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:49:50 --> ApiController initialized
DEBUG - 2026-02-02 07:49:50 --> ApiController initialized
DEBUG - 2026-02-02 07:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:50:20 --> ApiController initialized
DEBUG - 2026-02-02 07:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:50:20 --> ApiController initialized
DEBUG - 2026-02-02 07:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:50:49 --> ApiController initialized
DEBUG - 2026-02-02 07:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:50:49 --> ApiController initialized
DEBUG - 2026-02-02 07:50:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:51:19 --> ApiController initialized
DEBUG - 2026-02-02 07:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:51:19 --> ApiController initialized
DEBUG - 2026-02-02 07:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:51:51 --> ApiController initialized
DEBUG - 2026-02-02 07:51:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:51:51 --> ApiController initialized
DEBUG - 2026-02-02 07:51:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:52:29 --> ApiController initialized
DEBUG - 2026-02-02 07:52:30 --> ApiController initialized
DEBUG - 2026-02-02 07:52:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:52:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:52:59 --> ApiController initialized
DEBUG - 2026-02-02 07:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:52:59 --> ApiController initialized
DEBUG - 2026-02-02 07:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:53:20 --> ApiController initialized
DEBUG - 2026-02-02 07:53:20 --> ApiController initialized
DEBUG - 2026-02-02 07:53:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:53:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:53:53 --> ApiController initialized
DEBUG - 2026-02-02 07:53:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:53:53 --> ApiController initialized
DEBUG - 2026-02-02 07:53:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:54:20 --> ApiController initialized
DEBUG - 2026-02-02 07:54:20 --> ApiController initialized
DEBUG - 2026-02-02 07:54:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:54:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:54:50 --> ApiController initialized
DEBUG - 2026-02-02 07:54:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:54:50 --> ApiController initialized
DEBUG - 2026-02-02 07:54:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:55:20 --> ApiController initialized
DEBUG - 2026-02-02 07:55:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:55:20 --> ApiController initialized
DEBUG - 2026-02-02 07:55:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:55:50 --> ApiController initialized
DEBUG - 2026-02-02 07:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:55:50 --> ApiController initialized
DEBUG - 2026-02-02 07:55:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:56:20 --> ApiController initialized
DEBUG - 2026-02-02 07:56:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:56:20 --> ApiController initialized
DEBUG - 2026-02-02 07:56:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:56:50 --> ApiController initialized
DEBUG - 2026-02-02 07:56:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:56:50 --> ApiController initialized
DEBUG - 2026-02-02 07:56:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:57:20 --> ApiController initialized
DEBUG - 2026-02-02 07:57:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:57:20 --> ApiController initialized
DEBUG - 2026-02-02 07:57:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:57:50 --> ApiController initialized
DEBUG - 2026-02-02 07:57:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:57:50 --> ApiController initialized
DEBUG - 2026-02-02 07:57:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:58:20 --> ApiController initialized
DEBUG - 2026-02-02 07:58:20 --> ApiController initialized
DEBUG - 2026-02-02 07:58:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:58:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:58:55 --> ApiController initialized
DEBUG - 2026-02-02 07:58:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:58:55 --> ApiController initialized
DEBUG - 2026-02-02 07:58:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:59:20 --> ApiController initialized
DEBUG - 2026-02-02 07:59:20 --> ApiController initialized
DEBUG - 2026-02-02 07:59:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:59:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:59:50 --> ApiController initialized
DEBUG - 2026-02-02 07:59:50 --> ApiController initialized
DEBUG - 2026-02-02 07:59:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 07:59:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:00:20 --> ApiController initialized
DEBUG - 2026-02-02 08:00:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:00:20 --> ApiController initialized
DEBUG - 2026-02-02 08:00:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:00:50 --> ApiController initialized
DEBUG - 2026-02-02 08:00:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:00:50 --> ApiController initialized
DEBUG - 2026-02-02 08:00:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:05 --> ApiController initialized
DEBUG - 2026-02-02 08:01:05 --> ApiController initialized
DEBUG - 2026-02-02 08:01:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:05 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Groups data: []
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 08:01:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:01:06 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 08:01:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 08:01:06"}}
ERROR - 2026-02-02 08:01:06 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:01:06 --> Found 15 direct messages
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Groups data: []
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:01:06 --> Updated is_read column for message 119
DEBUG - 2026-02-02 08:01:06 --> Updated existing message status for message 119
DEBUG - 2026-02-02 08:01:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:01:06"}}
ERROR - 2026-02-02 08:01:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:01:06 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> ApiController initialized
DEBUG - 2026-02-02 08:01:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:06 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:01:06 --> Updated is_read column for message 117
DEBUG - 2026-02-02 08:01:06 --> Updated existing message status for message 117
DEBUG - 2026-02-02 08:01:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:01:06"}}
ERROR - 2026-02-02 08:01:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:01:07 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 08:01:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:07 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:01:07 --> Updated is_read column for message 121
DEBUG - 2026-02-02 08:01:07 --> Updated existing message status for message 121
DEBUG - 2026-02-02 08:01:07 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:01:07"}}
ERROR - 2026-02-02 08:01:07 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:01:07 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 08:01:36 --> ApiController initialized
DEBUG - 2026-02-02 08:01:36 --> ApiController initialized
DEBUG - 2026-02-02 08:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:02:06 --> ApiController initialized
DEBUG - 2026-02-02 08:02:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:02:06 --> ApiController initialized
DEBUG - 2026-02-02 08:02:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:02:36 --> ApiController initialized
DEBUG - 2026-02-02 08:02:36 --> ApiController initialized
DEBUG - 2026-02-02 08:02:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:02:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:03:06 --> ApiController initialized
DEBUG - 2026-02-02 08:03:06 --> ApiController initialized
DEBUG - 2026-02-02 08:03:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:03:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:03:36 --> ApiController initialized
DEBUG - 2026-02-02 08:03:36 --> ApiController initialized
DEBUG - 2026-02-02 08:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:03:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:04:06 --> ApiController initialized
DEBUG - 2026-02-02 08:04:06 --> ApiController initialized
DEBUG - 2026-02-02 08:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:04:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:04:36 --> ApiController initialized
DEBUG - 2026-02-02 08:04:36 --> ApiController initialized
DEBUG - 2026-02-02 08:04:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:04:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:06 --> ApiController initialized
DEBUG - 2026-02-02 08:05:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:06 --> ApiController initialized
DEBUG - 2026-02-02 08:05:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:32 --> ApiController initialized
DEBUG - 2026-02-02 08:05:32 --> ApiController initialized
DEBUG - 2026-02-02 08:05:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:32 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> Groups data: []
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> Groups data: []
DEBUG - 2026-02-02 08:05:33 --> ApiController initialized
DEBUG - 2026-02-02 08:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:33 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 08:05:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:05:34 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 08:05:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 08:05:34"}}
DEBUG - 2026-02-02 08:05:34 --> ApiController initialized
ERROR - 2026-02-02 08:05:34 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:05:34 --> Found 15 direct messages
DEBUG - 2026-02-02 08:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:34 --> ApiController initialized
DEBUG - 2026-02-02 08:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:34 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:05:34 --> Updated is_read column for message 117
DEBUG - 2026-02-02 08:05:34 --> Updated existing message status for message 117
DEBUG - 2026-02-02 08:05:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:05:34"}}
ERROR - 2026-02-02 08:05:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:05:34 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 08:05:34 --> ApiController initialized
DEBUG - 2026-02-02 08:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:34 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:05:34 --> Updated is_read column for message 119
DEBUG - 2026-02-02 08:05:34 --> Updated existing message status for message 119
DEBUG - 2026-02-02 08:05:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:05:34"}}
ERROR - 2026-02-02 08:05:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:05:34 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 08:05:34 --> ApiController initialized
DEBUG - 2026-02-02 08:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:05:34 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:05:34 --> Updated is_read column for message 121
DEBUG - 2026-02-02 08:05:34 --> Updated existing message status for message 121
DEBUG - 2026-02-02 08:05:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:05:34"}}
ERROR - 2026-02-02 08:05:34 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:05:34 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 08:06:12 --> ApiController initialized
DEBUG - 2026-02-02 08:06:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:06:12 --> ApiController initialized
DEBUG - 2026-02-02 08:06:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:06:34 --> ApiController initialized
DEBUG - 2026-02-02 08:06:34 --> ApiController initialized
DEBUG - 2026-02-02 08:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:03 --> ApiController initialized
DEBUG - 2026-02-02 08:07:03 --> ApiController initialized
DEBUG - 2026-02-02 08:07:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:33 --> ApiController initialized
DEBUG - 2026-02-02 08:07:33 --> ApiController initialized
DEBUG - 2026-02-02 08:07:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:38 --> ApiController initialized
DEBUG - 2026-02-02 08:07:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:38 --> ApiController initialized
DEBUG - 2026-02-02 08:07:38 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Groups data: []
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Groups data: []
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Getting direct messages between user 1 and 4
DEBUG - 2026-02-02 08:07:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
OR    (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:07:39 --> Marked messages from user 4 to 1 as read
DEBUG - 2026-02-02 08:07:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"4","is_group":false,"timestamp":"2026-02-02 08:07:39"}}
ERROR - 2026-02-02 08:07:39 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:07:39 --> Found 15 direct messages
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Marking message 117 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Updated is_read column for message 117
DEBUG - 2026-02-02 08:07:39 --> Updated existing message status for message 117
DEBUG - 2026-02-02 08:07:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"117","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:07:39"}}
ERROR - 2026-02-02 08:07:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:07:39 --> Found 1 users who have seen message 117
DEBUG - 2026-02-02 08:07:39 --> ApiController initialized
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Marking message 119 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:07:39 --> Updated is_read column for message 119
DEBUG - 2026-02-02 08:07:39 --> Updated existing message status for message 119
DEBUG - 2026-02-02 08:07:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"119","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:07:39"}}
ERROR - 2026-02-02 08:07:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:07:39 --> Found 1 users who have seen message 119
DEBUG - 2026-02-02 08:07:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:39 --> Marking message 121 as seen by user 1 (is_group: false)
DEBUG - 2026-02-02 08:07:39 --> Updated is_read column for message 121
DEBUG - 2026-02-02 08:07:39 --> Updated existing message status for message 121
DEBUG - 2026-02-02 08:07:39 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"121","user_id":"1","other_user_id":4,"is_group":false,"username":"test","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:07:39"}}
ERROR - 2026-02-02 08:07:39 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:07:39 --> Found 1 users who have seen message 121
DEBUG - 2026-02-02 08:07:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> ApiController initialized
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> ApiController initialized
DEBUG - 2026-02-02 08:07:54 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:07:54 --> ApiController initialized
DEBUG - 2026-02-02 08:07:54 --> ApiController initialized
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> ApiController initialized
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:07:54 --> Groups data: []
DEBUG - 2026-02-02 08:07:54 --> ApiController initialized
DEBUG - 2026-02-02 08:07:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:02 --> ApiController initialized
DEBUG - 2026-02-02 08:08:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:02 --> Groups data: []
DEBUG - 2026-02-02 08:08:02 --> ApiController initialized
DEBUG - 2026-02-02 08:08:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:02 --> ApiController initialized
DEBUG - 2026-02-02 08:08:02 --> ApiController initialized
DEBUG - 2026-02-02 08:08:02 --> ApiController initialized
DEBUG - 2026-02-02 08:08:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:08:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:03 --> ApiController initialized
DEBUG - 2026-02-02 08:08:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:11 --> ApiController initialized
DEBUG - 2026-02-02 08:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:11 --> ApiController initialized
DEBUG - 2026-02-02 08:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:11 --> ApiController initialized
DEBUG - 2026-02-02 08:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:11 --> ApiController initialized
DEBUG - 2026-02-02 08:08:11 --> ApiController initialized
DEBUG - 2026-02-02 08:08:11 --> ApiController initialized
DEBUG - 2026-02-02 08:08:11 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 03:46:21","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 03:46:30","last_message":{"id":"105","sender_id":"1","receiver_id":"3","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 09:12:35","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"4","username":"test2","email":"test2@hrweb.com","password":"$2y$10$Vivr70pMTgareoA4PBt73eA89s.zexiwpelbuzgBYqMY2BwONS.7q","nickname":"Yuna Jimenez","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-02-02 03:54:12","created_at":"2026-01-31 03:54:21","updated_at":"2026-02-02 03:54:12","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","last_message":{"id":"122","sender_id":"1","receiver_id":"5","group_id":null,"content":"low men","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 15:14:04","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:11 --> Groups data: []
DEBUG - 2026-02-02 08:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:26 --> TSR Dashboard: User ID: 4, Role: tsr
DEBUG - 2026-02-02 08:08:26 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-02-02 08:08:26 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 1
DEBUG - 2026-02-02 08:08:26 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-02-02 08:08:26 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-02-02 08:08:26 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-02-02 08:08:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:32 --> ApiController initialized
DEBUG - 2026-02-02 08:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:32 --> ApiController initialized
DEBUG - 2026-02-02 08:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:32 --> ApiController initialized
DEBUG - 2026-02-02 08:08:32 --> Groups data: []
DEBUG - 2026-02-02 08:08:32 --> ApiController initialized
DEBUG - 2026-02-02 08:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:08:32 --> ApiController initialized
DEBUG - 2026-02-02 08:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:08:32 --> ApiController initialized
DEBUG - 2026-02-02 08:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:09:02 --> ApiController initialized
DEBUG - 2026-02-02 08:09:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:09:32 --> ApiController initialized
DEBUG - 2026-02-02 08:09:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:02 --> ApiController initialized
DEBUG - 2026-02-02 08:10:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:32 --> ApiController initialized
DEBUG - 2026-02-02 08:10:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:44 --> ApiController initialized
DEBUG - 2026-02-02 08:10:44 --> ApiController initialized
DEBUG - 2026-02-02 08:10:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:44 --> Groups data: []
DEBUG - 2026-02-02 08:10:44 --> ApiController initialized
DEBUG - 2026-02-02 08:10:45 --> ApiController initialized
DEBUG - 2026-02-02 08:10:45 --> ApiController initialized
DEBUG - 2026-02-02 08:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:45 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:10:45 --> ApiController initialized
DEBUG - 2026-02-02 08:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:14 --> ApiController initialized
DEBUG - 2026-02-02 08:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:14 --> ApiController initialized
DEBUG - 2026-02-02 08:11:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:11:14 --> ApiController initialized
DEBUG - 2026-02-02 08:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:14 --> ApiController initialized
DEBUG - 2026-02-02 08:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:14 --> Groups data: []
DEBUG - 2026-02-02 08:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:14 --> ApiController initialized
DEBUG - 2026-02-02 08:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:15 --> ApiController initialized
DEBUG - 2026-02-02 08:11:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:11:50 --> ApiController initialized
DEBUG - 2026-02-02 08:11:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:12:14 --> ApiController initialized
DEBUG - 2026-02-02 08:12:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:12:52 --> ApiController initialized
DEBUG - 2026-02-02 08:12:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:10 --> ApiController initialized
DEBUG - 2026-02-02 08:13:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:10 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:13:10 --> ApiController initialized
DEBUG - 2026-02-02 08:13:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:10 --> ApiController initialized
DEBUG - 2026-02-02 08:13:10 --> ApiController initialized
DEBUG - 2026-02-02 08:13:10 --> Groups data: []
DEBUG - 2026-02-02 08:13:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:10 --> ApiController initialized
DEBUG - 2026-02-02 08:13:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:12 --> ApiController initialized
DEBUG - 2026-02-02 08:13:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:27 --> ApiController initialized
DEBUG - 2026-02-02 08:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:27 --> ApiController initialized
DEBUG - 2026-02-02 08:13:27 --> ApiController initialized
DEBUG - 2026-02-02 08:13:27 --> ApiController initialized
DEBUG - 2026-02-02 08:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:27 --> ApiController initialized
DEBUG - 2026-02-02 08:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:27 --> Groups data: []
DEBUG - 2026-02-02 08:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:28 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:13:38 --> ApiController initialized
DEBUG - 2026-02-02 08:13:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:39 --> ApiController initialized
DEBUG - 2026-02-02 08:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:42 --> ApiController initialized
DEBUG - 2026-02-02 08:13:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:46 --> Groups data: []
DEBUG - 2026-02-02 08:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:46 --> ApiController initialized
DEBUG - 2026-02-02 08:13:47 --> ApiController initialized
DEBUG - 2026-02-02 08:13:47 --> ApiController initialized
DEBUG - 2026-02-02 08:13:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:48 --> ApiController initialized
DEBUG - 2026-02-02 08:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:48 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:13:48 --> ApiController initialized
DEBUG - 2026-02-02 08:13:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:13:49 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:13:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:13:49"}}
ERROR - 2026-02-02 08:13:49 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:13:49 --> Found 15 direct messages
DEBUG - 2026-02-02 08:13:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:49 --> Groups data: []
DEBUG - 2026-02-02 08:13:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:49 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:13:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:49 --> ApiController initialized
DEBUG - 2026-02-02 08:13:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:49 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:13:49 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:13:49 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:13:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:13:49"}}
ERROR - 2026-02-02 08:13:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:13:49 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:13:50 --> ApiController initialized
DEBUG - 2026-02-02 08:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:50 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:13:50 --> ApiController initialized
DEBUG - 2026-02-02 08:13:50 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:13:50 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:13:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:13:50"}}
ERROR - 2026-02-02 08:13:50 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:13:50 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:13:50 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:13:50 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:13:50 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:13:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:13:50"}}
ERROR - 2026-02-02 08:13:50 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:13:50 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:13:51 --> ApiController initialized
DEBUG - 2026-02-02 08:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:01 --> ApiController initialized
DEBUG - 2026-02-02 08:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:01 --> ApiController initialized
DEBUG - 2026-02-02 08:14:01 --> ApiController initialized
DEBUG - 2026-02-02 08:14:01 --> ApiController initialized
DEBUG - 2026-02-02 08:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:01 --> Groups data: []
DEBUG - 2026-02-02 08:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:14:01 --> ApiController initialized
DEBUG - 2026-02-02 08:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:02 --> ApiController initialized
DEBUG - 2026-02-02 08:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:02 --> ApiController initialized
DEBUG - 2026-02-02 08:14:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:14:02 --> ApiController initialized
DEBUG - 2026-02-02 08:14:02 --> ApiController initialized
DEBUG - 2026-02-02 08:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:02 --> Groups data: []
DEBUG - 2026-02-02 08:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:02 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:14:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:14:02 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:14:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:14:02"}}
ERROR - 2026-02-02 08:14:02 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:02 --> Found 15 direct messages
DEBUG - 2026-02-02 08:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:02 --> ApiController initialized
DEBUG - 2026-02-02 08:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:02 --> ApiController initialized
DEBUG - 2026-02-02 08:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:03 --> ApiController initialized
DEBUG - 2026-02-02 08:14:03 --> ApiController initialized
DEBUG - 2026-02-02 08:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:03 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:14:03 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:14:03 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:14:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:14:03"}}
ERROR - 2026-02-02 08:14:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:03 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:03 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:14:03 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:14:03 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:14:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:14:03"}}
ERROR - 2026-02-02 08:14:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:03 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:14:03 --> ApiController initialized
DEBUG - 2026-02-02 08:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:03 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:14:03 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:14:03 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:14:03 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:14:03"}}
ERROR - 2026-02-02 08:14:03 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:03 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:14:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> ApiController initialized
DEBUG - 2026-02-02 08:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> ApiController initialized
DEBUG - 2026-02-02 08:14:30 --> ApiController initialized
DEBUG - 2026-02-02 08:14:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:14:30 --> ApiController initialized
DEBUG - 2026-02-02 08:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> ApiController initialized
DEBUG - 2026-02-02 08:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> Groups data: []
DEBUG - 2026-02-02 08:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> ApiController initialized
DEBUG - 2026-02-02 08:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:14:31 --> ApiController initialized
DEBUG - 2026-02-02 08:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:31 --> ApiController initialized
DEBUG - 2026-02-02 08:14:31 --> ApiController initialized
DEBUG - 2026-02-02 08:14:31 --> ApiController initialized
DEBUG - 2026-02-02 08:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:31 --> Groups data: []
DEBUG - 2026-02-02 08:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:31 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:14:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:14:31 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:14:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:14:31"}}
ERROR - 2026-02-02 08:14:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:31 --> Found 15 direct messages
DEBUG - 2026-02-02 08:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:32 --> ApiController initialized
DEBUG - 2026-02-02 08:14:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:32 --> ApiController initialized
DEBUG - 2026-02-02 08:14:32 --> ApiController initialized
DEBUG - 2026-02-02 08:14:32 --> ApiController initialized
DEBUG - 2026-02-02 08:14:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:32 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:14:32 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:14:32 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:14:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:14:32"}}
ERROR - 2026-02-02 08:14:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:32 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:14:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:32 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:14:32 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:14:32 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:14:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:14:32"}}
ERROR - 2026-02-02 08:14:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:32 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:14:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:14:32 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:14:32 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:14:32 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:14:32 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:14:32"}}
ERROR - 2026-02-02 08:14:32 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:14:32 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:15:04 --> ApiController initialized
DEBUG - 2026-02-02 08:15:04 --> ApiController initialized
DEBUG - 2026-02-02 08:15:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:23 --> ApiController initialized
DEBUG - 2026-02-02 08:15:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:23 --> ApiController initialized
DEBUG - 2026-02-02 08:15:23 --> ApiController initialized
DEBUG - 2026-02-02 08:15:23 --> ApiController initialized
DEBUG - 2026-02-02 08:15:23 --> ApiController initialized
DEBUG - 2026-02-02 08:15:24 --> ApiController initialized
DEBUG - 2026-02-02 08:15:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:24 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:15:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:24 --> ApiController initialized
DEBUG - 2026-02-02 08:15:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:24 --> Groups data: []
DEBUG - 2026-02-02 08:15:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:24 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:15:25 --> ApiController initialized
DEBUG - 2026-02-02 08:15:25 --> ApiController initialized
DEBUG - 2026-02-02 08:15:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:25 --> ApiController initialized
DEBUG - 2026-02-02 08:15:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:25 --> ApiController initialized
DEBUG - 2026-02-02 08:15:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:25 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:15:25 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:15:25 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:15:25 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:15:25"}}
ERROR - 2026-02-02 08:15:25 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:15:25 --> Found 15 direct messages
DEBUG - 2026-02-02 08:15:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:25 --> Groups data: []
DEBUG - 2026-02-02 08:15:26 --> ApiController initialized
DEBUG - 2026-02-02 08:15:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:26 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:15:26 --> ApiController initialized
DEBUG - 2026-02-02 08:15:26 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:15:26 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:15:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:15:26"}}
ERROR - 2026-02-02 08:15:26 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:15:26 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:15:26 --> ApiController initialized
DEBUG - 2026-02-02 08:15:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:26 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:15:26 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:15:26 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:15:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:15:26"}}
ERROR - 2026-02-02 08:15:26 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:15:26 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:15:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:26 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:15:26 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:15:26 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:15:26 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:15:26"}}
ERROR - 2026-02-02 08:15:26 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:15:26 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:15:56 --> ApiController initialized
DEBUG - 2026-02-02 08:15:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:15:56 --> ApiController initialized
DEBUG - 2026-02-02 08:15:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:24 --> ApiController initialized
DEBUG - 2026-02-02 08:16:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:24 --> ApiController initialized
DEBUG - 2026-02-02 08:16:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:28 --> ApiController initialized
DEBUG - 2026-02-02 08:16:28 --> Groups data: []
DEBUG - 2026-02-02 08:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:29 --> ApiController initialized
DEBUG - 2026-02-02 08:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:29 --> ApiController initialized
DEBUG - 2026-02-02 08:16:29 --> ApiController initialized
DEBUG - 2026-02-02 08:16:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:29 --> Groups data: []
DEBUG - 2026-02-02 08:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:29 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:16:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:16:29 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:16:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:16:29"}}
ERROR - 2026-02-02 08:16:29 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:16:29 --> Found 15 direct messages
DEBUG - 2026-02-02 08:16:29 --> ApiController initialized
DEBUG - 2026-02-02 08:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:30 --> ApiController initialized
DEBUG - 2026-02-02 08:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:30 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:16:30 --> ApiController initialized
DEBUG - 2026-02-02 08:16:30 --> ApiController initialized
DEBUG - 2026-02-02 08:16:30 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:16:30 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:16:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:16:30"}}
ERROR - 2026-02-02 08:16:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:16:30 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:30 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:16:30 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:16:30 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:16:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:16:30"}}
ERROR - 2026-02-02 08:16:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:16:30 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:16:30 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:16:30 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:16:30 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:16:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:16:30"}}
ERROR - 2026-02-02 08:16:30 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:16:30 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:17:00 --> ApiController initialized
DEBUG - 2026-02-02 08:17:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:00 --> ApiController initialized
DEBUG - 2026-02-02 08:17:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:28 --> ApiController initialized
DEBUG - 2026-02-02 08:17:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:28 --> ApiController initialized
DEBUG - 2026-02-02 08:17:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:33 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> Groups data: []
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> Groups data: []
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> ApiController initialized
DEBUG - 2026-02-02 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:17:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:17:35 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:17:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:17:35"}}
ERROR - 2026-02-02 08:17:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:17:35 --> Found 15 direct messages
DEBUG - 2026-02-02 08:17:35 --> ApiController initialized
DEBUG - 2026-02-02 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> ApiController initialized
DEBUG - 2026-02-02 08:17:35 --> ApiController initialized
DEBUG - 2026-02-02 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:17:35 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:17:35 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:17:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:17:35"}}
ERROR - 2026-02-02 08:17:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:17:35 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:17:35 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:17:35 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:17:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:17:35"}}
ERROR - 2026-02-02 08:17:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:17:35 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:17:35 --> ApiController initialized
DEBUG - 2026-02-02 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:17:35 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:17:35 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:17:35 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:17:35 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:17:35"}}
ERROR - 2026-02-02 08:17:35 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:17:35 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:18:04 --> ApiController initialized
DEBUG - 2026-02-02 08:18:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:18:04 --> ApiController initialized
DEBUG - 2026-02-02 08:18:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:18:34 --> ApiController initialized
DEBUG - 2026-02-02 08:18:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:18:34 --> ApiController initialized
DEBUG - 2026-02-02 08:18:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:04 --> ApiController initialized
DEBUG - 2026-02-02 08:19:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:04 --> ApiController initialized
DEBUG - 2026-02-02 08:19:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:18 --> ApiController initialized
DEBUG - 2026-02-02 08:19:18 --> ApiController initialized
DEBUG - 2026-02-02 08:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:18 --> ApiController initialized
DEBUG - 2026-02-02 08:19:18 --> Groups data: []
DEBUG - 2026-02-02 08:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:18 --> ApiController initialized
DEBUG - 2026-02-02 08:19:18 --> ApiController initialized
DEBUG - 2026-02-02 08:19:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:19 --> ApiController initialized
DEBUG - 2026-02-02 08:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:19 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:19:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:19:19 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:19:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:19:19"}}
ERROR - 2026-02-02 08:19:19 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:19:19 --> Found 15 direct messages
DEBUG - 2026-02-02 08:19:19 --> ApiController initialized
DEBUG - 2026-02-02 08:19:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:19 --> Groups data: []
DEBUG - 2026-02-02 08:19:19 --> ApiController initialized
DEBUG - 2026-02-02 08:19:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:20 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:19:20 --> ApiController initialized
DEBUG - 2026-02-02 08:19:20 --> ApiController initialized
DEBUG - 2026-02-02 08:19:20 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:19:20 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:19:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:19:20"}}
ERROR - 2026-02-02 08:19:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:19:20 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:19:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:20 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:19:20 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:19:20 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:19:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:19:20"}}
ERROR - 2026-02-02 08:19:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:19:20 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:19:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:20 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:19:20 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:19:20 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:19:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:19:20"}}
ERROR - 2026-02-02 08:19:20 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:19:20 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:19:48 --> ApiController initialized
DEBUG - 2026-02-02 08:19:48 --> ApiController initialized
DEBUG - 2026-02-02 08:19:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:19:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:18 --> ApiController initialized
DEBUG - 2026-02-02 08:20:18 --> ApiController initialized
DEBUG - 2026-02-02 08:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:46 --> ApiController initialized
DEBUG - 2026-02-02 08:20:46 --> ApiController initialized
DEBUG - 2026-02-02 08:20:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:46 --> ApiController initialized
DEBUG - 2026-02-02 08:20:46 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> Groups data: []
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> ApiController initialized
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> Groups data: []
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:47 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:20:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:20:47 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:20:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:20:47"}}
ERROR - 2026-02-02 08:20:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:20:48 --> Found 15 direct messages
DEBUG - 2026-02-02 08:20:48 --> ApiController initialized
DEBUG - 2026-02-02 08:20:48 --> ApiController initialized
DEBUG - 2026-02-02 08:20:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:48 --> ApiController initialized
DEBUG - 2026-02-02 08:20:49 --> ApiController initialized
DEBUG - 2026-02-02 08:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:49 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:20:49 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:20:49 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:20:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:20:49"}}
ERROR - 2026-02-02 08:20:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:20:49 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:49 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:20:49 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:20:49 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:20:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:20:49"}}
ERROR - 2026-02-02 08:20:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:20:49 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:20:49 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:20:49 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:20:49 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:20:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:20:49"}}
ERROR - 2026-02-02 08:20:49 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:20:49 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:21:16 --> ApiController initialized
DEBUG - 2026-02-02 08:21:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:21:16 --> ApiController initialized
DEBUG - 2026-02-02 08:21:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:21:46 --> ApiController initialized
DEBUG - 2026-02-02 08:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:21:46 --> ApiController initialized
DEBUG - 2026-02-02 08:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:22:16 --> ApiController initialized
DEBUG - 2026-02-02 08:22:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:22:16 --> ApiController initialized
DEBUG - 2026-02-02 08:22:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:22:46 --> ApiController initialized
DEBUG - 2026-02-02 08:22:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:22:46 --> ApiController initialized
DEBUG - 2026-02-02 08:22:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:23:16 --> ApiController initialized
DEBUG - 2026-02-02 08:23:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:23:16 --> ApiController initialized
DEBUG - 2026-02-02 08:23:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:23:46 --> ApiController initialized
DEBUG - 2026-02-02 08:23:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:23:46 --> ApiController initialized
DEBUG - 2026-02-02 08:23:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Groups data: []
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> ApiController initialized
DEBUG - 2026-02-02 08:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:10 --> Groups data: []
DEBUG - 2026-02-02 08:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:24:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:24:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:24:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:24:10"}}
ERROR - 2026-02-02 08:24:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:10 --> Found 15 direct messages
DEBUG - 2026-02-02 08:24:10 --> ApiController initialized
DEBUG - 2026-02-02 08:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:10 --> ApiController initialized
DEBUG - 2026-02-02 08:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:10 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:24:10 --> ApiController initialized
DEBUG - 2026-02-02 08:24:10 --> ApiController initialized
DEBUG - 2026-02-02 08:24:10 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:24:10 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:24:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:24:10"}}
ERROR - 2026-02-02 08:24:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:10 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:10 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:24:10 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:24:10 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:24:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:24:10"}}
ERROR - 2026-02-02 08:24:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:10 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:24:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:10 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:24:10 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:24:10 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:24:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:24:10"}}
ERROR - 2026-02-02 08:24:10 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:10 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:24:40 --> ApiController initialized
DEBUG - 2026-02-02 08:24:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:40 --> ApiController initialized
DEBUG - 2026-02-02 08:24:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> Groups data: []
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:24:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:24:56 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:24:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:24:56"}}
ERROR - 2026-02-02 08:24:56 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:56 --> Found 15 direct messages
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Groups data: []
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> ApiController initialized
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:24:56 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:24:56 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:24:56"}}
ERROR - 2026-02-02 08:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:56 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:24:56 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:24:56 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:24:56"}}
ERROR - 2026-02-02 08:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:56 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:24:56 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:24:56 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:24:56 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:24:56 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:24:56"}}
ERROR - 2026-02-02 08:24:56 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:24:57 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:05 --> ApiController initialized
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:05 --> Groups data: []
DEBUG - 2026-02-02 08:25:05 --> ApiController initialized
DEBUG - 2026-02-02 08:25:05 --> ApiController initialized
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:05 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:25:05 --> ApiController initialized
DEBUG - 2026-02-02 08:25:05 --> ApiController initialized
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:05 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:25:05 --> ApiController initialized
DEBUG - 2026-02-02 08:25:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:25:05 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:25:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:25:05"}}
ERROR - 2026-02-02 08:25:05 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:05 --> Found 15 direct messages
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:06 --> ApiController initialized
DEBUG - 2026-02-02 08:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:06 --> Groups data: []
DEBUG - 2026-02-02 08:25:06 --> ApiController initialized
DEBUG - 2026-02-02 08:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:06 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:25:06 --> ApiController initialized
DEBUG - 2026-02-02 08:25:06 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:25:06 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:25:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:25:06"}}
ERROR - 2026-02-02 08:25:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:06 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:25:06 --> ApiController initialized
DEBUG - 2026-02-02 08:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:06 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:25:06 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:25:06 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:25:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:25:06"}}
ERROR - 2026-02-02 08:25:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:06 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:06 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:25:06 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:25:06 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:25:06 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:25:06"}}
ERROR - 2026-02-02 08:25:06 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:06 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:25:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:09 --> ApiController initialized
DEBUG - 2026-02-02 08:25:09 --> ApiController initialized
DEBUG - 2026-02-02 08:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:09 --> ApiController initialized
DEBUG - 2026-02-02 08:25:09 --> ApiController initialized
DEBUG - 2026-02-02 08:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:09 --> ApiController initialized
DEBUG - 2026-02-02 08:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:25:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:09 --> ApiController initialized
DEBUG - 2026-02-02 08:25:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:10 --> Groups data: []
DEBUG - 2026-02-02 08:25:10 --> ApiController initialized
DEBUG - 2026-02-02 08:25:10 --> ApiController initialized
DEBUG - 2026-02-02 08:25:10 --> ApiController initialized
DEBUG - 2026-02-02 08:25:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:10 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-02-02 08:07:53","created_at":"2026-01-29 01:12:20","updated_at":"2026-02-02 08:08:13","last_message":{"id":"121","sender_id":"4","receiver_id":"1","group_id":null,"content":"ohhhh yess","type":"text","file_url":null,"is_group":"0","created_at":"2026-02-02 14:01:19","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false},{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"superadmin","last_active":"2026-02-02 08:08:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-02-02 08:08:22","unread_count":0,"online":false},{"id":"5","username":"test3","email":"test3@hrweb.com","password":"$2y$10$89IPB\/4wihH.xHIy0\/BM\/uYHTh5QQOukTsyeNs.RYAjLwxB59STrm","nickname":"Christian Gutierrez","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-02-02 03:46:05","created_at":"2026-01-31 03:55:42","updated_at":"2026-02-02 03:46:07","unread_count":0,"online":false}]
DEBUG - 2026-02-02 08:25:10 --> ApiController initialized
DEBUG - 2026-02-02 08:25:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:10 --> Getting direct messages between user 4 and 1
DEBUG - 2026-02-02 08:25:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '4'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '4'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-02-02 08:25:10 --> Marked messages from user 1 to 4 as read
DEBUG - 2026-02-02 08:25:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"4","chat_id":"1","is_group":false,"timestamp":"2026-02-02 08:25:10"}}
ERROR - 2026-02-02 08:25:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:10 --> Found 15 direct messages
DEBUG - 2026-02-02 08:25:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:10 --> Groups data: []
DEBUG - 2026-02-02 08:25:10 --> ApiController initialized
DEBUG - 2026-02-02 08:25:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:12 --> ApiController initialized
DEBUG - 2026-02-02 08:25:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:12 --> Marking message 116 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:25:12 --> Updated is_read column for message 116
DEBUG - 2026-02-02 08:25:12 --> Updated existing message status for message 116
DEBUG - 2026-02-02 08:25:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"116","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:25:12"}}
ERROR - 2026-02-02 08:25:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:12 --> Found 1 users who have seen message 116
DEBUG - 2026-02-02 08:25:12 --> ApiController initialized
DEBUG - 2026-02-02 08:25:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:12 --> Marking message 118 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:25:12 --> Updated is_read column for message 118
DEBUG - 2026-02-02 08:25:12 --> Updated existing message status for message 118
DEBUG - 2026-02-02 08:25:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"118","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:25:12"}}
ERROR - 2026-02-02 08:25:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:12 --> Found 1 users who have seen message 118
DEBUG - 2026-02-02 08:25:12 --> ApiController initialized
DEBUG - 2026-02-02 08:25:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:12 --> Marking message 120 as seen by user 4 (is_group: false)
DEBUG - 2026-02-02 08:25:12 --> Updated is_read column for message 120
DEBUG - 2026-02-02 08:25:12 --> Updated existing message status for message 120
DEBUG - 2026-02-02 08:25:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"120","user_id":"4","other_user_id":1,"is_group":false,"username":"test2","user_info":{"id":"4","username":"test2","nickname":"Yuna Jimenez","avatar":"default-avatar.png"},"timestamp":"2026-02-02 08:25:12"}}
ERROR - 2026-02-02 08:25:12 --> Failed to send message_seen event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-02-02 08:25:12 --> Found 1 users who have seen message 120
DEBUG - 2026-02-02 08:25:39 --> ApiController initialized
DEBUG - 2026-02-02 08:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:25:39 --> ApiController initialized
DEBUG - 2026-02-02 08:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:26:09 --> ApiController initialized
DEBUG - 2026-02-02 08:26:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-02-02 08:26:09 --> ApiController initialized
DEBUG - 2026-02-02 08:26:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
