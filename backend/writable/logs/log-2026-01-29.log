DEBUG - 2026-01-29 00:13:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:14:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:15:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:15:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> ApiController initialized
DEBUG - 2026-01-29 00:19:11 --> ApiController initialized
DEBUG - 2026-01-29 00:19:11 --> ApiController initialized
DEBUG - 2026-01-29 00:19:11 --> ApiController initialized
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> ApiController initialized
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> Users data: []
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> Groups data: []
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:11 --> ApiController initialized
DEBUG - 2026-01-29 00:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:19:41 --> ApiController initialized
DEBUG - 2026-01-29 00:19:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:11 --> ApiController initialized
DEBUG - 2026-01-29 00:20:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:31 --> ApiController initialized
DEBUG - 2026-01-29 00:20:31 --> ApiController initialized
DEBUG - 2026-01-29 00:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:31 --> ApiController initialized
DEBUG - 2026-01-29 00:20:31 --> Groups data: []
DEBUG - 2026-01-29 00:20:31 --> ApiController initialized
DEBUG - 2026-01-29 00:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:31 --> ApiController initialized
DEBUG - 2026-01-29 00:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:31 --> Users data: []
DEBUG - 2026-01-29 00:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:20:31 --> ApiController initialized
DEBUG - 2026-01-29 00:20:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:21:01 --> ApiController initialized
DEBUG - 2026-01-29 00:21:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:21:31 --> ApiController initialized
DEBUG - 2026-01-29 00:21:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:22:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:23:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:23:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:23:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:23:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:18 --> ApiController initialized
DEBUG - 2026-01-29 00:24:18 --> ApiController initialized
DEBUG - 2026-01-29 00:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:18 --> ApiController initialized
DEBUG - 2026-01-29 00:24:18 --> ApiController initialized
DEBUG - 2026-01-29 00:24:18 --> ApiController initialized
DEBUG - 2026-01-29 00:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:18 --> Groups data: []
DEBUG - 2026-01-29 00:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:18 --> Users data: []
DEBUG - 2026-01-29 00:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:18 --> ApiController initialized
DEBUG - 2026-01-29 00:24:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:24:48 --> ApiController initialized
DEBUG - 2026-01-29 00:24:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:25:18 --> ApiController initialized
DEBUG - 2026-01-29 00:25:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:25:48 --> ApiController initialized
DEBUG - 2026-01-29 00:25:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:26:18 --> ApiController initialized
DEBUG - 2026-01-29 00:26:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:26:48 --> ApiController initialized
DEBUG - 2026-01-29 00:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:18 --> ApiController initialized
DEBUG - 2026-01-29 00:27:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> ApiController initialized
DEBUG - 2026-01-29 00:27:27 --> ApiController initialized
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> Users data: []
DEBUG - 2026-01-29 00:27:27 --> ApiController initialized
DEBUG - 2026-01-29 00:27:27 --> ApiController initialized
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> ApiController initialized
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:27 --> Groups data: []
DEBUG - 2026-01-29 00:27:27 --> ApiController initialized
DEBUG - 2026-01-29 00:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:27:57 --> ApiController initialized
DEBUG - 2026-01-29 00:27:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:28:27 --> ApiController initialized
DEBUG - 2026-01-29 00:28:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:28:58 --> ApiController initialized
DEBUG - 2026-01-29 00:28:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:29:27 --> ApiController initialized
DEBUG - 2026-01-29 00:29:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:29:58 --> ApiController initialized
DEBUG - 2026-01-29 00:29:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:30:28 --> ApiController initialized
DEBUG - 2026-01-29 00:30:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:30:58 --> ApiController initialized
DEBUG - 2026-01-29 00:30:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:36 --> ApiController initialized
DEBUG - 2026-01-29 00:31:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:37 --> ApiController initialized
DEBUG - 2026-01-29 00:31:37 --> ApiController initialized
DEBUG - 2026-01-29 00:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:37 --> ApiController initialized
DEBUG - 2026-01-29 00:31:37 --> ApiController initialized
DEBUG - 2026-01-29 00:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:37 --> Users data: []
DEBUG - 2026-01-29 00:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:38 --> ApiController initialized
DEBUG - 2026-01-29 00:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:31:38 --> Groups data: []
DEBUG - 2026-01-29 00:31:38 --> ApiController initialized
DEBUG - 2026-01-29 00:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:08 --> ApiController initialized
DEBUG - 2026-01-29 00:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:28 --> ApiController initialized
DEBUG - 2026-01-29 00:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:28 --> ApiController initialized
DEBUG - 2026-01-29 00:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:28 --> ApiController initialized
DEBUG - 2026-01-29 00:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:28 --> ApiController initialized
DEBUG - 2026-01-29 00:32:28 --> ApiController initialized
DEBUG - 2026-01-29 00:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:28 --> Users data: []
DEBUG - 2026-01-29 00:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:28 --> Groups data: []
DEBUG - 2026-01-29 00:32:28 --> ApiController initialized
DEBUG - 2026-01-29 00:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:32:58 --> ApiController initialized
DEBUG - 2026-01-29 00:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:33:28 --> ApiController initialized
DEBUG - 2026-01-29 00:33:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:33:58 --> ApiController initialized
DEBUG - 2026-01-29 00:33:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:28 --> ApiController initialized
DEBUG - 2026-01-29 00:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:35 --> ApiController initialized
DEBUG - 2026-01-29 00:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:35 --> Groups data: []
DEBUG - 2026-01-29 00:34:35 --> ApiController initialized
DEBUG - 2026-01-29 00:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:35 --> ApiController initialized
DEBUG - 2026-01-29 00:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:35 --> Users data: []
DEBUG - 2026-01-29 00:34:35 --> ApiController initialized
DEBUG - 2026-01-29 00:34:35 --> ApiController initialized
DEBUG - 2026-01-29 00:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:34:35 --> ApiController initialized
DEBUG - 2026-01-29 00:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:05 --> ApiController initialized
DEBUG - 2026-01-29 00:35:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:35 --> ApiController initialized
DEBUG - 2026-01-29 00:35:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:52 --> ApiController initialized
DEBUG - 2026-01-29 00:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:52 --> Groups data: []
DEBUG - 2026-01-29 00:35:52 --> ApiController initialized
DEBUG - 2026-01-29 00:35:52 --> ApiController initialized
DEBUG - 2026-01-29 00:35:53 --> ApiController initialized
DEBUG - 2026-01-29 00:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:53 --> ApiController initialized
DEBUG - 2026-01-29 00:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:53 --> Users data: []
DEBUG - 2026-01-29 00:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:53 --> ApiController initialized
DEBUG - 2026-01-29 00:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> ApiController initialized
DEBUG - 2026-01-29 00:35:56 --> ApiController initialized
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> ApiController initialized
DEBUG - 2026-01-29 00:35:56 --> ApiController initialized
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> Groups data: []
DEBUG - 2026-01-29 00:35:56 --> ApiController initialized
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:56 --> Users data: []
DEBUG - 2026-01-29 00:35:56 --> ApiController initialized
DEBUG - 2026-01-29 00:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> ApiController initialized
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> Users data: []
DEBUG - 2026-01-29 00:35:57 --> ApiController initialized
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> ApiController initialized
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> ApiController initialized
DEBUG - 2026-01-29 00:35:57 --> ApiController initialized
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:35:57 --> Groups data: []
DEBUG - 2026-01-29 00:35:57 --> ApiController initialized
DEBUG - 2026-01-29 00:35:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:36:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:36:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:36:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:36:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:36:07 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:36:07 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:36:07 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:36:07 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:36:07 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:36:07 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:37:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:37:00 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:37:00 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:37:00 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:37:00 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:37:00 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:37:00 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:39:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:38 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:39:38 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:39:38 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:39:38 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:39:38 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:39:38 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:39:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:39:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:40:08 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:40:08 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:40:08 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:40:08 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:40:08 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:40:08 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:40:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:40:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:07 --> ApiController initialized
DEBUG - 2026-01-29 00:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:07 --> Groups data: []
DEBUG - 2026-01-29 00:42:07 --> ApiController initialized
DEBUG - 2026-01-29 00:42:07 --> ApiController initialized
DEBUG - 2026-01-29 00:42:07 --> ApiController initialized
DEBUG - 2026-01-29 00:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:07 --> ApiController initialized
DEBUG - 2026-01-29 00:42:07 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:40:08","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:42:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:08 --> ApiController initialized
DEBUG - 2026-01-29 00:42:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Groups data: []
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:40:08","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> Getting direct messages between user 23 and 22
DEBUG - 2026-01-29 00:42:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '23'
AND `messages`.`receiver_id` = '22'
  )
OR    (
`messages`.`sender_id` = '22'
AND `messages`.`receiver_id` = '23'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 00:42:13 --> Marked messages from user 22 to 23 as read
DEBUG - 2026-01-29 00:42:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"23","chat_id":"22","is_group":false,"timestamp":"2026-01-29 00:42:13"}}
DEBUG - 2026-01-29 00:42:13 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T00:42:13.677Z"}
DEBUG - 2026-01-29 00:42:13 --> Found 0 direct messages
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> Groups data: []
DEBUG - 2026-01-29 00:42:13 --> ApiController initialized
DEBUG - 2026-01-29 00:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:13 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:40:08","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:40:08","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Groups data: []
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Getting direct messages between user 23 and 22
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '23'
AND `messages`.`receiver_id` = '22'
  )
OR    (
`messages`.`sender_id` = '22'
AND `messages`.`receiver_id` = '23'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Marked messages from user 22 to 23 as read
DEBUG - 2026-01-29 00:42:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"23","chat_id":"22","is_group":false,"timestamp":"2026-01-29 00:42:23"}}
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T00:42:23.747Z"}
DEBUG - 2026-01-29 00:42:23 --> Found 0 direct messages
DEBUG - 2026-01-29 00:42:23 --> ApiController initialized
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:40:08","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:23 --> Groups data: []
DEBUG - 2026-01-29 00:42:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:52 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:42:52 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:42:52 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:42:52 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:42:52 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:42:52 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:42:53 --> ApiController initialized
DEBUG - 2026-01-29 00:42:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:55 --> ApiController initialized
DEBUG - 2026-01-29 00:42:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:55 --> Raw ticket creation input: {"subject":"test","description":"test","category":"billing","priority":"medium"}
DEBUG - 2026-01-29 00:42:55 --> Parsed ticket data: {"subject":"test","description":"test","category":"billing","priority":"medium"}
DEBUG - 2026-01-29 00:42:55 --> Inserting ticket data: {"subject":"test","description":"test","priority":"medium","category":"billing","status":"open","created_by":"23","is_deleted":0}
ERROR - 2026-01-29 00:42:55 --> Ticket creation failed: {"description":"Description must be at least 5 characters long"}
DEBUG - 2026-01-29 00:42:58 --> ApiController initialized
DEBUG - 2026-01-29 00:42:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:42:58 --> Raw ticket creation input: {"subject":"test","description":"test","category":"billing","priority":"medium"}
DEBUG - 2026-01-29 00:42:58 --> Parsed ticket data: {"subject":"test","description":"test","category":"billing","priority":"medium"}
DEBUG - 2026-01-29 00:42:58 --> Inserting ticket data: {"subject":"test","description":"test","priority":"medium","category":"billing","status":"open","created_by":"23","is_deleted":0}
ERROR - 2026-01-29 00:42:58 --> Ticket creation failed: {"description":"Description must be at least 5 characters long"}
DEBUG - 2026-01-29 00:43:14 --> ApiController initialized
DEBUG - 2026-01-29 00:43:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:14 --> Raw ticket creation input: {"subject":"test","description":"test","category":"billing","priority":"medium"}
DEBUG - 2026-01-29 00:43:14 --> Parsed ticket data: {"subject":"test","description":"test","category":"billing","priority":"medium"}
DEBUG - 2026-01-29 00:43:14 --> Inserting ticket data: {"subject":"test","description":"test","priority":"medium","category":"billing","status":"open","created_by":"23","is_deleted":0}
ERROR - 2026-01-29 00:43:14 --> Ticket creation failed: {"description":"Description must be at least 5 characters long"}
DEBUG - 2026-01-29 00:43:23 --> ApiController initialized
DEBUG - 2026-01-29 00:43:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> ApiController initialized
DEBUG - 2026-01-29 00:43:48 --> ApiController initialized
DEBUG - 2026-01-29 00:43:48 --> ApiController initialized
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> ApiController initialized
DEBUG - 2026-01-29 00:43:48 --> ApiController initialized
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> Groups data: []
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"offline","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:43:32","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:43:48 --> ApiController initialized
DEBUG - 2026-01-29 00:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:18 --> ApiController initialized
DEBUG - 2026-01-29 00:44:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:48 --> ApiController initialized
DEBUG - 2026-01-29 00:44:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:53 --> ApiController initialized
DEBUG - 2026-01-29 00:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:54 --> ApiController initialized
DEBUG - 2026-01-29 00:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:54 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"offline","role":"tsr","last_active":"2026-01-29 00:40:08","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:43:32","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:44:54 --> ApiController initialized
DEBUG - 2026-01-29 00:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:54 --> ApiController initialized
DEBUG - 2026-01-29 00:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:54 --> Groups data: []
DEBUG - 2026-01-29 00:44:54 --> ApiController initialized
DEBUG - 2026-01-29 00:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:44:54 --> ApiController initialized
DEBUG - 2026-01-29 00:44:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:12 --> ApiController initialized
DEBUG - 2026-01-29 00:45:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:13 --> Raw ticket creation input: {"subject":"test","description":"testtt","category":"technical","priority":"high"}
DEBUG - 2026-01-29 00:45:13 --> Parsed ticket data: {"subject":"test","description":"testtt","category":"technical","priority":"high"}
DEBUG - 2026-01-29 00:45:13 --> Inserting ticket data: {"subject":"test","description":"testtt","priority":"high","category":"technical","status":"open","created_by":"23","is_deleted":0}
DEBUG - 2026-01-29 00:45:13 --> Ticket created with ID: 18
DEBUG - 2026-01-29 00:45:13 --> Initial ticket message created
ERROR - 2026-01-29 00:45:13 --> Failed to send ticket created event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 00:45:13 --> Ticket creation successful
DEBUG - 2026-01-29 00:45:13 --> ApiController initialized
DEBUG - 2026-01-29 00:45:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:23 --> ApiController initialized
DEBUG - 2026-01-29 00:45:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:45 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:45:45 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:45:45 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:45:45 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 00:45:45 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:45:45 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:45:53 --> ApiController initialized
DEBUG - 2026-01-29 00:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:45:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:09 --> ApiController initialized
DEBUG - 2026-01-29 00:46:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:10 --> ApiController initialized
DEBUG - 2026-01-29 00:46:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:10 --> Groups data: []
DEBUG - 2026-01-29 00:46:10 --> ApiController initialized
DEBUG - 2026-01-29 00:46:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:10 --> ApiController initialized
DEBUG - 2026-01-29 00:46:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:10 --> ApiController initialized
DEBUG - 2026-01-29 00:46:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:10 --> ApiController initialized
DEBUG - 2026-01-29 00:46:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:10 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:46:10 --> ApiController initialized
DEBUG - 2026-01-29 00:46:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:23 --> ApiController initialized
DEBUG - 2026-01-29 00:46:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:40 --> ApiController initialized
DEBUG - 2026-01-29 00:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:46:53 --> ApiController initialized
DEBUG - 2026-01-29 00:46:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:10 --> ApiController initialized
DEBUG - 2026-01-29 00:47:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:23 --> ApiController initialized
DEBUG - 2026-01-29 00:47:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:40 --> ApiController initialized
DEBUG - 2026-01-29 00:47:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:42 --> ApiController initialized
DEBUG - 2026-01-29 00:47:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:42 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> Groups data: []
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> Getting direct messages between user 22 and 23
DEBUG - 2026-01-29 00:47:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '22'
AND `messages`.`receiver_id` = '23'
  )
OR    (
`messages`.`sender_id` = '23'
AND `messages`.`receiver_id` = '22'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 00:47:43 --> Marked messages from user 23 to 22 as read
DEBUG - 2026-01-29 00:47:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"22","chat_id":"23","is_group":false,"timestamp":"2026-01-29 00:47:43"}}
DEBUG - 2026-01-29 00:47:43 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T00:47:43.229Z"}
DEBUG - 2026-01-29 00:47:43 --> Found 0 direct messages
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> ApiController initialized
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:43 --> Groups data: []
DEBUG - 2026-01-29 00:47:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:45 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:47:45 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:47:45 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:47:45 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 00:47:45 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:47:45 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> Groups data: []
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:54 --> ApiController initialized
DEBUG - 2026-01-29 00:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:57 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:47:57 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:47:57 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:47:57 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 00:47:57 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 00:47:57 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:47:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:47:59 --> Socket event 'ticket_claimed' emitted successfully
ERROR - 2026-01-29 00:47:59 --> Socket emit error: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 00:48:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:10 --> ApiController initialized
DEBUG - 2026-01-29 00:48:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:10 --> ApiController initialized
DEBUG - 2026-01-29 00:48:10 --> ApiController initialized
DEBUG - 2026-01-29 00:48:10 --> ApiController initialized
DEBUG - 2026-01-29 00:48:10 --> Groups data: []
DEBUG - 2026-01-29 00:48:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> ApiController initialized
DEBUG - 2026-01-29 00:48:11 --> ApiController initialized
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> Getting direct messages between user 23 and 22
DEBUG - 2026-01-29 00:48:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '23'
AND `messages`.`receiver_id` = '22'
  )
OR    (
`messages`.`sender_id` = '22'
AND `messages`.`receiver_id` = '23'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 00:48:11 --> Marked messages from user 22 to 23 as read
DEBUG - 2026-01-29 00:48:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"23","chat_id":"22","is_group":false,"timestamp":"2026-01-29 00:48:11"}}
DEBUG - 2026-01-29 00:48:11 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T00:48:11.084Z"}
DEBUG - 2026-01-29 00:48:11 --> Found 0 direct messages
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:45:45","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:45:45","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> ApiController initialized
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> Groups data: []
DEBUG - 2026-01-29 00:48:11 --> ApiController initialized
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> ApiController initialized
DEBUG - 2026-01-29 00:48:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:11 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:45:45","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:45:45","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:48:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:17 --> ApiController initialized
DEBUG - 2026-01-29 00:48:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:17 --> [DEPRECATED] Implicit conversion from float 1769647697.675 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647697.675)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:17 --> ApiController initialized
DEBUG - 2026-01-29 00:48:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:20 --> ApiController initialized
DEBUG - 2026-01-29 00:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:20 --> [DEPRECATED] Implicit conversion from float 1769647697.675 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647697.675)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:22 --> ApiController initialized
DEBUG - 2026-01-29 00:48:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:23 --> ApiController initialized
DEBUG - 2026-01-29 00:48:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:23 --> [DEPRECATED] Implicit conversion from float 1769647697.675 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647697.675)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:25 --> ApiController initialized
DEBUG - 2026-01-29 00:48:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-01-29 00:48:25 --> Failed to send ticket message event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 00:48:26 --> ApiController initialized
DEBUG - 2026-01-29 00:48:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:26 --> [DEPRECATED] Implicit conversion from float 1769647705.218 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647705.218)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:27 --> ApiController initialized
DEBUG - 2026-01-29 00:48:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:29 --> ApiController initialized
DEBUG - 2026-01-29 00:48:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:29 --> [DEPRECATED] Implicit conversion from float 1769647705.218 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647705.218)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:32 --> ApiController initialized
DEBUG - 2026-01-29 00:48:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:32 --> ApiController initialized
DEBUG - 2026-01-29 00:48:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:32 --> [DEPRECATED] Implicit conversion from float 1769647705.218 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647705.218)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:35 --> ApiController initialized
DEBUG - 2026-01-29 00:48:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:35 --> [DEPRECATED] Implicit conversion from float 1769647705.218 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647705.218)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:37 --> ApiController initialized
DEBUG - 2026-01-29 00:48:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:38 --> ApiController initialized
DEBUG - 2026-01-29 00:48:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-01-29 00:48:38 --> Failed to send ticket message event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 00:48:38 --> ApiController initialized
DEBUG - 2026-01-29 00:48:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:38 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:41 --> ApiController initialized
DEBUG - 2026-01-29 00:48:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:41 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:42 --> ApiController initialized
DEBUG - 2026-01-29 00:48:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:44 --> ApiController initialized
DEBUG - 2026-01-29 00:48:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:44 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:47 --> ApiController initialized
DEBUG - 2026-01-29 00:48:47 --> ApiController initialized
DEBUG - 2026-01-29 00:48:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:47 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:50 --> ApiController initialized
DEBUG - 2026-01-29 00:48:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:50 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:52 --> ApiController initialized
DEBUG - 2026-01-29 00:48:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:53 --> ApiController initialized
DEBUG - 2026-01-29 00:48:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:53 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:56 --> ApiController initialized
DEBUG - 2026-01-29 00:48:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:56 --> [DEPRECATED] Implicit conversion from float 1769647718.553 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647718.553)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:48:57 --> ApiController initialized
DEBUG - 2026-01-29 00:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:48:59 --> ApiController initialized
DEBUG - 2026-01-29 00:48:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-01-29 00:48:59 --> Failed to send ticket message event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 00:48:59 --> ApiController initialized
DEBUG - 2026-01-29 00:48:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:48:59 --> [DEPRECATED] Implicit conversion from float 1769647739.197 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647739.197)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:02 --> ApiController initialized
DEBUG - 2026-01-29 00:49:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:02 --> [DEPRECATED] Implicit conversion from float 1769647739.197 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647739.197)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:02 --> ApiController initialized
DEBUG - 2026-01-29 00:49:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:05 --> ApiController initialized
DEBUG - 2026-01-29 00:49:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:05 --> [DEPRECATED] Implicit conversion from float 1769647739.197 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647739.197)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:07 --> ApiController initialized
DEBUG - 2026-01-29 00:49:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:08 --> ApiController initialized
DEBUG - 2026-01-29 00:49:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:08 --> [DEPRECATED] Implicit conversion from float 1769647739.197 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647739.197)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:11 --> ApiController initialized
DEBUG - 2026-01-29 00:49:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:11 --> [DEPRECATED] Implicit conversion from float 1769647739.197 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647739.197)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:12 --> ApiController initialized
DEBUG - 2026-01-29 00:49:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:14 --> ApiController initialized
DEBUG - 2026-01-29 00:49:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:14 --> [DEPRECATED] Implicit conversion from float 1769647739.197 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647739.197)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:17 --> ApiController initialized
DEBUG - 2026-01-29 00:49:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-01-29 00:49:17 --> Failed to send ticket message event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 00:49:17 --> ApiController initialized
DEBUG - 2026-01-29 00:49:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:17 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:18 --> ApiController initialized
DEBUG - 2026-01-29 00:49:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:20 --> ApiController initialized
DEBUG - 2026-01-29 00:49:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:20 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:22 --> ApiController initialized
DEBUG - 2026-01-29 00:49:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:23 --> ApiController initialized
DEBUG - 2026-01-29 00:49:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:23 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:26 --> ApiController initialized
DEBUG - 2026-01-29 00:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:26 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:28 --> ApiController initialized
DEBUG - 2026-01-29 00:49:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:29 --> ApiController initialized
DEBUG - 2026-01-29 00:49:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:29 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:33 --> ApiController initialized
DEBUG - 2026-01-29 00:49:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:33 --> ApiController initialized
WARNING - 2026-01-29 00:49:33 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:36 --> ApiController initialized
DEBUG - 2026-01-29 00:49:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:36 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:38 --> ApiController initialized
DEBUG - 2026-01-29 00:49:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:39 --> ApiController initialized
DEBUG - 2026-01-29 00:49:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:39 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:42 --> ApiController initialized
DEBUG - 2026-01-29 00:49:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:42 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:43 --> ApiController initialized
DEBUG - 2026-01-29 00:49:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:45 --> ApiController initialized
DEBUG - 2026-01-29 00:49:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:45 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:48 --> ApiController initialized
DEBUG - 2026-01-29 00:49:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:48 --> ApiController initialized
WARNING - 2026-01-29 00:49:48 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:51 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:49:51 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:49:51 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:49:51 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:49:51 --> TSR Dashboard: Found 1 assigned tickets
DEBUG - 2026-01-29 00:49:51 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:49:51 --> ApiController initialized
DEBUG - 2026-01-29 00:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:51 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:53 --> ApiController initialized
DEBUG - 2026-01-29 00:49:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:49:54 --> ApiController initialized
DEBUG - 2026-01-29 00:49:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:54 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:57 --> ApiController initialized
DEBUG - 2026-01-29 00:49:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:49:57 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:49:58 --> ApiController initialized
DEBUG - 2026-01-29 00:49:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:00 --> ApiController initialized
DEBUG - 2026-01-29 00:50:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:50:00 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:50:03 --> ApiController initialized
DEBUG - 2026-01-29 00:50:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:50:03 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:50:03 --> ApiController initialized
DEBUG - 2026-01-29 00:50:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:05 --> ApiController initialized
DEBUG - 2026-01-29 00:50:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:50:05 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:50:07 --> ApiController initialized
DEBUG - 2026-01-29 00:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:08 --> ApiController initialized
DEBUG - 2026-01-29 00:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:50:08 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:50:11 --> ApiController initialized
DEBUG - 2026-01-29 00:50:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 00:50:11 --> [DEPRECATED] Implicit conversion from float 1769647757.49 to int loses precision in APPPATH\Controllers\ApiController.php on line 2453.
 1 APPPATH\Controllers\ApiController.php(2453): date('Y-m-d H:i:s', 1769647757.49)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ApiController->getCustomerTicketMessages('18')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ApiController))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:12 --> ApiController initialized
DEBUG - 2026-01-29 00:50:12 --> ApiController initialized
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:12 --> ApiController initialized
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:12 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:45:45","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:45:45","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:50:12 --> ApiController initialized
DEBUG - 2026-01-29 00:50:12 --> ApiController initialized
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:12 --> Groups data: []
DEBUG - 2026-01-29 00:50:12 --> ApiController initialized
DEBUG - 2026-01-29 00:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:32 --> ApiController initialized
DEBUG - 2026-01-29 00:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:32 --> ApiController initialized
DEBUG - 2026-01-29 00:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:32 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:45:45","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:45:45","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:50:32 --> ApiController initialized
DEBUG - 2026-01-29 00:50:32 --> ApiController initialized
DEBUG - 2026-01-29 00:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:32 --> ApiController initialized
DEBUG - 2026-01-29 00:50:32 --> Groups data: []
DEBUG - 2026-01-29 00:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:32 --> ApiController initialized
DEBUG - 2026-01-29 00:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:33 --> Getting direct messages between user 23 and 22
DEBUG - 2026-01-29 00:50:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '23'
AND `messages`.`receiver_id` = '22'
  )
OR    (
`messages`.`sender_id` = '22'
AND `messages`.`receiver_id` = '23'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 00:50:33 --> ApiController initialized
DEBUG - 2026-01-29 00:50:33 --> Marked messages from user 22 to 23 as read
DEBUG - 2026-01-29 00:50:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"23","chat_id":"22","is_group":false,"timestamp":"2026-01-29 00:50:33"}}
DEBUG - 2026-01-29 00:50:33 --> ApiController initialized
DEBUG - 2026-01-29 00:50:33 --> ApiController initialized
DEBUG - 2026-01-29 00:50:33 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T00:50:33.253Z"}
DEBUG - 2026-01-29 00:50:33 --> Found 0 direct messages
DEBUG - 2026-01-29 00:50:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:33 --> Groups data: []
DEBUG - 2026-01-29 00:50:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:33 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:45:45","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:45:45","unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:50:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:35 --> ApiController initialized
DEBUG - 2026-01-29 00:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:35 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryw0nhTsKmopucSC2y
DEBUG - 2026-01-29 00:50:35 --> Processing form data
DEBUG - 2026-01-29 00:50:35 --> POST data: {"content":"test","is_group":"0","receiver_id":"22","type":"text"}
DEBUG - 2026-01-29 00:50:35 --> Processed message data: {"sender_id":"23","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"22","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 00:50:35 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 00:50:35 --> Inserting message data: {"sender_id":"23","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 08:50:35","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"22","group_id":null}
DEBUG - 2026-01-29 00:50:35 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 00:50:35 --> Message saved successfully with ID: 2694
DEBUG - 2026-01-29 00:50:35 --> Sending message to socket server: {"event":"new_message","data":{"id":2694,"sender_id":"23","receiver_id":"22","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 00:50:35","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 00:50:35 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T00:50:35.460Z"}
DEBUG - 2026-01-29 00:50:35 --> ApiController initialized
DEBUG - 2026-01-29 00:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:35 --> ApiController initialized
DEBUG - 2026-01-29 00:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:47 --> ApiController initialized
DEBUG - 2026-01-29 00:50:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:47 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryD4y8sNpWNR8GpzWx
DEBUG - 2026-01-29 00:50:47 --> Processing form data
DEBUG - 2026-01-29 00:50:47 --> POST data: {"content":"test","is_group":"0","receiver_id":"22","type":"text"}
DEBUG - 2026-01-29 00:50:47 --> Processed message data: {"sender_id":"23","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"22","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 00:50:47 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 00:50:47 --> Inserting message data: {"sender_id":"23","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 08:50:47","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"22","group_id":null}
DEBUG - 2026-01-29 00:50:47 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 00:50:47 --> Message saved successfully with ID: 2695
DEBUG - 2026-01-29 00:50:47 --> Sending message to socket server: {"event":"new_message","data":{"id":2695,"sender_id":"23","receiver_id":"22","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 00:50:47","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 00:50:47 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T00:50:47.228Z"}
DEBUG - 2026-01-29 00:50:47 --> ApiController initialized
DEBUG - 2026-01-29 00:50:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:47 --> ApiController initialized
DEBUG - 2026-01-29 00:50:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> ApiController initialized
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> ApiController initialized
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> ApiController initialized
DEBUG - 2026-01-29 00:50:59 --> Groups data: []
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> ApiController initialized
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> ApiController initialized
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:50:59 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","last_message":{"id":"2695","sender_id":"23","receiver_id":"22","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 08:50:47","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 00:50:59 --> ApiController initialized
DEBUG - 2026-01-29 00:50:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> Groups data: []
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","last_message":{"id":"2695","sender_id":"23","receiver_id":"22","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 08:50:47","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> Getting direct messages between user 22 and 23
DEBUG - 2026-01-29 00:51:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '22'
AND `messages`.`receiver_id` = '23'
  )
OR    (
`messages`.`sender_id` = '23'
AND `messages`.`receiver_id` = '22'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 00:51:01 --> Marked messages from user 23 to 22 as read
DEBUG - 2026-01-29 00:51:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"2694","user_id":"22","other_user_id":"23","is_group":false,"username":"","user_info":{"id":"22","username":"test","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png"},"timestamp":"2026-01-29 00:51:01"}}
DEBUG - 2026-01-29 00:51:01 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T00:51:01.645Z"}
DEBUG - 2026-01-29 00:51:01 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"2695","user_id":"22","other_user_id":"23","is_group":false,"username":"","user_info":{"id":"22","username":"test","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png"},"timestamp":"2026-01-29 00:51:01"}}
DEBUG - 2026-01-29 00:51:01 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T00:51:01.657Z"}
DEBUG - 2026-01-29 00:51:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"22","chat_id":"23","is_group":false,"timestamp":"2026-01-29 00:51:01"}}
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T00:51:01.661Z"}
DEBUG - 2026-01-29 00:51:01 --> Found 2 direct messages
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> ApiController initialized
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","last_message":{"id":"2695","sender_id":"23","receiver_id":"22","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 08:50:47","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:01 --> Groups data: []
DEBUG - 2026-01-29 00:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:03 --> ApiController initialized
DEBUG - 2026-01-29 00:51:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:04 --> ApiController initialized
DEBUG - 2026-01-29 00:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryJUwEeEJdcE4dFdrW
DEBUG - 2026-01-29 00:51:04 --> Processing form data
DEBUG - 2026-01-29 00:51:04 --> POST data: {"content":"bakit","is_group":"0","receiver_id":"23","type":"text"}
DEBUG - 2026-01-29 00:51:04 --> Processed message data: {"sender_id":"22","content":"bakit","type":"text","is_group":0,"group_id":null,"receiver_id":"23","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 00:51:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 00:51:04 --> Inserting message data: {"sender_id":"22","content":"bakit","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 08:51:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"23","group_id":null}
DEBUG - 2026-01-29 00:51:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 00:51:04 --> Message saved successfully with ID: 2696
DEBUG - 2026-01-29 00:51:04 --> Sending message to socket server: {"event":"new_message","data":{"id":2696,"sender_id":"22","receiver_id":"23","group_id":null,"is_group":0,"content":"bakit","type":"text","file_url":null,"created_at":"2026-01-29 00:51:04","username":"test","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 00:51:04 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T00:51:04.375Z"}
DEBUG - 2026-01-29 00:51:04 --> ApiController initialized
DEBUG - 2026-01-29 00:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:04 --> ApiController initialized
DEBUG - 2026-01-29 00:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:04 --> ApiController initialized
DEBUG - 2026-01-29 00:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:05 --> ApiController initialized
DEBUG - 2026-01-29 00:51:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:05 --> ApiController initialized
DEBUG - 2026-01-29 00:51:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:05 --> Marking message 2696 as seen by user 23 (is_group: false)
DEBUG - 2026-01-29 00:51:05 --> Updated is_read column for message 2696
DEBUG - 2026-01-29 00:51:05 --> Created new message status for message 2696. Insert result: success
DEBUG - 2026-01-29 00:51:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"2696","user_id":"23","other_user_id":22,"is_group":false,"username":"test1","user_info":{"id":"23","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 00:51:05"}}
DEBUG - 2026-01-29 00:51:05 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T00:51:05.218Z"}
DEBUG - 2026-01-29 00:51:05 --> Found 1 users who have seen message 2696
DEBUG - 2026-01-29 00:51:05 --> ApiController initialized
DEBUG - 2026-01-29 00:51:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:24 --> ApiController initialized
DEBUG - 2026-01-29 00:51:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:24 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryARN7zi9fMPVidwTB
DEBUG - 2026-01-29 00:51:24 --> Processing form data
DEBUG - 2026-01-29 00:51:24 --> POST data: {"content":"test","is_group":"0","receiver_id":"22","type":"text"}
DEBUG - 2026-01-29 00:51:24 --> Processed message data: {"sender_id":"23","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"22","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 00:51:24 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 00:51:24 --> Inserting message data: {"sender_id":"23","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 08:51:24","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"22","group_id":null}
DEBUG - 2026-01-29 00:51:24 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 00:51:24 --> Message saved successfully with ID: 2697
DEBUG - 2026-01-29 00:51:24 --> Sending message to socket server: {"event":"new_message","data":{"id":2697,"sender_id":"23","receiver_id":"22","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 00:51:24","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 00:51:24 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T00:51:24.854Z"}
DEBUG - 2026-01-29 00:51:24 --> ApiController initialized
DEBUG - 2026-01-29 00:51:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:25 --> ApiController initialized
DEBUG - 2026-01-29 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:25 --> ApiController initialized
DEBUG - 2026-01-29 00:51:25 --> ApiController initialized
DEBUG - 2026-01-29 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:25 --> Marking message 2697 as seen by user 22 (is_group: false)
DEBUG - 2026-01-29 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:25 --> Updated is_read column for message 2697
DEBUG - 2026-01-29 00:51:25 --> Created new message status for message 2697. Insert result: success
DEBUG - 2026-01-29 00:51:25 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"2697","user_id":"22","other_user_id":23,"is_group":false,"username":"test","user_info":{"id":"22","username":"test","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png"},"timestamp":"2026-01-29 00:51:25"}}
DEBUG - 2026-01-29 00:51:25 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T00:51:25.103Z"}
DEBUG - 2026-01-29 00:51:25 --> Found 1 users who have seen message 2697
DEBUG - 2026-01-29 00:51:25 --> ApiController initialized
DEBUG - 2026-01-29 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:25 --> ApiController initialized
DEBUG - 2026-01-29 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:31 --> ApiController initialized
DEBUG - 2026-01-29 00:51:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:32 --> ApiController initialized
DEBUG - 2026-01-29 00:51:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:50 --> ApiController initialized
DEBUG - 2026-01-29 00:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:50 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryREhV8GVeXrURKwNq
DEBUG - 2026-01-29 00:51:50 --> Processing form data
DEBUG - 2026-01-29 00:51:50 --> POST data: {"content":"tesstt","is_group":"0","receiver_id":"22","type":"text"}
DEBUG - 2026-01-29 00:51:50 --> Processed message data: {"sender_id":"23","content":"tesstt","type":"text","is_group":0,"group_id":null,"receiver_id":"22","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 00:51:50 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 00:51:50 --> Inserting message data: {"sender_id":"23","content":"tesstt","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 08:51:50","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"22","group_id":null}
DEBUG - 2026-01-29 00:51:50 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 00:51:50 --> Message saved successfully with ID: 2698
DEBUG - 2026-01-29 00:51:50 --> Sending message to socket server: {"event":"new_message","data":{"id":2698,"sender_id":"23","receiver_id":"22","group_id":null,"is_group":0,"content":"tesstt","type":"text","file_url":null,"created_at":"2026-01-29 00:51:50","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 00:51:50 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T00:51:50.159Z"}
DEBUG - 2026-01-29 00:51:50 --> ApiController initialized
DEBUG - 2026-01-29 00:51:50 --> ApiController initialized
DEBUG - 2026-01-29 00:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:50 --> ApiController initialized
DEBUG - 2026-01-29 00:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:50 --> ApiController initialized
DEBUG - 2026-01-29 00:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:50 --> ApiController initialized
DEBUG - 2026-01-29 00:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:51 --> ApiController initialized
DEBUG - 2026-01-29 00:51:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:51:51 --> Marking message 2698 as seen by user 22 (is_group: false)
DEBUG - 2026-01-29 00:51:51 --> Updated is_read column for message 2698
DEBUG - 2026-01-29 00:51:51 --> Created new message status for message 2698. Insert result: success
DEBUG - 2026-01-29 00:51:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"2698","user_id":"22","other_user_id":23,"is_group":false,"username":"test","user_info":{"id":"22","username":"test","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png"},"timestamp":"2026-01-29 00:51:51"}}
DEBUG - 2026-01-29 00:51:51 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T00:51:51.244Z"}
DEBUG - 2026-01-29 00:51:51 --> Found 1 users who have seen message 2698
DEBUG - 2026-01-29 00:52:01 --> ApiController initialized
DEBUG - 2026-01-29 00:52:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:02 --> ApiController initialized
DEBUG - 2026-01-29 00:52:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:18 --> ApiController initialized
DEBUG - 2026-01-29 00:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:18 --> Users data: [{"id":"22","username":"test","email":"test@gmail.com","password":"$2y$10$i8P3J5ENI.4lNAQNlN1GKOBGd4gZkVuKfeQPtDkb5z0hoL3mSIbti","nickname":"test","avatar":"1769590854_fb0e92e0b9c30865d002.png","status":"online","role":"tsr","last_active":"2026-01-29 00:45:45","created_at":"2026-01-28 09:00:54","updated_at":"2026-01-29 00:45:45","last_message":{"id":"2698","sender_id":"23","receiver_id":"22","group_id":null,"content":"tesstt","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 08:51:50","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:52:18 --> ApiController initialized
DEBUG - 2026-01-29 00:52:18 --> ApiController initialized
DEBUG - 2026-01-29 00:52:18 --> ApiController initialized
DEBUG - 2026-01-29 00:52:18 --> ApiController initialized
DEBUG - 2026-01-29 00:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:18 --> Groups data: []
DEBUG - 2026-01-29 00:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:18 --> ApiController initialized
DEBUG - 2026-01-29 00:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:31 --> ApiController initialized
DEBUG - 2026-01-29 00:52:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:31 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 00:52:31 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 00:52:31 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 00:52:31 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 00:52:31 --> TSR Dashboard: Found 1 assigned tickets
DEBUG - 2026-01-29 00:52:31 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 00:52:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:42 --> ApiController initialized
DEBUG - 2026-01-29 00:52:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:42 --> ApiController initialized
DEBUG - 2026-01-29 00:52:42 --> ApiController initialized
DEBUG - 2026-01-29 00:52:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:42 --> ApiController initialized
DEBUG - 2026-01-29 00:52:42 --> ApiController initialized
DEBUG - 2026-01-29 00:52:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:42 --> Users data: [{"id":"23","username":"test1","email":"test1@gmail.com","password":"$2y$10$sIoLOVHTxQS5VGIPXPDQW.\/JfI6h9gKllr8vVnLlGTihGc82.7lQm","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 00:43:48","created_at":"2026-01-29 00:42:01","updated_at":"2026-01-29 00:43:48","last_message":{"id":"2698","sender_id":"23","receiver_id":"22","group_id":null,"content":"tesstt","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 08:51:50","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 00:52:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:42 --> Groups data: []
DEBUG - 2026-01-29 00:52:42 --> ApiController initialized
DEBUG - 2026-01-29 00:52:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:49 --> ApiController initialized
DEBUG - 2026-01-29 00:52:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:52:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:55:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:55:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:55:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:55:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:58:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:58:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 00:58:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:01:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:02:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:02:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:02:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:02:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:02:10 --> TSR Dashboard: User ID: 22, Role: tsr
DEBUG - 2026-01-29 01:02:10 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:02:10 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:02:10 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 01:02:10 --> TSR Dashboard: Found 1 assigned tickets
DEBUG - 2026-01-29 01:02:10 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:11:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:11:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:11:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> ApiController initialized
DEBUG - 2026-01-29 01:12:36 --> ApiController initialized
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> Users data: []
DEBUG - 2026-01-29 01:12:36 --> ApiController initialized
DEBUG - 2026-01-29 01:12:36 --> ApiController initialized
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> ApiController initialized
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:12:36 --> Groups data: []
DEBUG - 2026-01-29 01:12:37 --> ApiController initialized
DEBUG - 2026-01-29 01:12:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:07 --> ApiController initialized
DEBUG - 2026-01-29 01:13:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> ApiController initialized
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> ApiController initialized
DEBUG - 2026-01-29 01:13:34 --> ApiController initialized
DEBUG - 2026-01-29 01:13:34 --> ApiController initialized
DEBUG - 2026-01-29 01:13:34 --> ApiController initialized
DEBUG - 2026-01-29 01:13:34 --> Groups data: []
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 01:12:36","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:12:36","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:34 --> ApiController initialized
DEBUG - 2026-01-29 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:36 --> ApiController initialized
DEBUG - 2026-01-29 01:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:51 --> ApiController initialized
DEBUG - 2026-01-29 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:51 --> ApiController initialized
DEBUG - 2026-01-29 01:13:51 --> ApiController initialized
DEBUG - 2026-01-29 01:13:51 --> ApiController initialized
DEBUG - 2026-01-29 01:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:51 --> ApiController initialized
DEBUG - 2026-01-29 01:13:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:52 --> Groups data: []
DEBUG - 2026-01-29 01:13:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:13:52 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 01:12:36","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:12:36","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:13:52 --> ApiController initialized
DEBUG - 2026-01-29 01:13:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:07 --> ApiController initialized
DEBUG - 2026-01-29 01:14:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:21 --> ApiController initialized
DEBUG - 2026-01-29 01:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:14:42 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 01:14:42 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:14:42 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:14:42 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 01:14:42 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 01:14:42 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:14:51 --> ApiController initialized
DEBUG - 2026-01-29 01:14:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:12 --> ApiController initialized
DEBUG - 2026-01-29 01:15:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:12 --> Raw ticket creation input: {"subject":"I CANT FIND IT","description":"OHHH NOOO","category":"billing","priority":"high"}
DEBUG - 2026-01-29 01:15:12 --> Parsed ticket data: {"subject":"I CANT FIND IT","description":"OHHH NOOO","category":"billing","priority":"high"}
DEBUG - 2026-01-29 01:15:12 --> Inserting ticket data: {"subject":"I CANT FIND IT","description":"OHHH NOOO","priority":"high","category":"billing","status":"open","created_by":"2","is_deleted":0}
DEBUG - 2026-01-29 01:15:12 --> Ticket created with ID: 1
DEBUG - 2026-01-29 01:15:12 --> Initial ticket message created
ERROR - 2026-01-29 01:15:13 --> Failed to send ticket created event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 01:15:13 --> Ticket creation successful
DEBUG - 2026-01-29 01:15:13 --> ApiController initialized
DEBUG - 2026-01-29 01:15:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:22 --> ApiController initialized
DEBUG - 2026-01-29 01:15:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:22 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 01:15:22 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:15:22 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:15:22 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 01:15:22 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 01:15:22 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:15:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:44 --> ApiController initialized
DEBUG - 2026-01-29 01:15:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:44 --> ApiController initialized
DEBUG - 2026-01-29 01:15:44 --> ApiController initialized
DEBUG - 2026-01-29 01:15:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:44 --> ApiController initialized
DEBUG - 2026-01-29 01:15:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:44 --> Users data: [{"id":"2","username":"test1","email":"test1@gmail.com","password":"$2y$10$Il4u7Z4\/StjhDFvaSHhokurExJ3luwFgN.ByYuP9LdwDDQx9kgFy6","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 01:13:51","created_at":"2026-01-29 01:13:25","updated_at":"2026-01-29 01:13:51","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:15:44 --> ApiController initialized
DEBUG - 2026-01-29 01:15:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:44 --> Groups data: []
DEBUG - 2026-01-29 01:15:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:45 --> ApiController initialized
DEBUG - 2026-01-29 01:15:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:52 --> ApiController initialized
DEBUG - 2026-01-29 01:15:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:15:56 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 01:15:56 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:15:56 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:15:56 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 01:15:56 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 01:15:56 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:16:22 --> ApiController initialized
DEBUG - 2026-01-29 01:16:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:38 --> ApiController initialized
DEBUG - 2026-01-29 01:16:38 --> ApiController initialized
DEBUG - 2026-01-29 01:16:38 --> ApiController initialized
DEBUG - 2026-01-29 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:38 --> ApiController initialized
DEBUG - 2026-01-29 01:16:38 --> ApiController initialized
DEBUG - 2026-01-29 01:16:38 --> Groups data: []
DEBUG - 2026-01-29 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:38 --> Users data: [{"id":"2","username":"test1","email":"test1@gmail.com","password":"$2y$10$Il4u7Z4\/StjhDFvaSHhokurExJ3luwFgN.ByYuP9LdwDDQx9kgFy6","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 01:13:51","created_at":"2026-01-29 01:13:25","updated_at":"2026-01-29 01:13:51","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:38 --> ApiController initialized
DEBUG - 2026-01-29 01:16:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:16:40 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 01:16:40 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:16:40 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:16:40 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 01:16:40 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 01:16:40 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:16:51 --> ApiController initialized
DEBUG - 2026-01-29 01:16:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:17:22 --> ApiController initialized
DEBUG - 2026-01-29 01:17:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:17:52 --> ApiController initialized
DEBUG - 2026-01-29 01:17:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:18:22 --> ApiController initialized
DEBUG - 2026-01-29 01:18:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:18:51 --> ApiController initialized
DEBUG - 2026-01-29 01:18:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:19:21 --> ApiController initialized
DEBUG - 2026-01-29 01:19:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:19:51 --> ApiController initialized
DEBUG - 2026-01-29 01:19:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:20:21 --> ApiController initialized
DEBUG - 2026-01-29 01:20:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:20:51 --> ApiController initialized
DEBUG - 2026-01-29 01:20:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:21:21 --> ApiController initialized
DEBUG - 2026-01-29 01:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:21:51 --> ApiController initialized
DEBUG - 2026-01-29 01:21:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:22:21 --> ApiController initialized
DEBUG - 2026-01-29 01:22:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:22:51 --> ApiController initialized
DEBUG - 2026-01-29 01:22:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:23:21 --> ApiController initialized
DEBUG - 2026-01-29 01:23:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:23:51 --> ApiController initialized
DEBUG - 2026-01-29 01:23:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:24:21 --> ApiController initialized
DEBUG - 2026-01-29 01:24:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:24:51 --> ApiController initialized
DEBUG - 2026-01-29 01:24:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:25:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:25:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:25:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:25:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:25:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:25:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:47 --> ApiController initialized
DEBUG - 2026-01-29 01:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:47 --> ApiController initialized
DEBUG - 2026-01-29 01:26:47 --> ApiController initialized
DEBUG - 2026-01-29 01:26:47 --> ApiController initialized
DEBUG - 2026-01-29 01:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:47 --> ApiController initialized
DEBUG - 2026-01-29 01:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:47 --> Groups data: []
DEBUG - 2026-01-29 01:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:47 --> ApiController initialized
DEBUG - 2026-01-29 01:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Groups data: []
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:26:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:26:49 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:26:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:26:49"}}
DEBUG - 2026-01-29 01:26:49 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:26:49.624Z"}
DEBUG - 2026-01-29 01:26:49 --> Found 0 direct messages
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> Groups data: []
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> ApiController initialized
DEBUG - 2026-01-29 01:26:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:49 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:26:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Groups data: []
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> Groups data: []
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:26:58 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:26:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:26:58"}}
DEBUG - 2026-01-29 01:26:58 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:26:58.918Z"}
DEBUG - 2026-01-29 01:26:58 --> Found 0 direct messages
DEBUG - 2026-01-29 01:26:58 --> ApiController initialized
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:27:29 --> ApiController initialized
DEBUG - 2026-01-29 01:27:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:27:59 --> ApiController initialized
DEBUG - 2026-01-29 01:27:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:28:29 --> ApiController initialized
DEBUG - 2026-01-29 01:28:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:28:59 --> ApiController initialized
DEBUG - 2026-01-29 01:28:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:29:29 --> ApiController initialized
DEBUG - 2026-01-29 01:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:29:59 --> ApiController initialized
DEBUG - 2026-01-29 01:29:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:29 --> ApiController initialized
DEBUG - 2026-01-29 01:30:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:48 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 01:30:48 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:30:48 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:30:48 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 01:30:48 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 01:30:48 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Groups data: []
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> Groups data: []
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:30:56 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:30:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:30:56 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:30:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:30:56"}}
DEBUG - 2026-01-29 01:30:56 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:30:56.870Z"}
DEBUG - 2026-01-29 01:30:56 --> Found 0 direct messages
DEBUG - 2026-01-29 01:30:56 --> ApiController initialized
DEBUG - 2026-01-29 01:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:31:27 --> ApiController initialized
DEBUG - 2026-01-29 01:31:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:31:57 --> ApiController initialized
DEBUG - 2026-01-29 01:31:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:32:27 --> ApiController initialized
DEBUG - 2026-01-29 01:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:32:57 --> ApiController initialized
DEBUG - 2026-01-29 01:32:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:26 --> ApiController initialized
DEBUG - 2026-01-29 01:33:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:28 --> ApiController initialized
DEBUG - 2026-01-29 01:33:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:28 --> ApiController initialized
DEBUG - 2026-01-29 01:33:28 --> ApiController initialized
DEBUG - 2026-01-29 01:33:28 --> ApiController initialized
DEBUG - 2026-01-29 01:33:28 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:33:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:28 --> ApiController initialized
DEBUG - 2026-01-29 01:33:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> Groups data: []
DEBUG - 2026-01-29 01:33:29 --> ApiController initialized
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> ApiController initialized
DEBUG - 2026-01-29 01:33:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> ApiController initialized
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> Groups data: []
DEBUG - 2026-01-29 01:33:29 --> ApiController initialized
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> ApiController initialized
DEBUG - 2026-01-29 01:33:29 --> ApiController initialized
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:29 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:33:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:33:29 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:33:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:33:29"}}
DEBUG - 2026-01-29 01:33:29 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:33:29.514Z"}
DEBUG - 2026-01-29 01:33:29 --> Found 0 direct messages
DEBUG - 2026-01-29 01:33:59 --> ApiController initialized
DEBUG - 2026-01-29 01:33:59 --> ApiController initialized
DEBUG - 2026-01-29 01:33:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:33:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:34:29 --> ApiController initialized
DEBUG - 2026-01-29 01:34:29 --> ApiController initialized
DEBUG - 2026-01-29 01:34:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:34:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:34:59 --> ApiController initialized
DEBUG - 2026-01-29 01:34:59 --> ApiController initialized
DEBUG - 2026-01-29 01:34:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:34:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:35:29 --> ApiController initialized
DEBUG - 2026-01-29 01:35:29 --> ApiController initialized
DEBUG - 2026-01-29 01:35:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:35:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:35:59 --> ApiController initialized
DEBUG - 2026-01-29 01:35:59 --> ApiController initialized
DEBUG - 2026-01-29 01:35:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:35:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:36:29 --> ApiController initialized
DEBUG - 2026-01-29 01:36:29 --> ApiController initialized
DEBUG - 2026-01-29 01:36:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:36:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:37:26 --> ApiController initialized
DEBUG - 2026-01-29 01:37:26 --> ApiController initialized
DEBUG - 2026-01-29 01:37:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:37:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:37:29 --> ApiController initialized
DEBUG - 2026-01-29 01:37:29 --> ApiController initialized
DEBUG - 2026-01-29 01:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:37:59 --> ApiController initialized
DEBUG - 2026-01-29 01:37:59 --> ApiController initialized
DEBUG - 2026-01-29 01:37:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:37:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:38:29 --> ApiController initialized
DEBUG - 2026-01-29 01:38:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:38:29 --> ApiController initialized
DEBUG - 2026-01-29 01:38:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:38:59 --> ApiController initialized
DEBUG - 2026-01-29 01:38:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:38:59 --> ApiController initialized
DEBUG - 2026-01-29 01:38:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:29 --> ApiController initialized
DEBUG - 2026-01-29 01:39:29 --> ApiController initialized
DEBUG - 2026-01-29 01:39:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> Groups data: []
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> Groups data: []
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> ApiController initialized
DEBUG - 2026-01-29 01:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:39:54 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:39:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:39:54 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:39:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:39:54"}}
DEBUG - 2026-01-29 01:39:54 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:39:54.931Z"}
DEBUG - 2026-01-29 01:39:54 --> Found 0 direct messages
DEBUG - 2026-01-29 01:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Groups data: []
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Groups data: []
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> ApiController initialized
DEBUG - 2026-01-29 01:40:07 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:40:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:40:07 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:40:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:40:07"}}
DEBUG - 2026-01-29 01:40:07 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:40:07.697Z"}
DEBUG - 2026-01-29 01:40:07 --> Found 0 direct messages
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:37 --> ApiController initialized
DEBUG - 2026-01-29 01:40:37 --> ApiController initialized
DEBUG - 2026-01-29 01:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:41:07 --> ApiController initialized
DEBUG - 2026-01-29 01:41:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:41:07 --> ApiController initialized
DEBUG - 2026-01-29 01:41:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:41:37 --> ApiController initialized
DEBUG - 2026-01-29 01:41:37 --> ApiController initialized
DEBUG - 2026-01-29 01:41:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:41:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:42:07 --> ApiController initialized
DEBUG - 2026-01-29 01:42:07 --> ApiController initialized
DEBUG - 2026-01-29 01:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:42:37 --> ApiController initialized
DEBUG - 2026-01-29 01:42:37 --> ApiController initialized
DEBUG - 2026-01-29 01:42:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:42:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:43:06 --> ApiController initialized
DEBUG - 2026-01-29 01:43:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:43:06 --> ApiController initialized
DEBUG - 2026-01-29 01:43:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:43:37 --> ApiController initialized
DEBUG - 2026-01-29 01:43:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:43:37 --> ApiController initialized
DEBUG - 2026-01-29 01:43:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:07 --> ApiController initialized
DEBUG - 2026-01-29 01:44:07 --> ApiController initialized
DEBUG - 2026-01-29 01:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> Groups data: []
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> ApiController initialized
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> Groups data: []
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:30 --> ApiController initialized
DEBUG - 2026-01-29 01:44:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:44:30 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:44:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:44:30 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:44:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:44:30"}}
DEBUG - 2026-01-29 01:44:30 --> ApiController initialized
DEBUG - 2026-01-29 01:44:30 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:44:30.255Z"}
DEBUG - 2026-01-29 01:44:30 --> Found 0 direct messages
DEBUG - 2026-01-29 01:44:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:45:00 --> ApiController initialized
DEBUG - 2026-01-29 01:45:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:45:00 --> ApiController initialized
DEBUG - 2026-01-29 01:45:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:45:30 --> ApiController initialized
DEBUG - 2026-01-29 01:45:30 --> ApiController initialized
DEBUG - 2026-01-29 01:45:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:45:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:46:00 --> ApiController initialized
DEBUG - 2026-01-29 01:46:00 --> ApiController initialized
DEBUG - 2026-01-29 01:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:46:30 --> ApiController initialized
DEBUG - 2026-01-29 01:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:46:30 --> ApiController initialized
DEBUG - 2026-01-29 01:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:46:59 --> ApiController initialized
DEBUG - 2026-01-29 01:46:59 --> ApiController initialized
DEBUG - 2026-01-29 01:46:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:46:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> Groups data: []
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> ApiController initialized
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:16 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:47:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:47:16 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:47:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:47:16"}}
DEBUG - 2026-01-29 01:47:16 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:47:16.863Z"}
DEBUG - 2026-01-29 01:47:16 --> Found 0 direct messages
DEBUG - 2026-01-29 01:47:17 --> ApiController initialized
DEBUG - 2026-01-29 01:47:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:46 --> ApiController initialized
DEBUG - 2026-01-29 01:47:46 --> ApiController initialized
DEBUG - 2026-01-29 01:47:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:47:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:48:16 --> ApiController initialized
DEBUG - 2026-01-29 01:48:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:48:16 --> ApiController initialized
DEBUG - 2026-01-29 01:48:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:48:46 --> ApiController initialized
DEBUG - 2026-01-29 01:48:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:48:46 --> ApiController initialized
DEBUG - 2026-01-29 01:48:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:49:16 --> ApiController initialized
DEBUG - 2026-01-29 01:49:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:49:16 --> ApiController initialized
DEBUG - 2026-01-29 01:49:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:49:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:49:39 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 01:49:39 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 01:49:39 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 01:49:39 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 01:49:39 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 01:49:39 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 01:49:51 --> ApiController initialized
DEBUG - 2026-01-29 01:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:49:51 --> ApiController initialized
DEBUG - 2026-01-29 01:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:50:16 --> ApiController initialized
DEBUG - 2026-01-29 01:50:16 --> ApiController initialized
DEBUG - 2026-01-29 01:50:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:50:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:50:46 --> ApiController initialized
DEBUG - 2026-01-29 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:50:46 --> ApiController initialized
DEBUG - 2026-01-29 01:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:16 --> ApiController initialized
DEBUG - 2026-01-29 01:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:16 --> ApiController initialized
DEBUG - 2026-01-29 01:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:42 --> ApiController initialized
DEBUG - 2026-01-29 01:51:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:42 --> ApiController initialized
DEBUG - 2026-01-29 01:51:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:42 --> ApiController initialized
DEBUG - 2026-01-29 01:51:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:51:42 --> ApiController initialized
DEBUG - 2026-01-29 01:51:42 --> ApiController initialized
DEBUG - 2026-01-29 01:51:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:42 --> ApiController initialized
DEBUG - 2026-01-29 01:51:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:43 --> Groups data: []
DEBUG - 2026-01-29 01:51:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:43 --> ApiController initialized
DEBUG - 2026-01-29 01:51:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:43 --> ApiController initialized
DEBUG - 2026-01-29 01:51:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:43 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:51:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:51:43 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:51:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:51:43"}}
DEBUG - 2026-01-29 01:51:43 --> ApiController initialized
DEBUG - 2026-01-29 01:51:43 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:51:43.427Z"}
DEBUG - 2026-01-29 01:51:43 --> Found 0 direct messages
DEBUG - 2026-01-29 01:51:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> Groups data: []
DEBUG - 2026-01-29 01:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:54 --> ApiController initialized
DEBUG - 2026-01-29 01:51:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:55 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:51:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:51:55 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:51:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:51:55"}}
DEBUG - 2026-01-29 01:51:55 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:51:55.114Z"}
DEBUG - 2026-01-29 01:51:55 --> Found 0 direct messages
DEBUG - 2026-01-29 01:51:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:51:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:24 --> ApiController initialized
DEBUG - 2026-01-29 01:52:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:24 --> ApiController initialized
DEBUG - 2026-01-29 01:52:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> Groups data: []
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:52:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:52:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:52:53 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:52:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:52:53"}}
DEBUG - 2026-01-29 01:52:53 --> ApiController initialized
DEBUG - 2026-01-29 01:52:53 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:52:53.644Z"}
DEBUG - 2026-01-29 01:52:53 --> Found 0 direct messages
DEBUG - 2026-01-29 01:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:53:24 --> ApiController initialized
DEBUG - 2026-01-29 01:53:24 --> ApiController initialized
DEBUG - 2026-01-29 01:53:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:53:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:53:54 --> ApiController initialized
DEBUG - 2026-01-29 01:53:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:53:54 --> ApiController initialized
DEBUG - 2026-01-29 01:53:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:54:24 --> ApiController initialized
DEBUG - 2026-01-29 01:54:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:54:24 --> ApiController initialized
DEBUG - 2026-01-29 01:54:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:54:54 --> ApiController initialized
DEBUG - 2026-01-29 01:54:54 --> ApiController initialized
DEBUG - 2026-01-29 01:54:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:54:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> Groups data: []
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:17 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:55:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:55:17 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:55:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:55:17"}}
DEBUG - 2026-01-29 01:55:17 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:55:17.495Z"}
DEBUG - 2026-01-29 01:55:17 --> Found 0 direct messages
DEBUG - 2026-01-29 01:55:17 --> ApiController initialized
DEBUG - 2026-01-29 01:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:35 --> ApiController initialized
DEBUG - 2026-01-29 01:55:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:14:42","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:55:35 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> Groups data: []
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:55:36 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 01:55:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 01:55:36 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 01:55:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 01:55:36"}}
DEBUG - 2026-01-29 01:55:36 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T01:55:36.580Z"}
DEBUG - 2026-01-29 01:55:36 --> Found 0 direct messages
DEBUG - 2026-01-29 01:55:36 --> ApiController initialized
DEBUG - 2026-01-29 01:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> ApiController initialized
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> ApiController initialized
DEBUG - 2026-01-29 01:56:14 --> ApiController initialized
DEBUG - 2026-01-29 01:56:14 --> ApiController initialized
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> ApiController initialized
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:14 --> Groups data: []
DEBUG - 2026-01-29 01:56:14 --> ApiController initialized
DEBUG - 2026-01-29 01:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> ApiController initialized
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> ApiController initialized
DEBUG - 2026-01-29 01:56:18 --> ApiController initialized
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> ApiController initialized
DEBUG - 2026-01-29 01:56:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> ApiController initialized
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:18 --> Groups data: []
DEBUG - 2026-01-29 01:56:18 --> ApiController initialized
DEBUG - 2026-01-29 01:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:24 --> ApiController initialized
DEBUG - 2026-01-29 01:56:24 --> ApiController initialized
DEBUG - 2026-01-29 01:56:24 --> ApiController initialized
DEBUG - 2026-01-29 01:56:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:24 --> ApiController initialized
DEBUG - 2026-01-29 01:56:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:24 --> ApiController initialized
DEBUG - 2026-01-29 01:56:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:24 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:24 --> Groups data: []
DEBUG - 2026-01-29 01:56:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:24 --> ApiController initialized
DEBUG - 2026-01-29 01:56:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 01:56:25 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> ApiController initialized
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> ApiController initialized
DEBUG - 2026-01-29 01:56:25 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:25 --> ApiController initialized
DEBUG - 2026-01-29 01:56:25 --> ApiController initialized
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> ApiController initialized
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> Groups data: []
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> ApiController initialized
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:26 --> ApiController initialized
DEBUG - 2026-01-29 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:26 --> Groups data: []
DEBUG - 2026-01-29 01:56:26 --> ApiController initialized
DEBUG - 2026-01-29 01:56:26 --> ApiController initialized
DEBUG - 2026-01-29 01:56:26 --> ApiController initialized
DEBUG - 2026-01-29 01:56:26 --> ApiController initialized
DEBUG - 2026-01-29 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:26 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:26 --> ApiController initialized
DEBUG - 2026-01-29 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:31 --> ApiController initialized
DEBUG - 2026-01-29 01:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:31 --> ApiController initialized
DEBUG - 2026-01-29 01:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:31 --> Groups data: []
DEBUG - 2026-01-29 01:56:31 --> ApiController initialized
DEBUG - 2026-01-29 01:56:31 --> ApiController initialized
DEBUG - 2026-01-29 01:56:31 --> ApiController initialized
DEBUG - 2026-01-29 01:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:31 --> ApiController initialized
DEBUG - 2026-01-29 01:56:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:41 --> ApiController initialized
DEBUG - 2026-01-29 01:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:41 --> ApiController initialized
DEBUG - 2026-01-29 01:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:41 --> ApiController initialized
DEBUG - 2026-01-29 01:56:41 --> ApiController initialized
DEBUG - 2026-01-29 01:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:41 --> ApiController initialized
DEBUG - 2026-01-29 01:56:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:41 --> Groups data: []
DEBUG - 2026-01-29 01:56:41 --> ApiController initialized
DEBUG - 2026-01-29 01:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> ApiController initialized
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> ApiController initialized
DEBUG - 2026-01-29 01:56:51 --> ApiController initialized
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> ApiController initialized
DEBUG - 2026-01-29 01:56:51 --> ApiController initialized
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:56:51 --> Groups data: []
DEBUG - 2026-01-29 01:56:51 --> ApiController initialized
DEBUG - 2026-01-29 01:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:57:21 --> ApiController initialized
DEBUG - 2026-01-29 01:57:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:57:52 --> ApiController initialized
DEBUG - 2026-01-29 01:57:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:21 --> ApiController initialized
DEBUG - 2026-01-29 01:58:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> ApiController initialized
DEBUG - 2026-01-29 01:58:23 --> ApiController initialized
DEBUG - 2026-01-29 01:58:23 --> ApiController initialized
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> ApiController initialized
DEBUG - 2026-01-29 01:58:23 --> ApiController initialized
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> Groups data: []
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:23 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:58:23 --> ApiController initialized
DEBUG - 2026-01-29 01:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:58:54 --> ApiController initialized
DEBUG - 2026-01-29 01:58:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> ApiController initialized
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> ApiController initialized
DEBUG - 2026-01-29 01:59:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:59:06 --> ApiController initialized
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> ApiController initialized
DEBUG - 2026-01-29 01:59:06 --> Groups data: []
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> ApiController initialized
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:06 --> ApiController initialized
DEBUG - 2026-01-29 01:59:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> ApiController initialized
DEBUG - 2026-01-29 01:59:09 --> ApiController initialized
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> ApiController initialized
DEBUG - 2026-01-29 01:59:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:59:09 --> ApiController initialized
DEBUG - 2026-01-29 01:59:09 --> ApiController initialized
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> Groups data: []
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:09 --> ApiController initialized
DEBUG - 2026-01-29 01:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:40 --> ApiController initialized
DEBUG - 2026-01-29 01:59:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> ApiController initialized
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> ApiController initialized
DEBUG - 2026-01-29 01:59:57 --> ApiController initialized
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> ApiController initialized
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> ApiController initialized
DEBUG - 2026-01-29 01:59:57 --> Groups data: []
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 01:59:57 --> ApiController initialized
DEBUG - 2026-01-29 01:59:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:04 --> ApiController initialized
DEBUG - 2026-01-29 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:04 --> ApiController initialized
DEBUG - 2026-01-29 02:00:04 --> ApiController initialized
DEBUG - 2026-01-29 02:00:04 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:00:04 --> ApiController initialized
DEBUG - 2026-01-29 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:04 --> ApiController initialized
DEBUG - 2026-01-29 02:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Groups data: []
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 02:00:05 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Groups data: []
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 02:00:05 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:05 --> ApiController initialized
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 02:00:05 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 02:00:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Groups data: []
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 02:00:06 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Groups data: []
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> ApiController initialized
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 02:00:07 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2026-01-29 02:00:14 --> Unauthorized TSR access attempt by user ID: 3
DEBUG - 2026-01-29 02:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:14 --> ApiController initialized
DEBUG - 2026-01-29 02:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:14 --> ApiController initialized
DEBUG - 2026-01-29 02:00:14 --> ApiController initialized
DEBUG - 2026-01-29 02:00:14 --> ApiController initialized
DEBUG - 2026-01-29 02:00:14 --> ApiController initialized
DEBUG - 2026-01-29 02:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:00:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:15 --> Groups data: []
DEBUG - 2026-01-29 02:00:15 --> ApiController initialized
DEBUG - 2026-01-29 02:00:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:55 --> ApiController initialized
DEBUG - 2026-01-29 02:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:56 --> ApiController initialized
DEBUG - 2026-01-29 02:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:56 --> ApiController initialized
DEBUG - 2026-01-29 02:00:56 --> ApiController initialized
DEBUG - 2026-01-29 02:00:56 --> ApiController initialized
DEBUG - 2026-01-29 02:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:56 --> Groups data: []
DEBUG - 2026-01-29 02:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:00:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:00:56 --> ApiController initialized
DEBUG - 2026-01-29 02:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> Groups data: []
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:03 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:01:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:01:03 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:01:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:01:03"}}
DEBUG - 2026-01-29 02:01:03 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:01:03.695Z"}
DEBUG - 2026-01-29 02:01:03 --> Found 0 direct messages
DEBUG - 2026-01-29 02:01:03 --> ApiController initialized
DEBUG - 2026-01-29 02:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:01:33 --> ApiController initialized
DEBUG - 2026-01-29 02:01:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:02:03 --> ApiController initialized
DEBUG - 2026-01-29 02:02:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:02:33 --> ApiController initialized
DEBUG - 2026-01-29 02:02:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:03:03 --> ApiController initialized
DEBUG - 2026-01-29 02:03:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:03:33 --> ApiController initialized
DEBUG - 2026-01-29 02:03:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:04:03 --> ApiController initialized
DEBUG - 2026-01-29 02:04:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:04:33 --> ApiController initialized
DEBUG - 2026-01-29 02:04:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:05:03 --> ApiController initialized
DEBUG - 2026-01-29 02:05:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:05:33 --> ApiController initialized
DEBUG - 2026-01-29 02:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:06:03 --> ApiController initialized
DEBUG - 2026-01-29 02:06:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:06:33 --> ApiController initialized
DEBUG - 2026-01-29 02:06:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:07:03 --> ApiController initialized
DEBUG - 2026-01-29 02:07:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:07:33 --> ApiController initialized
DEBUG - 2026-01-29 02:07:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:08:03 --> ApiController initialized
DEBUG - 2026-01-29 02:08:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:08:33 --> ApiController initialized
DEBUG - 2026-01-29 02:08:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:09:03 --> ApiController initialized
DEBUG - 2026-01-29 02:09:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:09:33 --> ApiController initialized
DEBUG - 2026-01-29 02:09:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:10:03 --> ApiController initialized
DEBUG - 2026-01-29 02:10:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:10:33 --> ApiController initialized
DEBUG - 2026-01-29 02:10:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:11:03 --> ApiController initialized
DEBUG - 2026-01-29 02:11:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:11:33 --> ApiController initialized
DEBUG - 2026-01-29 02:11:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:12:03 --> ApiController initialized
DEBUG - 2026-01-29 02:12:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:12:33 --> ApiController initialized
DEBUG - 2026-01-29 02:12:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:13:03 --> ApiController initialized
DEBUG - 2026-01-29 02:13:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:13:33 --> ApiController initialized
DEBUG - 2026-01-29 02:13:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:14:03 --> ApiController initialized
DEBUG - 2026-01-29 02:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:14:33 --> ApiController initialized
DEBUG - 2026-01-29 02:14:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:15:04 --> ApiController initialized
DEBUG - 2026-01-29 02:15:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:15:34 --> ApiController initialized
DEBUG - 2026-01-29 02:15:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:16:27 --> ApiController initialized
DEBUG - 2026-01-29 02:16:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:27 --> ApiController initialized
DEBUG - 2026-01-29 02:17:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> ApiController initialized
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:30 --> Groups data: []
DEBUG - 2026-01-29 02:17:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:30 --> ApiController initialized
DEBUG - 2026-01-29 02:17:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:30 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:17:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:17:30 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:17:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:17:30"}}
DEBUG - 2026-01-29 02:17:30 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:17:30.118Z"}
DEBUG - 2026-01-29 02:17:30 --> Found 0 direct messages
DEBUG - 2026-01-29 02:17:30 --> ApiController initialized
DEBUG - 2026-01-29 02:17:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:59 --> ApiController initialized
DEBUG - 2026-01-29 02:17:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:17:59 --> ApiController initialized
DEBUG - 2026-01-29 02:17:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:18:29 --> ApiController initialized
DEBUG - 2026-01-29 02:18:29 --> ApiController initialized
DEBUG - 2026-01-29 02:18:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:18:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:19:00 --> ApiController initialized
DEBUG - 2026-01-29 02:19:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:19:00 --> ApiController initialized
DEBUG - 2026-01-29 02:19:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:19:29 --> ApiController initialized
DEBUG - 2026-01-29 02:19:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:19:29 --> ApiController initialized
DEBUG - 2026-01-29 02:19:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:19:59 --> ApiController initialized
DEBUG - 2026-01-29 02:19:59 --> ApiController initialized
DEBUG - 2026-01-29 02:19:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:19:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:20:29 --> ApiController initialized
DEBUG - 2026-01-29 02:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:20:29 --> ApiController initialized
DEBUG - 2026-01-29 02:20:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:00 --> ApiController initialized
DEBUG - 2026-01-29 02:21:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:00 --> ApiController initialized
DEBUG - 2026-01-29 02:21:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Groups data: []
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:21:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:21:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:21:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:21:22"}}
DEBUG - 2026-01-29 02:21:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:21:22.555Z"}
DEBUG - 2026-01-29 02:21:22 --> Found 0 direct messages
DEBUG - 2026-01-29 02:21:22 --> ApiController initialized
DEBUG - 2026-01-29 02:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:26 --> ApiController initialized
DEBUG - 2026-01-29 02:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:26 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryzDtC31waBNQIBJpJ
DEBUG - 2026-01-29 02:21:26 --> Processing form data
DEBUG - 2026-01-29 02:21:26 --> POST data: {"content":"rururuur","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:21:26 --> Processed message data: {"sender_id":"3","content":"rururuur","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:21:26 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:21:26 --> Inserting message data: {"sender_id":"3","content":"rururuur","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:21:26","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:21:26 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:21:26 --> Message saved successfully with ID: 1
DEBUG - 2026-01-29 02:21:26 --> Sending message to socket server: {"event":"new_message","data":{"id":1,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"rururuur","type":"text","file_url":null,"created_at":"2026-01-29 02:21:26","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:21:26 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:21:26.188Z"}
DEBUG - 2026-01-29 02:21:26 --> ApiController initialized
DEBUG - 2026-01-29 02:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:26 --> ApiController initialized
DEBUG - 2026-01-29 02:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:26 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:21:30 --> ApiController initialized
DEBUG - 2026-01-29 02:21:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:30 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryabXRmGzin30HxiZ4
DEBUG - 2026-01-29 02:21:30 --> Processing form data
DEBUG - 2026-01-29 02:21:30 --> POST data: {"content":"urrururu","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:21:30 --> Processed message data: {"sender_id":"3","content":"urrururu","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:21:30 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:21:30 --> Inserting message data: {"sender_id":"3","content":"urrururu","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:21:30","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:21:30 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:21:30 --> Message saved successfully with ID: 2
DEBUG - 2026-01-29 02:21:30 --> Sending message to socket server: {"event":"new_message","data":{"id":2,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"urrururu","type":"text","file_url":null,"created_at":"2026-01-29 02:21:30","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:21:30 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:21:30.301Z"}
DEBUG - 2026-01-29 02:21:30 --> ApiController initialized
DEBUG - 2026-01-29 02:21:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:30 --> ApiController initialized
DEBUG - 2026-01-29 02:21:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:30 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:21:33 --> ApiController initialized
DEBUG - 2026-01-29 02:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:33 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryITvElrW0WhTg8maf
DEBUG - 2026-01-29 02:21:33 --> Processing form data
DEBUG - 2026-01-29 02:21:33 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:21:33 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:21:33 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:21:33 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:21:33","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:21:33 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:21:33 --> Message saved successfully with ID: 3
DEBUG - 2026-01-29 02:21:33 --> Sending message to socket server: {"event":"new_message","data":{"id":3,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 02:21:33","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:21:33 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:21:33.298Z"}
DEBUG - 2026-01-29 02:21:33 --> ApiController initialized
DEBUG - 2026-01-29 02:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:33 --> ApiController initialized
DEBUG - 2026-01-29 02:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:33 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:21:52 --> ApiController initialized
DEBUG - 2026-01-29 02:21:52 --> ApiController initialized
DEBUG - 2026-01-29 02:21:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:21:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:22:22 --> ApiController initialized
DEBUG - 2026-01-29 02:22:22 --> ApiController initialized
DEBUG - 2026-01-29 02:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:22:51 --> ApiController initialized
DEBUG - 2026-01-29 02:22:51 --> ApiController initialized
DEBUG - 2026-01-29 02:22:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:22:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:22 --> ApiController initialized
DEBUG - 2026-01-29 02:23:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:22 --> ApiController initialized
DEBUG - 2026-01-29 02:23:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:51 --> ApiController initialized
DEBUG - 2026-01-29 02:23:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:52 --> ApiController initialized
DEBUG - 2026-01-29 02:23:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> Groups data: []
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","last_message":{"id":"3","sender_id":"3","receiver_id":"1","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:21:33","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:23:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:23:53 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:23:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:23:53"}}
DEBUG - 2026-01-29 02:23:53 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:23:53.555Z"}
DEBUG - 2026-01-29 02:23:53 --> Found 3 direct messages
DEBUG - 2026-01-29 02:23:53 --> ApiController initialized
DEBUG - 2026-01-29 02:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:54 --> ApiController initialized
DEBUG - 2026-01-29 02:23:54 --> ApiController initialized
DEBUG - 2026-01-29 02:23:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:54 --> ApiController initialized
DEBUG - 2026-01-29 02:23:54 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:23:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:54 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:23:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:23:54 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:24:23 --> ApiController initialized
DEBUG - 2026-01-29 02:24:23 --> ApiController initialized
DEBUG - 2026-01-29 02:24:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:24:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:24:53 --> ApiController initialized
DEBUG - 2026-01-29 02:24:53 --> ApiController initialized
DEBUG - 2026-01-29 02:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:25:23 --> ApiController initialized
DEBUG - 2026-01-29 02:25:23 --> ApiController initialized
DEBUG - 2026-01-29 02:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:25:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:25:53 --> ApiController initialized
DEBUG - 2026-01-29 02:25:53 --> ApiController initialized
DEBUG - 2026-01-29 02:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:23 --> ApiController initialized
DEBUG - 2026-01-29 02:26:23 --> ApiController initialized
DEBUG - 2026-01-29 02:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> ApiController initialized
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> Groups data: []
DEBUG - 2026-01-29 02:26:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:39 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","last_message":{"id":"3","sender_id":"3","receiver_id":"1","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:21:33","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:26:40 --> ApiController initialized
DEBUG - 2026-01-29 02:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:40 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:26:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:26:40 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:26:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:26:40"}}
DEBUG - 2026-01-29 02:26:40 --> ApiController initialized
DEBUG - 2026-01-29 02:26:40 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:26:40.059Z"}
DEBUG - 2026-01-29 02:26:40 --> Found 3 direct messages
DEBUG - 2026-01-29 02:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:40 --> ApiController initialized
DEBUG - 2026-01-29 02:26:40 --> ApiController initialized
DEBUG - 2026-01-29 02:26:40 --> ApiController initialized
DEBUG - 2026-01-29 02:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:40 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:40 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:26:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:40 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:26:50 --> ApiController initialized
DEBUG - 2026-01-29 02:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:50 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary8Ln4nAjqAh7o0k8r
DEBUG - 2026-01-29 02:26:50 --> Processing form data
DEBUG - 2026-01-29 02:26:50 --> POST data: {"content":"try\\","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:26:50 --> Processed message data: {"sender_id":"3","content":"try\\","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:26:50 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:26:50 --> Inserting message data: {"sender_id":"3","content":"try\\","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:26:50","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:26:50 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:26:50 --> Message saved successfully with ID: 4
DEBUG - 2026-01-29 02:26:50 --> Sending message to socket server: {"event":"new_message","data":{"id":4,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try\\","type":"text","file_url":null,"created_at":"2026-01-29 02:26:50","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:26:50 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:26:50.145Z"}
DEBUG - 2026-01-29 02:26:50 --> ApiController initialized
DEBUG - 2026-01-29 02:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:50 --> ApiController initialized
DEBUG - 2026-01-29 02:26:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:26:50 --> Found 0 users who have seen message 4
DEBUG - 2026-01-29 02:27:09 --> ApiController initialized
DEBUG - 2026-01-29 02:27:09 --> ApiController initialized
DEBUG - 2026-01-29 02:27:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:27:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:27:40 --> ApiController initialized
DEBUG - 2026-01-29 02:27:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:27:40 --> ApiController initialized
DEBUG - 2026-01-29 02:27:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:11 --> ApiController initialized
DEBUG - 2026-01-29 02:28:11 --> ApiController initialized
DEBUG - 2026-01-29 02:28:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","last_message":{"id":"4","sender_id":"3","receiver_id":"1","group_id":null,"content":"try\\","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:26:50","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Groups data: []
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:28:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:28:40 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:28:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:28:40"}}
DEBUG - 2026-01-29 02:28:40 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:28:40.588Z"}
DEBUG - 2026-01-29 02:28:40 --> Found 4 direct messages
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> ApiController initialized
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Found 0 users who have seen message 4
DEBUG - 2026-01-29 02:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:28:40 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:29:10 --> ApiController initialized
DEBUG - 2026-01-29 02:29:10 --> ApiController initialized
DEBUG - 2026-01-29 02:29:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> Groups data: []
DEBUG - 2026-01-29 02:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:21 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","last_message":{"id":"4","sender_id":"3","receiver_id":"1","group_id":null,"content":"try\\","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:26:50","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:29:22 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:29:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:29:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:29:22"}}
DEBUG - 2026-01-29 02:29:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:29:22.126Z"}
DEBUG - 2026-01-29 02:29:22 --> Found 4 direct messages
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> Found 0 users who have seen message 4
DEBUG - 2026-01-29 02:29:22 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> ApiController initialized
DEBUG - 2026-01-29 02:29:22 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:22 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:29:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> Groups data: []
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","last_message":{"id":"4","sender_id":"3","receiver_id":"1","group_id":null,"content":"try\\","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:26:50","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:29 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:29:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:29:29 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:29:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:29:29"}}
DEBUG - 2026-01-29 02:29:29 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:29:29.631Z"}
DEBUG - 2026-01-29 02:29:29 --> Found 4 direct messages
DEBUG - 2026-01-29 02:29:29 --> ApiController initialized
DEBUG - 2026-01-29 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:30 --> ApiController initialized
DEBUG - 2026-01-29 02:29:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:30 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:29:30 --> ApiController initialized
DEBUG - 2026-01-29 02:29:30 --> ApiController initialized
DEBUG - 2026-01-29 02:29:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:30 --> Found 0 users who have seen message 4
DEBUG - 2026-01-29 02:29:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:30 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:29:30 --> ApiController initialized
DEBUG - 2026-01-29 02:29:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:30 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:29:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:32 --> Groups data: []
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 01:14:42","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 01:56:09","last_message":{"id":"4","sender_id":"3","receiver_id":"1","group_id":null,"content":"try\\","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:26:50","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> ApiController initialized
DEBUG - 2026-01-29 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:33 --> ApiController initialized
DEBUG - 2026-01-29 02:29:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:33 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:29:33 --> ApiController initialized
DEBUG - 2026-01-29 02:29:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:29:33 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:29:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:29:33"}}
DEBUG - 2026-01-29 02:29:33 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:29:33.351Z"}
DEBUG - 2026-01-29 02:29:33 --> Found 4 direct messages
DEBUG - 2026-01-29 02:29:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:34 --> ApiController initialized
DEBUG - 2026-01-29 02:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:34 --> ApiController initialized
DEBUG - 2026-01-29 02:29:34 --> Found 0 users who have seen message 1
DEBUG - 2026-01-29 02:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:34 --> ApiController initialized
DEBUG - 2026-01-29 02:29:34 --> ApiController initialized
DEBUG - 2026-01-29 02:29:34 --> Found 0 users who have seen message 3
DEBUG - 2026-01-29 02:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:34 --> Found 0 users who have seen message 2
DEBUG - 2026-01-29 02:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:29:34 --> Found 0 users who have seen message 4
DEBUG - 2026-01-29 02:30:02 --> ApiController initialized
DEBUG - 2026-01-29 02:30:02 --> ApiController initialized
DEBUG - 2026-01-29 02:30:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:30:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:30:33 --> ApiController initialized
DEBUG - 2026-01-29 02:30:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:30:33 --> ApiController initialized
DEBUG - 2026-01-29 02:30:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:03 --> ApiController initialized
DEBUG - 2026-01-29 02:31:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:03 --> ApiController initialized
DEBUG - 2026-01-29 02:31:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:33 --> ApiController initialized
DEBUG - 2026-01-29 02:31:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:33 --> ApiController initialized
DEBUG - 2026-01-29 02:31:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:31:57 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 02:31:57 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 02:31:57 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 02:31:57 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 02:31:57 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 02:31:57 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 02:32:03 --> ApiController initialized
DEBUG - 2026-01-29 02:32:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:03 --> ApiController initialized
DEBUG - 2026-01-29 02:32:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:25 --> ApiController initialized
DEBUG - 2026-01-29 02:32:25 --> ApiController initialized
DEBUG - 2026-01-29 02:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:25 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 02:00:55","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 02:00:55","last_message":{"id":"4","sender_id":"3","receiver_id":"1","group_id":null,"content":"try\\","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:26:50","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":4,"online":false}]
DEBUG - 2026-01-29 02:32:25 --> ApiController initialized
DEBUG - 2026-01-29 02:32:25 --> ApiController initialized
DEBUG - 2026-01-29 02:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:25 --> Groups data: []
DEBUG - 2026-01-29 02:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:25 --> ApiController initialized
DEBUG - 2026-01-29 02:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:25 --> ApiController initialized
DEBUG - 2026-01-29 02:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 02:00:55","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 02:00:55","last_message":{"id":"4","sender_id":"3","receiver_id":"1","group_id":null,"content":"try\\","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:26:50","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":4,"online":false}]
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> Groups data: []
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:27 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 02:32:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:32:27 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 02:32:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"1","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:32:27"}}
DEBUG - 2026-01-29 02:32:27 --> ApiController initialized
DEBUG - 2026-01-29 02:32:27 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:32:27.793Z"}
DEBUG - 2026-01-29 02:32:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"2","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:32:27"}}
DEBUG - 2026-01-29 02:32:27 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:32:27.807Z"}
DEBUG - 2026-01-29 02:32:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"3","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:32:27"}}
DEBUG - 2026-01-29 02:32:27 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:32:27.814Z"}
DEBUG - 2026-01-29 02:32:27 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"4","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:32:27"}}
DEBUG - 2026-01-29 02:32:27 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:32:27.822Z"}
DEBUG - 2026-01-29 02:32:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 02:32:27"}}
DEBUG - 2026-01-29 02:32:27 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:32:27.826Z"}
DEBUG - 2026-01-29 02:32:27 --> Found 4 direct messages
DEBUG - 2026-01-29 02:32:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:33 --> ApiController initialized
DEBUG - 2026-01-29 02:32:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:33 --> ApiController initialized
DEBUG - 2026-01-29 02:32:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:35 --> ApiController initialized
DEBUG - 2026-01-29 02:32:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:35 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary5sc5yDmJIRxcEdO5
DEBUG - 2026-01-29 02:32:35 --> Processing form data
DEBUG - 2026-01-29 02:32:35 --> POST data: {"content":"test","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:32:35 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:32:35 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:32:35 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:32:35","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:32:35 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:32:35 --> Message saved successfully with ID: 5
DEBUG - 2026-01-29 02:32:35 --> Sending message to socket server: {"event":"new_message","data":{"id":5,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 02:32:35","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:32:35 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:32:35.237Z"}
DEBUG - 2026-01-29 02:32:35 --> ApiController initialized
DEBUG - 2026-01-29 02:32:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:35 --> ApiController initialized
DEBUG - 2026-01-29 02:32:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:35 --> ApiController initialized
DEBUG - 2026-01-29 02:32:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:35 --> ApiController initialized
DEBUG - 2026-01-29 02:32:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:35 --> Found 0 users who have seen message 5
DEBUG - 2026-01-29 02:32:48 --> ApiController initialized
DEBUG - 2026-01-29 02:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:48 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryloMwEfgzDtBuHwSE
DEBUG - 2026-01-29 02:32:48 --> Processing form data
DEBUG - 2026-01-29 02:32:48 --> POST data: {"content":"doble","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:32:48 --> Processed message data: {"sender_id":"1","content":"doble","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:32:48 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:32:48 --> Inserting message data: {"sender_id":"1","content":"doble","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:32:48","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:32:48 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:32:48 --> Message saved successfully with ID: 6
DEBUG - 2026-01-29 02:32:48 --> Sending message to socket server: {"event":"new_message","data":{"id":6,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"doble","type":"text","file_url":null,"created_at":"2026-01-29 02:32:48","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:32:48 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:32:48.466Z"}
DEBUG - 2026-01-29 02:32:48 --> ApiController initialized
DEBUG - 2026-01-29 02:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:48 --> ApiController initialized
DEBUG - 2026-01-29 02:32:48 --> ApiController initialized
DEBUG - 2026-01-29 02:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:49 --> ApiController initialized
DEBUG - 2026-01-29 02:32:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:49 --> Found 0 users who have seen message 6
DEBUG - 2026-01-29 02:32:58 --> ApiController initialized
DEBUG - 2026-01-29 02:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:32:58 --> ApiController initialized
DEBUG - 2026-01-29 02:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:02 --> ApiController initialized
DEBUG - 2026-01-29 02:33:02 --> ApiController initialized
DEBUG - 2026-01-29 02:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 02:31:57","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 02:31:57","last_message":{"id":"6","sender_id":"1","receiver_id":"3","group_id":null,"content":"doble","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:32:48","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> Groups data: []
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:33:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:33:13 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:33:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"5","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:33:13"}}
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:33:13.666Z"}
DEBUG - 2026-01-29 02:33:13 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"6","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:33:13"}}
DEBUG - 2026-01-29 02:33:13 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:33:13.787Z"}
DEBUG - 2026-01-29 02:33:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:33:13"}}
DEBUG - 2026-01-29 02:33:13 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:33:13.791Z"}
DEBUG - 2026-01-29 02:33:13 --> Found 6 direct messages
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:13 --> ApiController initialized
DEBUG - 2026-01-29 02:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:21 --> ApiController initialized
DEBUG - 2026-01-29 02:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:21 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarycDIdawAiHrSYol0v
DEBUG - 2026-01-29 02:33:21 --> Processing form data
DEBUG - 2026-01-29 02:33:21 --> POST data: {"content":"[File: HRWeb OJT Report.xls]","receiver_id":"1","type":"image","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:33:21 --> File uploaded: 1769654001_d1fe920bfe04f9ed4c7c6091553e9aef.xls, Original: HRWeb_OJT_Report.xls, Size: 38912, Type: file
DEBUG - 2026-01-29 02:33:21 --> Processed message data: {"sender_id":"3","content":"[File: HRWeb OJT Report.xls]","type":"file","is_group":0,"group_id":null,"receiver_id":"1","file_url":"1769654001_d1fe920bfe04f9ed4c7c6091553e9aef.xls","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"original_filename":"HRWeb_OJT_Report.xls","file_size":38912}
DEBUG - 2026-01-29 02:33:21 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:33:21 --> Inserting message data: {"sender_id":"3","content":"File: HRWeb_OJT_Report.xls","type":"file","file_url":"1769654001_d1fe920bfe04f9ed4c7c6091553e9aef.xls","is_group":0,"created_at":"2026-01-29 10:33:21","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:33:21 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:33:21 --> Message saved successfully with ID: 7
DEBUG - 2026-01-29 02:33:21 --> Sending message to socket server: {"event":"new_message","data":{"id":7,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"[File: HRWeb OJT Report.xls]","type":"file","file_url":"1769654001_d1fe920bfe04f9ed4c7c6091553e9aef.xls","created_at":"2026-01-29 02:33:21","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:33:21 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:33:21.286Z"}
DEBUG - 2026-01-29 02:33:21 --> ApiController initialized
DEBUG - 2026-01-29 02:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:21 --> ApiController initialized
DEBUG - 2026-01-29 02:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:21 --> ApiController initialized
DEBUG - 2026-01-29 02:33:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:21 --> Found 0 users who have seen message 7
DEBUG - 2026-01-29 02:33:22 --> ApiController initialized
DEBUG - 2026-01-29 02:33:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:27 --> ApiController initialized
DEBUG - 2026-01-29 02:33:27 --> ApiController initialized
DEBUG - 2026-01-29 02:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:43 --> ApiController initialized
DEBUG - 2026-01-29 02:33:43 --> ApiController initialized
DEBUG - 2026-01-29 02:33:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:58 --> ApiController initialized
DEBUG - 2026-01-29 02:33:58 --> ApiController initialized
DEBUG - 2026-01-29 02:33:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:33:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:01 --> ApiController initialized
DEBUG - 2026-01-29 02:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:01 --> ApiController initialized
DEBUG - 2026-01-29 02:34:01 --> ApiController initialized
DEBUG - 2026-01-29 02:34:01 --> ApiController initialized
DEBUG - 2026-01-29 02:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:01 --> ApiController initialized
DEBUG - 2026-01-29 02:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:01 --> ApiController initialized
DEBUG - 2026-01-29 02:34:01 --> Groups data: []
DEBUG - 2026-01-29 02:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 02:31:57","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 02:31:57","last_message":{"id":"7","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: HRWeb_OJT_Report.xls","type":"file","file_url":"1769654001_d1fe920bfe04f9ed4c7c6091553e9aef.xls","is_group":"0","created_at":"2026-01-29 10:33:21","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 02:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:02 --> ApiController initialized
DEBUG - 2026-01-29 02:34:02 --> ApiController initialized
DEBUG - 2026-01-29 02:34:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:02 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:34:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:34:02 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:34:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:34:02"}}
DEBUG - 2026-01-29 02:34:02 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:34:02.116Z"}
DEBUG - 2026-01-29 02:34:02 --> Found 7 direct messages
DEBUG - 2026-01-29 02:34:02 --> ApiController initialized
DEBUG - 2026-01-29 02:34:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:02 --> ApiController initialized
DEBUG - 2026-01-29 02:34:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:02 --> Found 0 users who have seen message 7
DEBUG - 2026-01-29 02:34:28 --> ApiController initialized
DEBUG - 2026-01-29 02:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:28 --> ApiController initialized
DEBUG - 2026-01-29 02:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:32 --> ApiController initialized
DEBUG - 2026-01-29 02:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:32 --> ApiController initialized
DEBUG - 2026-01-29 02:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:58 --> ApiController initialized
DEBUG - 2026-01-29 02:34:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:34:58 --> ApiController initialized
DEBUG - 2026-01-29 02:34:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:02 --> ApiController initialized
DEBUG - 2026-01-29 02:35:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:02 --> ApiController initialized
DEBUG - 2026-01-29 02:35:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:28 --> ApiController initialized
DEBUG - 2026-01-29 02:35:28 --> ApiController initialized
DEBUG - 2026-01-29 02:35:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:32 --> ApiController initialized
DEBUG - 2026-01-29 02:35:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:32 --> ApiController initialized
DEBUG - 2026-01-29 02:35:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:58 --> ApiController initialized
DEBUG - 2026-01-29 02:35:58 --> ApiController initialized
DEBUG - 2026-01-29 02:35:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:35:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:02 --> ApiController initialized
DEBUG - 2026-01-29 02:36:02 --> ApiController initialized
DEBUG - 2026-01-29 02:36:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:27 --> ApiController initialized
DEBUG - 2026-01-29 02:36:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:27 --> ApiController initialized
DEBUG - 2026-01-29 02:36:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:31 --> ApiController initialized
DEBUG - 2026-01-29 02:36:31 --> ApiController initialized
DEBUG - 2026-01-29 02:36:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryY2Xw9F59AS9mhjMi
DEBUG - 2026-01-29 02:36:57 --> Processing form data
DEBUG - 2026-01-29 02:36:57 --> POST data: {"content":"bakit nag dodoble","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:36:57 --> Processed message data: {"sender_id":"1","content":"bakit nag dodoble","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:36:57 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:36:57 --> Inserting message data: {"sender_id":"1","content":"bakit nag dodoble","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:36:57","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:36:57 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:36:57 --> Message saved successfully with ID: 8
DEBUG - 2026-01-29 02:36:57 --> Sending message to socket server: {"event":"new_message","data":{"id":8,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"bakit nag dodoble","type":"text","file_url":null,"created_at":"2026-01-29 02:36:57","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:36:57 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:36:57.526Z"}
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> Found 0 users who have seen message 8
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:36:57 --> ApiController initialized
DEBUG - 2026-01-29 02:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:01 --> ApiController initialized
DEBUG - 2026-01-29 02:37:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:01 --> ApiController initialized
DEBUG - 2026-01-29 02:37:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:28 --> ApiController initialized
DEBUG - 2026-01-29 02:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:28 --> ApiController initialized
DEBUG - 2026-01-29 02:37:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:32 --> ApiController initialized
DEBUG - 2026-01-29 02:37:32 --> ApiController initialized
DEBUG - 2026-01-29 02:37:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:58 --> ApiController initialized
DEBUG - 2026-01-29 02:37:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:37:58 --> ApiController initialized
DEBUG - 2026-01-29 02:37:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:38:02 --> ApiController initialized
DEBUG - 2026-01-29 02:38:02 --> ApiController initialized
DEBUG - 2026-01-29 02:38:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:38:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:38:28 --> ApiController initialized
DEBUG - 2026-01-29 02:38:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:38:28 --> ApiController initialized
DEBUG - 2026-01-29 02:38:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:38:58 --> ApiController initialized
DEBUG - 2026-01-29 02:38:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:38:58 --> ApiController initialized
DEBUG - 2026-01-29 02:38:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:39:27 --> ApiController initialized
DEBUG - 2026-01-29 02:39:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:39:27 --> ApiController initialized
DEBUG - 2026-01-29 02:39:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:39:28 --> ApiController initialized
DEBUG - 2026-01-29 02:39:28 --> ApiController initialized
DEBUG - 2026-01-29 02:39:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:39:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:39:58 --> ApiController initialized
DEBUG - 2026-01-29 02:39:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:39:58 --> ApiController initialized
DEBUG - 2026-01-29 02:39:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:40:28 --> ApiController initialized
DEBUG - 2026-01-29 02:40:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:40:28 --> ApiController initialized
DEBUG - 2026-01-29 02:40:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:40:28 --> ApiController initialized
DEBUG - 2026-01-29 02:40:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:40:28 --> ApiController initialized
DEBUG - 2026-01-29 02:40:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:40:58 --> ApiController initialized
DEBUG - 2026-01-29 02:40:58 --> ApiController initialized
DEBUG - 2026-01-29 02:40:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:40:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:41:28 --> ApiController initialized
DEBUG - 2026-01-29 02:41:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:41:28 --> ApiController initialized
DEBUG - 2026-01-29 02:41:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:41:29 --> ApiController initialized
DEBUG - 2026-01-29 02:41:29 --> ApiController initialized
DEBUG - 2026-01-29 02:41:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:41:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:22 --> ApiController initialized
DEBUG - 2026-01-29 02:42:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:22 --> ApiController initialized
DEBUG - 2026-01-29 02:42:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:27 --> ApiController initialized
DEBUG - 2026-01-29 02:42:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:28 --> ApiController initialized
DEBUG - 2026-01-29 02:42:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:28 --> ApiController initialized
DEBUG - 2026-01-29 02:42:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:28 --> ApiController initialized
DEBUG - 2026-01-29 02:42:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:58 --> ApiController initialized
DEBUG - 2026-01-29 02:42:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:42:58 --> ApiController initialized
DEBUG - 2026-01-29 02:42:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:03 --> ApiController initialized
DEBUG - 2026-01-29 02:43:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:03 --> ApiController initialized
DEBUG - 2026-01-29 02:43:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 02:31:57","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 02:31:57","last_message":{"id":"8","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit nag dodoble","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:36:57","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> Groups data: []
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:43:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:43:05 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:43:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"8","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:43:05"}}
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> ApiController initialized
DEBUG - 2026-01-29 02:43:05 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:43:05.907Z"}
DEBUG - 2026-01-29 02:43:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:43:05"}}
DEBUG - 2026-01-29 02:43:05 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:43:05.910Z"}
DEBUG - 2026-01-29 02:43:05 --> Found 8 direct messages
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:06 --> ApiController initialized
DEBUG - 2026-01-29 02:43:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:06 --> Found 0 users who have seen message 7
DEBUG - 2026-01-29 02:43:14 --> ApiController initialized
DEBUG - 2026-01-29 02:43:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:14 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfbjiXi3QgVem5UBf
DEBUG - 2026-01-29 02:43:14 --> Processing form data
DEBUG - 2026-01-29 02:43:14 --> POST data: {"content":"oh no","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:43:14 --> Processed message data: {"sender_id":"3","content":"oh no","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:43:14 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:43:14 --> Inserting message data: {"sender_id":"3","content":"oh no","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:43:14","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:43:14 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:43:14 --> Message saved successfully with ID: 9
DEBUG - 2026-01-29 02:43:14 --> Sending message to socket server: {"event":"new_message","data":{"id":9,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"oh no","type":"text","file_url":null,"created_at":"2026-01-29 02:43:14","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:43:14 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:43:14.968Z"}
DEBUG - 2026-01-29 02:43:15 --> ApiController initialized
DEBUG - 2026-01-29 02:43:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:15 --> ApiController initialized
DEBUG - 2026-01-29 02:43:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:15 --> ApiController initialized
DEBUG - 2026-01-29 02:43:15 --> ApiController initialized
DEBUG - 2026-01-29 02:43:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:15 --> Found 0 users who have seen message 9
DEBUG - 2026-01-29 02:43:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Groups data: []
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 02:00:55","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 02:00:55","last_message":{"id":"9","sender_id":"3","receiver_id":"1","group_id":null,"content":"oh no","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:43:14","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:24 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 02:43:24 --> ApiController initialized
DEBUG - 2026-01-29 02:43:24 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:43:24 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 02:43:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"7","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:43:24"}}
DEBUG - 2026-01-29 02:43:24 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:43:24.756Z"}
DEBUG - 2026-01-29 02:43:24 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"9","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:43:24"}}
DEBUG - 2026-01-29 02:43:24 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:43:24.798Z"}
DEBUG - 2026-01-29 02:43:24 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 02:43:24"}}
DEBUG - 2026-01-29 02:43:24 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:43:24.801Z"}
DEBUG - 2026-01-29 02:43:24 --> Found 9 direct messages
DEBUG - 2026-01-29 02:43:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:28 --> ApiController initialized
DEBUG - 2026-01-29 02:43:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:28 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryVHARjazGMV43V9I7
DEBUG - 2026-01-29 02:43:28 --> Processing form data
DEBUG - 2026-01-29 02:43:28 --> POST data: {"content":"i dont know","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:43:28 --> Processed message data: {"sender_id":"1","content":"i dont know","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:43:28 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:43:28 --> Inserting message data: {"sender_id":"1","content":"i dont know","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:43:28","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:43:28 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:43:28 --> Message saved successfully with ID: 10
DEBUG - 2026-01-29 02:43:28 --> Sending message to socket server: {"event":"new_message","data":{"id":10,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"i dont know","type":"text","file_url":null,"created_at":"2026-01-29 02:43:28","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:43:28 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:43:28.350Z"}
DEBUG - 2026-01-29 02:43:28 --> ApiController initialized
DEBUG - 2026-01-29 02:43:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:28 --> ApiController initialized
DEBUG - 2026-01-29 02:43:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:28 --> ApiController initialized
DEBUG - 2026-01-29 02:43:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:28 --> ApiController initialized
DEBUG - 2026-01-29 02:43:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:28 --> Found 0 users who have seen message 10
DEBUG - 2026-01-29 02:43:35 --> ApiController initialized
DEBUG - 2026-01-29 02:43:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:35 --> ApiController initialized
DEBUG - 2026-01-29 02:43:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:55 --> ApiController initialized
DEBUG - 2026-01-29 02:43:55 --> ApiController initialized
DEBUG - 2026-01-29 02:43:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:43:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:05 --> ApiController initialized
DEBUG - 2026-01-29 02:44:05 --> ApiController initialized
DEBUG - 2026-01-29 02:44:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:25 --> ApiController initialized
DEBUG - 2026-01-29 02:44:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:25 --> ApiController initialized
DEBUG - 2026-01-29 02:44:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:36 --> ApiController initialized
DEBUG - 2026-01-29 02:44:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:36 --> ApiController initialized
DEBUG - 2026-01-29 02:44:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:55 --> ApiController initialized
DEBUG - 2026-01-29 02:44:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:44:55 --> ApiController initialized
DEBUG - 2026-01-29 02:44:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:06 --> ApiController initialized
DEBUG - 2026-01-29 02:45:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:06 --> ApiController initialized
DEBUG - 2026-01-29 02:45:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:19 --> ApiController initialized
DEBUG - 2026-01-29 02:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:19 --> ApiController initialized
DEBUG - 2026-01-29 02:45:19 --> ApiController initialized
DEBUG - 2026-01-29 02:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:19 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:45:19 --> ApiController initialized
DEBUG - 2026-01-29 02:45:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:45:19 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:45:19 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"10","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:45:19"}}
DEBUG - 2026-01-29 02:45:19 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:45:19.698Z"}
DEBUG - 2026-01-29 02:45:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:45:19"}}
DEBUG - 2026-01-29 02:45:19 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:45:19.702Z"}
DEBUG - 2026-01-29 02:45:19 --> Found 10 direct messages
DEBUG - 2026-01-29 02:45:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:25 --> ApiController initialized
DEBUG - 2026-01-29 02:45:25 --> ApiController initialized
DEBUG - 2026-01-29 02:45:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:30 --> ApiController initialized
DEBUG - 2026-01-29 02:45:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:30 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryT7bPVbokyAoDsdyU
DEBUG - 2026-01-29 02:45:30 --> Processing form data
DEBUG - 2026-01-29 02:45:30 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:45:30 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:45:30 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:45:30 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:45:30","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:45:30 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:45:30 --> Message saved successfully with ID: 11
DEBUG - 2026-01-29 02:45:30 --> Sending message to socket server: {"event":"new_message","data":{"id":11,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 02:45:30","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:45:30 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:45:30.556Z"}
DEBUG - 2026-01-29 02:45:30 --> ApiController initialized
DEBUG - 2026-01-29 02:45:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:31 --> ApiController initialized
DEBUG - 2026-01-29 02:45:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:54 --> ApiController initialized
DEBUG - 2026-01-29 02:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:45:54 --> ApiController initialized
DEBUG - 2026-01-29 02:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:22 --> ApiController initialized
DEBUG - 2026-01-29 02:46:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:22 --> ApiController initialized
DEBUG - 2026-01-29 02:46:22 --> ApiController initialized
DEBUG - 2026-01-29 02:46:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:46:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:46:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:46:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:46:22"}}
DEBUG - 2026-01-29 02:46:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:46:22.408Z"}
DEBUG - 2026-01-29 02:46:22 --> Found 11 direct messages
DEBUG - 2026-01-29 02:46:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:22 --> ApiController initialized
DEBUG - 2026-01-29 02:46:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:25 --> ApiController initialized
DEBUG - 2026-01-29 02:46:25 --> ApiController initialized
DEBUG - 2026-01-29 02:46:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:33 --> ApiController initialized
DEBUG - 2026-01-29 02:46:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:33 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryaQgfYZ9tOTKxS7c8
DEBUG - 2026-01-29 02:46:33 --> Processing form data
DEBUG - 2026-01-29 02:46:33 --> POST data: {"content":"im sender","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:46:33 --> Processed message data: {"sender_id":"3","content":"im sender","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:46:33 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:46:33 --> Inserting message data: {"sender_id":"3","content":"im sender","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:46:33","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:46:33 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:46:33 --> Message saved successfully with ID: 12
DEBUG - 2026-01-29 02:46:33 --> Sending message to socket server: {"event":"new_message","data":{"id":12,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"im sender","type":"text","file_url":null,"created_at":"2026-01-29 02:46:33","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:46:33 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:46:33.565Z"}
DEBUG - 2026-01-29 02:46:34 --> ApiController initialized
DEBUG - 2026-01-29 02:46:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:34 --> ApiController initialized
DEBUG - 2026-01-29 02:46:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:42 --> ApiController initialized
DEBUG - 2026-01-29 02:46:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:42 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarysNeBt9ymNGmACBwA
DEBUG - 2026-01-29 02:46:42 --> Processing form data
DEBUG - 2026-01-29 02:46:42 --> POST data: {"content":"im sender","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:46:42 --> Processed message data: {"sender_id":"3","content":"im sender","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:46:42 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:46:42 --> Inserting message data: {"sender_id":"3","content":"im sender","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:46:42","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:46:42 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:46:42 --> Message saved successfully with ID: 13
DEBUG - 2026-01-29 02:46:42 --> Sending message to socket server: {"event":"new_message","data":{"id":13,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"im sender","type":"text","file_url":null,"created_at":"2026-01-29 02:46:42","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:46:42 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:46:42.449Z"}
DEBUG - 2026-01-29 02:46:42 --> ApiController initialized
DEBUG - 2026-01-29 02:46:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:42 --> ApiController initialized
DEBUG - 2026-01-29 02:46:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:49 --> ApiController initialized
DEBUG - 2026-01-29 02:46:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:49 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary3A1JD6kmSaqs4qtQ
DEBUG - 2026-01-29 02:46:49 --> Processing form data
DEBUG - 2026-01-29 02:46:49 --> POST data: {"content":"huh","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:46:49 --> Processed message data: {"sender_id":"1","content":"huh","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:46:49 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:46:49 --> Inserting message data: {"sender_id":"1","content":"huh","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:46:49","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:46:49 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:46:49 --> Message saved successfully with ID: 14
DEBUG - 2026-01-29 02:46:49 --> Sending message to socket server: {"event":"new_message","data":{"id":14,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"huh","type":"text","file_url":null,"created_at":"2026-01-29 02:46:49","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:46:49 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:46:49.229Z"}
DEBUG - 2026-01-29 02:46:49 --> ApiController initialized
DEBUG - 2026-01-29 02:46:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:49 --> ApiController initialized
DEBUG - 2026-01-29 02:46:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:49 --> Found 0 users who have seen message 14
DEBUG - 2026-01-29 02:46:49 --> ApiController initialized
DEBUG - 2026-01-29 02:46:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:49 --> Found 0 users who have seen message 14
DEBUG - 2026-01-29 02:46:55 --> ApiController initialized
DEBUG - 2026-01-29 02:46:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:46:55 --> ApiController initialized
DEBUG - 2026-01-29 02:46:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:47:25 --> ApiController initialized
DEBUG - 2026-01-29 02:47:25 --> ApiController initialized
DEBUG - 2026-01-29 02:47:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:47:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:47:55 --> ApiController initialized
DEBUG - 2026-01-29 02:47:55 --> ApiController initialized
DEBUG - 2026-01-29 02:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:48:25 --> ApiController initialized
DEBUG - 2026-01-29 02:48:25 --> ApiController initialized
DEBUG - 2026-01-29 02:48:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:48:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:48:55 --> ApiController initialized
DEBUG - 2026-01-29 02:48:55 --> ApiController initialized
DEBUG - 2026-01-29 02:48:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:48:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:25 --> ApiController initialized
DEBUG - 2026-01-29 02:49:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:25 --> ApiController initialized
DEBUG - 2026-01-29 02:49:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:51 --> ApiController initialized
DEBUG - 2026-01-29 02:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:51 --> ApiController initialized
DEBUG - 2026-01-29 02:49:51 --> ApiController initialized
DEBUG - 2026-01-29 02:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:51 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:49:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:49:51 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:49:51 --> ApiController initialized
DEBUG - 2026-01-29 02:49:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"14","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:49:51"}}
DEBUG - 2026-01-29 02:49:51 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:49:51.423Z"}
DEBUG - 2026-01-29 02:49:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:49:51"}}
DEBUG - 2026-01-29 02:49:51 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:49:51.427Z"}
DEBUG - 2026-01-29 02:49:51 --> Found 14 direct messages
DEBUG - 2026-01-29 02:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:56 --> ApiController initialized
DEBUG - 2026-01-29 02:49:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:49:56 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary5amPSza3ZcmTdnXP
DEBUG - 2026-01-29 02:49:56 --> Processing form data
DEBUG - 2026-01-29 02:49:56 --> POST data: {"content":"WHAT","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:49:56 --> Processed message data: {"sender_id":"3","content":"WHAT","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:49:56 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:49:56 --> Inserting message data: {"sender_id":"3","content":"WHAT","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:49:56","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:49:56 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:49:56 --> Message saved successfully with ID: 15
DEBUG - 2026-01-29 02:49:56 --> Sending message to socket server: {"event":"new_message","data":{"id":15,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"WHAT","type":"text","file_url":null,"created_at":"2026-01-29 02:49:56","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:49:56 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:49:56.431Z"}
DEBUG - 2026-01-29 02:50:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:50:01 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:50:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:50:01"}}
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:01 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:50:01.451Z"}
DEBUG - 2026-01-29 02:50:01 --> Found 15 direct messages
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:01 --> ApiController initialized
DEBUG - 2026-01-29 02:50:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:02 --> ApiController initialized
DEBUG - 2026-01-29 02:50:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:08 --> ApiController initialized
DEBUG - 2026-01-29 02:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:08 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryCkIo0qrjayxFPAbA
DEBUG - 2026-01-29 02:50:08 --> Processing form data
DEBUG - 2026-01-29 02:50:08 --> POST data: {"content":"broken","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:50:08 --> Processed message data: {"sender_id":"1","content":"broken","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:50:08 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:50:08 --> Inserting message data: {"sender_id":"1","content":"broken","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:50:08","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:50:08 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:50:08 --> Message saved successfully with ID: 16
DEBUG - 2026-01-29 02:50:08 --> Sending message to socket server: {"event":"new_message","data":{"id":16,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"broken","type":"text","file_url":null,"created_at":"2026-01-29 02:50:08","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:50:08 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:50:08.327Z"}
DEBUG - 2026-01-29 02:50:08 --> ApiController initialized
DEBUG - 2026-01-29 02:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:08 --> ApiController initialized
DEBUG - 2026-01-29 02:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:08 --> Found 0 users who have seen message 16
DEBUG - 2026-01-29 02:50:12 --> ApiController initialized
DEBUG - 2026-01-29 02:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:12 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7WvTmPb0UAN4rPZv
DEBUG - 2026-01-29 02:50:12 --> Processing form data
DEBUG - 2026-01-29 02:50:12 --> POST data: {"content":"whatt","receiver_id":"3","type":"text","csrf_test_name":"9bcc035aae92d600602d8fca7d41740e"}
DEBUG - 2026-01-29 02:50:12 --> Processed message data: {"sender_id":"1","content":"whatt","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:50:12 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:50:12 --> Inserting message data: {"sender_id":"1","content":"whatt","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:50:12","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 02:50:12 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:50:12 --> Message saved successfully with ID: 17
DEBUG - 2026-01-29 02:50:12 --> Sending message to socket server: {"event":"new_message","data":{"id":17,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"whatt","type":"text","file_url":null,"created_at":"2026-01-29 02:50:12","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:50:12 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:50:12.499Z"}
DEBUG - 2026-01-29 02:50:12 --> ApiController initialized
DEBUG - 2026-01-29 02:50:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:13 --> ApiController initialized
DEBUG - 2026-01-29 02:50:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:13 --> Found 0 users who have seen message 17
DEBUG - 2026-01-29 02:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:21 --> ApiController initialized
DEBUG - 2026-01-29 02:50:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:21 --> ApiController initialized
DEBUG - 2026-01-29 02:50:21 --> ApiController initialized
DEBUG - 2026-01-29 02:50:21 --> ApiController initialized
DEBUG - 2026-01-29 02:50:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:21 --> Groups data: []
DEBUG - 2026-01-29 02:50:21 --> ApiController initialized
DEBUG - 2026-01-29 02:50:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:21 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 02:31:57","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 02:31:57","last_message":{"id":"17","sender_id":"1","receiver_id":"3","group_id":null,"content":"whatt","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 10:50:12","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 02:50:21 --> ApiController initialized
DEBUG - 2026-01-29 02:50:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:23 --> ApiController initialized
DEBUG - 2026-01-29 02:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:23 --> ApiController initialized
DEBUG - 2026-01-29 02:50:23 --> ApiController initialized
DEBUG - 2026-01-29 02:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:23 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 02:50:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 02:50:23 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 02:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"16","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:50:23"}}
DEBUG - 2026-01-29 02:50:23 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:50:23.601Z"}
DEBUG - 2026-01-29 02:50:23 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"17","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 02:50:23"}}
DEBUG - 2026-01-29 02:50:23 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T02:50:23.662Z"}
DEBUG - 2026-01-29 02:50:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 02:50:23"}}
DEBUG - 2026-01-29 02:50:23 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T02:50:23.665Z"}
DEBUG - 2026-01-29 02:50:23 --> Found 17 direct messages
DEBUG - 2026-01-29 02:50:23 --> ApiController initialized
DEBUG - 2026-01-29 02:50:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:26 --> ApiController initialized
DEBUG - 2026-01-29 02:50:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 02:50:26 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryuLnIKV3FJ7gu8S26
DEBUG - 2026-01-29 02:50:26 --> Processing form data
DEBUG - 2026-01-29 02:50:26 --> POST data: {"content":"lol","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 02:50:26 --> Processed message data: {"sender_id":"3","content":"lol","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 02:50:26 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 02:50:26 --> Inserting message data: {"sender_id":"3","content":"lol","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 10:50:26","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 02:50:26 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 02:50:27 --> Message saved successfully with ID: 18
DEBUG - 2026-01-29 02:50:27 --> Sending message to socket server: {"event":"new_message","data":{"id":18,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"lol","type":"text","file_url":null,"created_at":"2026-01-29 02:50:27","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 02:50:27 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T02:50:27.034Z"}
DEBUG - 2026-01-29 03:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:22 --> ApiController initialized
DEBUG - 2026-01-29 03:28:22 --> ApiController initialized
DEBUG - 2026-01-29 03:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:22 --> ApiController initialized
DEBUG - 2026-01-29 03:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:28:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:28:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:28:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:28:22"}}
DEBUG - 2026-01-29 03:28:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:28:22.793Z"}
DEBUG - 2026-01-29 03:28:22 --> Found 18 direct messages
DEBUG - 2026-01-29 03:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:22 --> ApiController initialized
DEBUG - 2026-01-29 03:28:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:26 --> ApiController initialized
DEBUG - 2026-01-29 03:28:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:26 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarywY9WueUwoFwJk9DD
DEBUG - 2026-01-29 03:28:26 --> Processing form data
DEBUG - 2026-01-29 03:28:26 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:28:26 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:28:26 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:28:26 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:28:26","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:28:26 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:28:26 --> Message saved successfully with ID: 19
DEBUG - 2026-01-29 03:28:26 --> Sending message to socket server: {"event":"new_message","data":{"id":19,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 03:28:26","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:28:26 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:28:26.534Z"}
DEBUG - 2026-01-29 03:28:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:33 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:28:33 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:28:33 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:28:33 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:28:33 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:28:33 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:46 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:28:46 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:28:46 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:28:46 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:28:46 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:28:46 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:55 --> ApiController initialized
DEBUG - 2026-01-29 03:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:55 --> ApiController initialized
DEBUG - 2026-01-29 03:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:55 --> ApiController initialized
DEBUG - 2026-01-29 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:56 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 02:00:55","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:28:28","last_message":{"id":"19","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:28:26","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":6,"online":false}]
DEBUG - 2026-01-29 03:28:56 --> ApiController initialized
DEBUG - 2026-01-29 03:28:56 --> ApiController initialized
DEBUG - 2026-01-29 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:56 --> Groups data: []
DEBUG - 2026-01-29 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:56 --> ApiController initialized
DEBUG - 2026-01-29 03:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:57 --> ApiController initialized
DEBUG - 2026-01-29 03:28:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:57 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 03:28:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:28:57 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 03:28:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"11","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:28:58.017Z"}
DEBUG - 2026-01-29 03:28:58 --> ApiController initialized
DEBUG - 2026-01-29 03:28:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"12","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:28:58.033Z"}
DEBUG - 2026-01-29 03:28:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"13","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:28:58.040Z"}
DEBUG - 2026-01-29 03:28:58 --> ApiController initialized
DEBUG - 2026-01-29 03:28:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"15","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:28:58.051Z"}
DEBUG - 2026-01-29 03:28:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"18","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:28:58.064Z"}
DEBUG - 2026-01-29 03:28:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"19","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:28:58.073Z"}
DEBUG - 2026-01-29 03:28:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 03:28:58"}}
DEBUG - 2026-01-29 03:28:58 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:28:58.082Z"}
DEBUG - 2026-01-29 03:28:58 --> Found 19 direct messages
DEBUG - 2026-01-29 03:28:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:28:58 --> ApiController initialized
DEBUG - 2026-01-29 03:28:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:04 --> ApiController initialized
DEBUG - 2026-01-29 03:29:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryhwbowf17KgaMBDGB
DEBUG - 2026-01-29 03:29:04 --> Processing form data
DEBUG - 2026-01-29 03:29:04 --> POST data: {"content":"is this working","receiver_id":"3","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:29:04 --> Processed message data: {"sender_id":"1","content":"is this working","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:29:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:29:04 --> Inserting message data: {"sender_id":"1","content":"is this working","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:29:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 03:29:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:29:04 --> Message saved successfully with ID: 20
DEBUG - 2026-01-29 03:29:04 --> Sending message to socket server: {"event":"new_message","data":{"id":20,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"is this working","type":"text","file_url":null,"created_at":"2026-01-29 03:29:04","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:29:04 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:29:04.698Z"}
DEBUG - 2026-01-29 03:29:11 --> ApiController initialized
DEBUG - 2026-01-29 03:29:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:11 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryOsbH7BJRUWKAKkqd
DEBUG - 2026-01-29 03:29:11 --> Processing form data
DEBUG - 2026-01-29 03:29:11 --> POST data: {"content":"test","receiver_id":"3","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:29:11 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:29:11 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:29:11 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:29:11","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 03:29:11 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:29:11 --> Message saved successfully with ID: 21
DEBUG - 2026-01-29 03:29:11 --> Sending message to socket server: {"event":"new_message","data":{"id":21,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 03:29:11","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:29:11 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:29:11.661Z"}
DEBUG - 2026-01-29 03:29:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:32 --> ApiController initialized
DEBUG - 2026-01-29 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:32 --> ApiController initialized
DEBUG - 2026-01-29 03:29:32 --> ApiController initialized
DEBUG - 2026-01-29 03:29:32 --> ApiController initialized
DEBUG - 2026-01-29 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 03:28:46","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 03:29:26","last_message":{"id":"21","sender_id":"1","receiver_id":"3","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:29:11","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:32 --> Groups data: []
DEBUG - 2026-01-29 03:29:32 --> ApiController initialized
DEBUG - 2026-01-29 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:32 --> ApiController initialized
DEBUG - 2026-01-29 03:29:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:34 --> ApiController initialized
DEBUG - 2026-01-29 03:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:34 --> ApiController initialized
DEBUG - 2026-01-29 03:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:34 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:29:34 --> ApiController initialized
DEBUG - 2026-01-29 03:29:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:29:34 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:29:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"20","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:29:34"}}
DEBUG - 2026-01-29 03:29:34 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:29:34.819Z"}
DEBUG - 2026-01-29 03:29:34 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"21","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:29:34"}}
DEBUG - 2026-01-29 03:29:34 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:29:34.827Z"}
DEBUG - 2026-01-29 03:29:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:29:34"}}
DEBUG - 2026-01-29 03:29:34 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:29:34.834Z"}
DEBUG - 2026-01-29 03:29:34 --> Found 21 direct messages
DEBUG - 2026-01-29 03:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:34 --> ApiController initialized
DEBUG - 2026-01-29 03:29:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:38 --> ApiController initialized
DEBUG - 2026-01-29 03:29:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:29:38 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarypB9q0NvctfyoNjoe
DEBUG - 2026-01-29 03:29:38 --> Processing form data
DEBUG - 2026-01-29 03:29:38 --> POST data: {"content":"luh","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:29:38 --> Processed message data: {"sender_id":"3","content":"luh","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:29:38 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:29:38 --> Inserting message data: {"sender_id":"3","content":"luh","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:29:38","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:29:38 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:29:38 --> Message saved successfully with ID: 22
DEBUG - 2026-01-29 03:29:38 --> Sending message to socket server: {"event":"new_message","data":{"id":22,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"luh","type":"text","file_url":null,"created_at":"2026-01-29 03:29:38","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:29:38 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:29:38.479Z"}
DEBUG - 2026-01-29 03:37:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:08 --> ApiController initialized
DEBUG - 2026-01-29 03:37:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:08 --> ApiController initialized
DEBUG - 2026-01-29 03:37:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:08 --> ApiController initialized
DEBUG - 2026-01-29 03:37:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:08 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:37:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:37:08 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:37:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:37:08"}}
DEBUG - 2026-01-29 03:37:08 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:37:08.472Z"}
DEBUG - 2026-01-29 03:37:08 --> Found 22 direct messages
DEBUG - 2026-01-29 03:37:08 --> ApiController initialized
DEBUG - 2026-01-29 03:37:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:17 --> ApiController initialized
DEBUG - 2026-01-29 03:37:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:17 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryXUqr41uXxDlDOStK
DEBUG - 2026-01-29 03:37:17 --> Processing form data
DEBUG - 2026-01-29 03:37:17 --> POST data: {"content":"hi","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:37:17 --> Processed message data: {"sender_id":"3","content":"hi","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:37:17 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:37:17 --> Inserting message data: {"sender_id":"3","content":"hi","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:37:17","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:37:17 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:37:17 --> Message saved successfully with ID: 23
DEBUG - 2026-01-29 03:37:17 --> Sending message to socket server: {"event":"new_message","data":{"id":23,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"hi","type":"text","file_url":null,"created_at":"2026-01-29 03:37:17","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:37:17 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:37:17.872Z"}
DEBUG - 2026-01-29 03:37:45 --> ApiController initialized
DEBUG - 2026-01-29 03:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:37:45 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryAjQI9EuvOZzsKM2t
DEBUG - 2026-01-29 03:37:45 --> Processing form data
DEBUG - 2026-01-29 03:37:45 --> POST data: {"content":"\ud83e\udd14","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:37:45 --> Processed message data: {"sender_id":"3","content":"\ud83e\udd14","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:37:45 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:37:45 --> Inserting message data: {"sender_id":"3","content":"\ud83e\udd14","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:37:45","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:37:45 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:37:45 --> Message saved successfully with ID: 24
DEBUG - 2026-01-29 03:37:45 --> Sending message to socket server: {"event":"new_message","data":{"id":24,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83e\udd14","type":"text","file_url":null,"created_at":"2026-01-29 03:37:45","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:37:45 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:37:45.752Z"}
DEBUG - 2026-01-29 03:39:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:39:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:39:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:39:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:39:56 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:39:56 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:39:56 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:39:56 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:39:56 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:39:56 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:40:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:02 --> ApiController initialized
DEBUG - 2026-01-29 03:40:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:03 --> ApiController initialized
DEBUG - 2026-01-29 03:40:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:03 --> ApiController initialized
DEBUG - 2026-01-29 03:40:03 --> ApiController initialized
DEBUG - 2026-01-29 03:40:03 --> ApiController initialized
DEBUG - 2026-01-29 03:40:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:03 --> Groups data: []
DEBUG - 2026-01-29 03:40:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:03 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 03:29:31","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:39:52","last_message":{"id":"24","sender_id":"3","receiver_id":"1","group_id":null,"content":"?","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:37:45","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":3,"online":false}]
DEBUG - 2026-01-29 03:40:03 --> ApiController initialized
DEBUG - 2026-01-29 03:40:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:04 --> ApiController initialized
DEBUG - 2026-01-29 03:40:04 --> ApiController initialized
DEBUG - 2026-01-29 03:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:04 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 03:40:04 --> ApiController initialized
DEBUG - 2026-01-29 03:40:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:40:04 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 03:40:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"22","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:40:04"}}
DEBUG - 2026-01-29 03:40:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:40:04.768Z"}
DEBUG - 2026-01-29 03:40:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"23","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:40:04"}}
DEBUG - 2026-01-29 03:40:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:40:04.788Z"}
DEBUG - 2026-01-29 03:40:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"24","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:40:04"}}
DEBUG - 2026-01-29 03:40:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:40:04.795Z"}
DEBUG - 2026-01-29 03:40:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 03:40:04"}}
DEBUG - 2026-01-29 03:40:04 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:40:04.798Z"}
DEBUG - 2026-01-29 03:40:04 --> Found 24 direct messages
DEBUG - 2026-01-29 03:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:05 --> ApiController initialized
DEBUG - 2026-01-29 03:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:07 --> ApiController initialized
DEBUG - 2026-01-29 03:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:07 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryQJyMmz0jTe0mQlfu
DEBUG - 2026-01-29 03:40:07 --> Processing form data
DEBUG - 2026-01-29 03:40:07 --> POST data: {"content":"bakit","receiver_id":"3","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:40:07 --> Processed message data: {"sender_id":"1","content":"bakit","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:40:07 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:40:07 --> Inserting message data: {"sender_id":"1","content":"bakit","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:40:07","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 03:40:07 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:40:07 --> Message saved successfully with ID: 25
DEBUG - 2026-01-29 03:40:07 --> Sending message to socket server: {"event":"new_message","data":{"id":25,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"bakit","type":"text","file_url":null,"created_at":"2026-01-29 03:40:07","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:40:07 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:40:07.574Z"}
DEBUG - 2026-01-29 03:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> ApiController initialized
DEBUG - 2026-01-29 03:40:18 --> ApiController initialized
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> ApiController initialized
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> ApiController initialized
DEBUG - 2026-01-29 03:40:18 --> Groups data: []
DEBUG - 2026-01-29 03:40:18 --> ApiController initialized
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 03:39:56","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 03:40:14","last_message":{"id":"25","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:40:07","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:18 --> ApiController initialized
DEBUG - 2026-01-29 03:40:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:21 --> ApiController initialized
DEBUG - 2026-01-29 03:40:21 --> ApiController initialized
DEBUG - 2026-01-29 03:40:21 --> ApiController initialized
DEBUG - 2026-01-29 03:40:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:21 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:40:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:40:21 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:40:21 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"25","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:40:21"}}
DEBUG - 2026-01-29 03:40:21 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:40:21.296Z"}
DEBUG - 2026-01-29 03:40:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:40:21"}}
DEBUG - 2026-01-29 03:40:21 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:40:21.299Z"}
DEBUG - 2026-01-29 03:40:21 --> Found 25 direct messages
DEBUG - 2026-01-29 03:40:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:21 --> ApiController initialized
DEBUG - 2026-01-29 03:40:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:29 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:40:29 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:40:29 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:40:29 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:40:29 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:40:29 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:33 --> ApiController initialized
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:33 --> Groups data: []
DEBUG - 2026-01-29 03:40:33 --> ApiController initialized
DEBUG - 2026-01-29 03:40:33 --> ApiController initialized
DEBUG - 2026-01-29 03:40:33 --> ApiController initialized
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:33 --> ApiController initialized
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:33 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 03:40:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:40:24","last_message":{"id":"25","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:40:07","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:33 --> ApiController initialized
DEBUG - 2026-01-29 03:40:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:35 --> ApiController initialized
DEBUG - 2026-01-29 03:40:35 --> ApiController initialized
DEBUG - 2026-01-29 03:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:35 --> ApiController initialized
DEBUG - 2026-01-29 03:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:35 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 03:40:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:40:35 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 03:40:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 03:40:35"}}
DEBUG - 2026-01-29 03:40:35 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:40:35.519Z"}
DEBUG - 2026-01-29 03:40:35 --> Found 25 direct messages
DEBUG - 2026-01-29 03:40:35 --> ApiController initialized
DEBUG - 2026-01-29 03:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:40:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2026-01-29 03:40:58 --> ErrorException: Undefined array key "sender_type"
[Method: GET, Route: chat/direct/3]
in APPPATH\Views\chat\direct_chat.php on line 374.
 1 APPPATH\Views\chat\direct_chat.php(374): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined array key "sender_type"', 'C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php', 374)
 2 SYSTEMPATH\View\View.php(224): include('C:\\xampp\\htdocs\\chat-app\\backend\\app\\Views\\chat\\direct_chat.php')
 3 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('chat/direct_chat', [], true)
 5 APPPATH\Controllers\Chat.php(84): view('chat/direct_chat', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Chat->directChat('3')
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Chat))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(71): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:01 --> ApiController initialized
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:01 --> ApiController initialized
DEBUG - 2026-01-29 03:41:01 --> ApiController initialized
DEBUG - 2026-01-29 03:41:01 --> ApiController initialized
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:01 --> ApiController initialized
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:01 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 03:40:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:40:24","last_message":{"id":"25","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:40:07","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:01 --> Groups data: []
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:01 --> ApiController initialized
DEBUG - 2026-01-29 03:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> ApiController initialized
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> ApiController initialized
DEBUG - 2026-01-29 03:41:22 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 03:40:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:40:24","last_message":{"id":"25","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:40:07","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:41:22 --> ApiController initialized
DEBUG - 2026-01-29 03:41:22 --> ApiController initialized
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> ApiController initialized
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:22 --> Groups data: []
DEBUG - 2026-01-29 03:41:22 --> ApiController initialized
DEBUG - 2026-01-29 03:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:41:53 --> ApiController initialized
DEBUG - 2026-01-29 03:41:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:42:23 --> ApiController initialized
DEBUG - 2026-01-29 03:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:42:53 --> ApiController initialized
DEBUG - 2026-01-29 03:42:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:09 --> ApiController initialized
DEBUG - 2026-01-29 03:43:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:09 --> ApiController initialized
DEBUG - 2026-01-29 03:43:09 --> ApiController initialized
DEBUG - 2026-01-29 03:43:09 --> Groups data: []
DEBUG - 2026-01-29 03:43:09 --> ApiController initialized
DEBUG - 2026-01-29 03:43:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:09 --> ApiController initialized
DEBUG - 2026-01-29 03:43:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 03:40:18","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:40:24","last_message":{"id":"25","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:40:07","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:43:09 --> ApiController initialized
DEBUG - 2026-01-29 03:43:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:10 --> ApiController initialized
DEBUG - 2026-01-29 03:43:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:10 --> ApiController initialized
DEBUG - 2026-01-29 03:43:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:10 --> ApiController initialized
DEBUG - 2026-01-29 03:43:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:10 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 03:43:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:43:10 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 03:43:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 03:43:10"}}
DEBUG - 2026-01-29 03:43:10 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:43:10.931Z"}
DEBUG - 2026-01-29 03:43:10 --> Found 25 direct messages
DEBUG - 2026-01-29 03:43:11 --> ApiController initialized
DEBUG - 2026-01-29 03:43:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:47 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:43:47 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:43:47 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:43:47 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:43:47 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:43:47 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:56 --> ApiController initialized
DEBUG - 2026-01-29 03:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:56 --> ApiController initialized
DEBUG - 2026-01-29 03:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:56 --> ApiController initialized
DEBUG - 2026-01-29 03:43:56 --> ApiController initialized
DEBUG - 2026-01-29 03:43:56 --> ApiController initialized
DEBUG - 2026-01-29 03:43:56 --> Groups data: []
DEBUG - 2026-01-29 03:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:57 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 03:40:29","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 03:43:48","last_message":{"id":"25","sender_id":"1","receiver_id":"3","group_id":null,"content":"bakit","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:40:07","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:43:57 --> ApiController initialized
DEBUG - 2026-01-29 03:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:59 --> ApiController initialized
DEBUG - 2026-01-29 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:59 --> ApiController initialized
DEBUG - 2026-01-29 03:43:59 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:43:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:43:59 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:43:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:43:59"}}
DEBUG - 2026-01-29 03:43:59 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:43:59.769Z"}
DEBUG - 2026-01-29 03:43:59 --> Found 25 direct messages
DEBUG - 2026-01-29 03:43:59 --> ApiController initialized
DEBUG - 2026-01-29 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:43:59 --> ApiController initialized
DEBUG - 2026-01-29 03:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:48:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:48:20 --> ApiController initialized
DEBUG - 2026-01-29 03:48:20 --> ApiController initialized
DEBUG - 2026-01-29 03:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:48:20 --> ApiController initialized
DEBUG - 2026-01-29 03:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:48:20 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:48:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:48:20 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:48:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:48:20"}}
DEBUG - 2026-01-29 03:48:20 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:48:20.414Z"}
DEBUG - 2026-01-29 03:48:20 --> Found 25 direct messages
DEBUG - 2026-01-29 03:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:48:20 --> ApiController initialized
DEBUG - 2026-01-29 03:48:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:35 --> ApiController initialized
DEBUG - 2026-01-29 03:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:35 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:50:35 --> ApiController initialized
DEBUG - 2026-01-29 03:50:35 --> ApiController initialized
DEBUG - 2026-01-29 03:50:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:50:35 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:50:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:50:35"}}
DEBUG - 2026-01-29 03:50:35 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:50:35.564Z"}
DEBUG - 2026-01-29 03:50:35 --> Found 25 direct messages
DEBUG - 2026-01-29 03:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:35 --> ApiController initialized
DEBUG - 2026-01-29 03:50:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:42 --> ApiController initialized
DEBUG - 2026-01-29 03:50:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:50:42 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryakw4mE9Th2Aq8shv
DEBUG - 2026-01-29 03:50:42 --> Processing form data
DEBUG - 2026-01-29 03:50:42 --> POST data: {"content":"testttttttttinnnnnnnnng","receiver_id":"1","type":"text","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:50:42 --> Processed message data: {"sender_id":"3","content":"testttttttttinnnnnnnnng","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:50:42 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:50:42 --> Inserting message data: {"sender_id":"3","content":"testttttttttinnnnnnnnng","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:50:42","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:50:42 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:50:42 --> Message saved successfully with ID: 26
DEBUG - 2026-01-29 03:50:42 --> Sending message to socket server: {"event":"new_message","data":{"id":26,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"testttttttttinnnnnnnnng","type":"text","file_url":null,"created_at":"2026-01-29 03:50:42","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:50:42 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:50:42.928Z"}
DEBUG - 2026-01-29 03:51:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:29 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:51:29 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:51:29 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:51:29 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:51:29 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:51:29 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:34 --> ApiController initialized
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:34 --> ApiController initialized
DEBUG - 2026-01-29 03:51:34 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 03:43:56","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 03:43:56","last_message":{"id":"26","sender_id":"3","receiver_id":"1","group_id":null,"content":"testttttttttinnnnnnnnng","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:50:42","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 03:51:34 --> ApiController initialized
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:34 --> ApiController initialized
DEBUG - 2026-01-29 03:51:34 --> ApiController initialized
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:34 --> Groups data: []
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:34 --> ApiController initialized
DEBUG - 2026-01-29 03:51:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:37 --> ApiController initialized
DEBUG - 2026-01-29 03:51:37 --> ApiController initialized
DEBUG - 2026-01-29 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:37 --> ApiController initialized
DEBUG - 2026-01-29 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:51:37 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 03:51:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:51:37 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 03:51:37 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"26","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 03:51:37"}}
DEBUG - 2026-01-29 03:51:37 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T03:51:37.752Z"}
DEBUG - 2026-01-29 03:51:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 03:51:37"}}
DEBUG - 2026-01-29 03:51:37 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:51:37.755Z"}
DEBUG - 2026-01-29 03:51:37 --> Found 26 direct messages
DEBUG - 2026-01-29 03:51:37 --> ApiController initialized
DEBUG - 2026-01-29 03:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:52:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:52:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:52:34 --> ApiController initialized
DEBUG - 2026-01-29 03:52:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:52:34 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 03:51:29","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 03:52:23","last_message":{"id":"26","sender_id":"3","receiver_id":"1","group_id":null,"content":"testttttttttinnnnnnnnng","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:50:42","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> ApiController initialized
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> ApiController initialized
DEBUG - 2026-01-29 03:53:31 --> ApiController initialized
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> ApiController initialized
DEBUG - 2026-01-29 03:53:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 03:51:29","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 03:52:23","last_message":{"id":"26","sender_id":"3","receiver_id":"1","group_id":null,"content":"testttttttttinnnnnnnnng","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 11:50:42","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> Groups data: []
DEBUG - 2026-01-29 03:53:31 --> ApiController initialized
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:31 --> ApiController initialized
DEBUG - 2026-01-29 03:53:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:33 --> ApiController initialized
DEBUG - 2026-01-29 03:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:33 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:53:33 --> ApiController initialized
DEBUG - 2026-01-29 03:53:33 --> ApiController initialized
DEBUG - 2026-01-29 03:53:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:53:33 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:53:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:53:33"}}
DEBUG - 2026-01-29 03:53:33 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:53:33.495Z"}
DEBUG - 2026-01-29 03:53:33 --> Found 26 direct messages
DEBUG - 2026-01-29 03:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:33 --> ApiController initialized
DEBUG - 2026-01-29 03:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:40 --> ApiController initialized
DEBUG - 2026-01-29 03:53:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:40 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryz4Kb0FfChalPeuV8
DEBUG - 2026-01-29 03:53:40 --> Processing form data
DEBUG - 2026-01-29 03:53:40 --> POST data: {"content":"boss chan","receiver_id":"1","type":"text","csrf_test_name":"2bdc44887f9b2a30928c22b1432cdefb"}
DEBUG - 2026-01-29 03:53:40 --> Processed message data: {"sender_id":"3","content":"boss chan","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 03:53:40 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:53:40 --> Inserting message data: {"sender_id":"3","content":"boss chan","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 11:53:40","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:53:40 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:53:40 --> Message saved successfully with ID: 27
DEBUG - 2026-01-29 03:53:40 --> Sending message to socket server: {"event":"new_message","data":{"id":27,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"boss chan","type":"text","file_url":null,"created_at":"2026-01-29 03:53:40","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:53:40 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:53:40.471Z"}
DEBUG - 2026-01-29 03:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:53:52 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 03:53:52 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 03:53:52 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 03:53:52 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 03:53:52 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 03:53:52 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 03:54:35 --> ApiController initialized
DEBUG - 2026-01-29 03:54:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:54:35 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryYCh9K2Zpi9tJW3KL
DEBUG - 2026-01-29 03:54:35 --> Processing form data
DEBUG - 2026-01-29 03:54:35 --> POST data: {"content":"\ud83d\udcf7 Image: download.png","receiver_id":"1","type":"image","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:54:35 --> File uploaded: 1769658875_202c3968a78b1b4e429f21e92b8a2eec.png, Original: download.png, Size: 6177, Type: image
DEBUG - 2026-01-29 03:54:35 --> Processed message data: {"sender_id":"3","content":"\ud83d\udcf7 Image: download.png","type":"image","is_group":0,"group_id":null,"receiver_id":"1","file_url":"1769658875_202c3968a78b1b4e429f21e92b8a2eec.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"original_filename":"download.png","file_size":6177}
DEBUG - 2026-01-29 03:54:35 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:54:35 --> Inserting message data: {"sender_id":"3","content":"File: download.png","type":"image","file_url":"1769658875_202c3968a78b1b4e429f21e92b8a2eec.png","is_group":0,"created_at":"2026-01-29 11:54:35","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:54:35 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:54:35 --> Message saved successfully with ID: 28
DEBUG - 2026-01-29 03:54:35 --> Sending message to socket server: {"event":"new_message","data":{"id":28,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\udcf7 Image: download.png","type":"image","file_url":"1769658875_202c3968a78b1b4e429f21e92b8a2eec.png","created_at":"2026-01-29 03:54:35","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:54:35 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:54:35.214Z"}
DEBUG - 2026-01-29 03:54:42 --> ApiController initialized
DEBUG - 2026-01-29 03:54:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:54:42 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryCCAlufvA3QnENSSp
DEBUG - 2026-01-29 03:54:42 --> Processing form data
DEBUG - 2026-01-29 03:54:42 --> POST data: {"content":"\ud83d\udcf7 Image: cropped.png","receiver_id":"1","type":"image","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:54:42 --> File uploaded: 1769658882_94d57603b670ccc8aa7eecc5491bea8c.png, Original: cropped.png, Size: 71484, Type: image
DEBUG - 2026-01-29 03:54:42 --> Processed message data: {"sender_id":"3","content":"\ud83d\udcf7 Image: cropped.png","type":"image","is_group":0,"group_id":null,"receiver_id":"1","file_url":"1769658882_94d57603b670ccc8aa7eecc5491bea8c.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"original_filename":"cropped.png","file_size":71484}
DEBUG - 2026-01-29 03:54:42 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:54:42 --> Inserting message data: {"sender_id":"3","content":"File: cropped.png","type":"image","file_url":"1769658882_94d57603b670ccc8aa7eecc5491bea8c.png","is_group":0,"created_at":"2026-01-29 11:54:42","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:54:42 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:54:42 --> Message saved successfully with ID: 29
DEBUG - 2026-01-29 03:54:42 --> Sending message to socket server: {"event":"new_message","data":{"id":29,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\udcf7 Image: cropped.png","type":"image","file_url":"1769658882_94d57603b670ccc8aa7eecc5491bea8c.png","created_at":"2026-01-29 03:54:42","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:54:42 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:54:42.146Z"}
DEBUG - 2026-01-29 03:56:22 --> ApiController initialized
DEBUG - 2026-01-29 03:56:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:22 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryYFkL11Dap9EnoOAS
DEBUG - 2026-01-29 03:56:22 --> Processing form data
DEBUG - 2026-01-29 03:56:22 --> POST data: {"content":"\ud83d\udcce File: incident_reports.pdf","receiver_id":"1","type":"file","csrf_test_name":"56b3bfff4fb1463612de9eb591ae4e1c"}
DEBUG - 2026-01-29 03:56:22 --> File uploaded: 1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf, Original: incident_reports.pdf, Size: 204044, Type: file
DEBUG - 2026-01-29 03:56:22 --> Processed message data: {"sender_id":"3","content":"\ud83d\udcce File: incident_reports.pdf","type":"file","is_group":0,"group_id":null,"receiver_id":"1","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"original_filename":"incident_reports.pdf","file_size":204044}
DEBUG - 2026-01-29 03:56:22 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 03:56:22 --> Inserting message data: {"sender_id":"3","content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":0,"created_at":"2026-01-29 11:56:22","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 03:56:22 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 03:56:22 --> Message saved successfully with ID: 30
DEBUG - 2026-01-29 03:56:22 --> Sending message to socket server: {"event":"new_message","data":{"id":30,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\udcce File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","created_at":"2026-01-29 03:56:22","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 03:56:22 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T03:56:22.929Z"}
DEBUG - 2026-01-29 03:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:26 --> ApiController initialized
DEBUG - 2026-01-29 03:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:26 --> ApiController initialized
DEBUG - 2026-01-29 03:56:26 --> ApiController initialized
DEBUG - 2026-01-29 03:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:26 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:56:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:56:26 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:56:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:56:26"}}
DEBUG - 2026-01-29 03:56:26 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:56:26.926Z"}
DEBUG - 2026-01-29 03:56:26 --> Found 30 direct messages
DEBUG - 2026-01-29 03:56:26 --> ApiController initialized
DEBUG - 2026-01-29 03:56:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:30 --> ApiController initialized
DEBUG - 2026-01-29 03:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:30 --> ApiController initialized
DEBUG - 2026-01-29 03:56:30 --> ApiController initialized
DEBUG - 2026-01-29 03:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:56:30 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 03:56:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 03:56:30 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 03:56:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 03:56:30"}}
DEBUG - 2026-01-29 03:56:30 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T03:56:30.589Z"}
DEBUG - 2026-01-29 03:56:30 --> Found 30 direct messages
DEBUG - 2026-01-29 03:56:30 --> ApiController initialized
DEBUG - 2026-01-29 03:56:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:59:01 --> ApiController initialized
DEBUG - 2026-01-29 03:59:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 03:59:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 03:53:52","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 03:53:52","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 04:35:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:35:51 --> ApiController initialized
DEBUG - 2026-01-29 04:35:51 --> ApiController initialized
DEBUG - 2026-01-29 04:35:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:35:51 --> ApiController initialized
DEBUG - 2026-01-29 04:35:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:35:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:35:51 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 04:35:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 04:35:51 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 04:35:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 04:35:51"}}
DEBUG - 2026-01-29 04:35:51 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T04:35:51.193Z"}
DEBUG - 2026-01-29 04:35:51 --> Found 30 direct messages
DEBUG - 2026-01-29 04:35:51 --> ApiController initialized
DEBUG - 2026-01-29 04:35:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:53:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:53:10 --> ApiController initialized
DEBUG - 2026-01-29 04:53:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:53:10 --> ApiController initialized
DEBUG - 2026-01-29 04:53:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:53:10 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 04:53:10 --> ApiController initialized
DEBUG - 2026-01-29 04:53:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 04:53:10 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 04:53:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 04:53:10"}}
DEBUG - 2026-01-29 04:53:10 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T04:53:10.219Z"}
DEBUG - 2026-01-29 04:53:10 --> Found 30 direct messages
DEBUG - 2026-01-29 04:53:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 04:53:10 --> ApiController initialized
DEBUG - 2026-01-29 04:53:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:00:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:00:23 --> ApiController initialized
DEBUG - 2026-01-29 05:00:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:00:23 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:00:23 --> ApiController initialized
DEBUG - 2026-01-29 05:00:23 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:00:23 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:00:23 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:00:23"}}
DEBUG - 2026-01-29 05:00:23 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:00:23.051Z"}
DEBUG - 2026-01-29 05:00:23 --> Found 30 direct messages
DEBUG - 2026-01-29 05:00:23 --> ApiController initialized
DEBUG - 2026-01-29 05:00:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:00:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:00:23 --> ApiController initialized
DEBUG - 2026-01-29 05:00:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:08 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 05:01:08 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 05:01:08 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 05:01:08 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 05:01:08 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 05:01:08 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 05:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:24 --> ApiController initialized
DEBUG - 2026-01-29 05:01:24 --> ApiController initialized
DEBUG - 2026-01-29 05:01:24 --> ApiController initialized
DEBUG - 2026-01-29 05:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:24 --> ApiController initialized
DEBUG - 2026-01-29 05:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:24 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:01:24 --> ApiController initialized
DEBUG - 2026-01-29 05:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:24 --> Groups data: []
DEBUG - 2026-01-29 05:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:24 --> ApiController initialized
DEBUG - 2026-01-29 05:01:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> ApiController initialized
DEBUG - 2026-01-29 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:01:40 --> ApiController initialized
DEBUG - 2026-01-29 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> ApiController initialized
DEBUG - 2026-01-29 05:01:40 --> ApiController initialized
DEBUG - 2026-01-29 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> ApiController initialized
DEBUG - 2026-01-29 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:01:40 --> Groups data: []
DEBUG - 2026-01-29 05:01:41 --> ApiController initialized
DEBUG - 2026-01-29 05:01:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:11 --> ApiController initialized
DEBUG - 2026-01-29 05:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:30 --> ApiController initialized
DEBUG - 2026-01-29 05:02:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:30 --> ApiController initialized
DEBUG - 2026-01-29 05:02:30 --> ApiController initialized
DEBUG - 2026-01-29 05:02:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:02:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:30 --> ApiController initialized
DEBUG - 2026-01-29 05:02:30 --> ApiController initialized
DEBUG - 2026-01-29 05:02:30 --> Groups data: []
DEBUG - 2026-01-29 05:02:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:31 --> ApiController initialized
DEBUG - 2026-01-29 05:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:32 --> ApiController initialized
DEBUG - 2026-01-29 05:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:32 --> ApiController initialized
DEBUG - 2026-01-29 05:02:32 --> ApiController initialized
DEBUG - 2026-01-29 05:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:32 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:02:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:02:32 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:02:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:02:32"}}
DEBUG - 2026-01-29 05:02:32 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:02:32.717Z"}
DEBUG - 2026-01-29 05:02:32 --> Found 30 direct messages
DEBUG - 2026-01-29 05:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:33 --> ApiController initialized
DEBUG - 2026-01-29 05:02:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:52 --> ApiController initialized
DEBUG - 2026-01-29 05:02:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:02:52 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:03:11 --> ApiController initialized
DEBUG - 2026-01-29 05:03:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:03:11 --> ApiController initialized
DEBUG - 2026-01-29 05:03:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:03:11 --> ApiController initialized
DEBUG - 2026-01-29 05:03:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:03:11 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:03:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:03:11 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:03:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:03:11"}}
DEBUG - 2026-01-29 05:03:11 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:03:11.429Z"}
DEBUG - 2026-01-29 05:03:11 --> Found 30 direct messages
DEBUG - 2026-01-29 05:03:11 --> ApiController initialized
DEBUG - 2026-01-29 05:03:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:03:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:05:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:05:56 --> ApiController initialized
DEBUG - 2026-01-29 05:05:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:05:56 --> ApiController initialized
DEBUG - 2026-01-29 05:05:56 --> ApiController initialized
DEBUG - 2026-01-29 05:05:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:05:56 --> ApiController initialized
DEBUG - 2026-01-29 05:05:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:05:56 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:05:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:05:56 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:05:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:05:56"}}
DEBUG - 2026-01-29 05:05:56 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:05:56.529Z"}
DEBUG - 2026-01-29 05:05:56 --> Found 30 direct messages
DEBUG - 2026-01-29 05:05:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:08 --> ApiController initialized
DEBUG - 2026-01-29 05:06:08 --> ApiController initialized
DEBUG - 2026-01-29 05:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:08 --> ApiController initialized
DEBUG - 2026-01-29 05:06:08 --> ApiController initialized
DEBUG - 2026-01-29 05:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:08 --> Groups data: []
DEBUG - 2026-01-29 05:06:08 --> ApiController initialized
DEBUG - 2026-01-29 05:06:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:09 --> ApiController initialized
DEBUG - 2026-01-29 05:06:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:06:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:15 --> ApiController initialized
DEBUG - 2026-01-29 05:06:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:15 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:06:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:18 --> ApiController initialized
DEBUG - 2026-01-29 05:06:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:19 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:06:19 --> ApiController initialized
DEBUG - 2026-01-29 05:06:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:06:19 --> ApiController initialized
DEBUG - 2026-01-29 05:06:19 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:06:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:06:19"}}
DEBUG - 2026-01-29 05:06:19 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:06:19.249Z"}
DEBUG - 2026-01-29 05:06:19 --> Found 30 direct messages
DEBUG - 2026-01-29 05:06:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:06:19 --> ApiController initialized
DEBUG - 2026-01-29 05:06:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:38 --> ApiController initialized
DEBUG - 2026-01-29 05:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:38 --> ApiController initialized
DEBUG - 2026-01-29 05:08:38 --> ApiController initialized
DEBUG - 2026-01-29 05:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:38 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:08:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:08:38 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:08:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:08:38"}}
DEBUG - 2026-01-29 05:08:38 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:08:38.412Z"}
DEBUG - 2026-01-29 05:08:38 --> Found 30 direct messages
DEBUG - 2026-01-29 05:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:38 --> ApiController initialized
DEBUG - 2026-01-29 05:08:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:40 --> ApiController initialized
DEBUG - 2026-01-29 05:08:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:40 --> ApiController initialized
DEBUG - 2026-01-29 05:08:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:41 --> ApiController initialized
DEBUG - 2026-01-29 05:08:41 --> ApiController initialized
DEBUG - 2026-01-29 05:08:41 --> ApiController initialized
DEBUG - 2026-01-29 05:08:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:41 --> Groups data: []
DEBUG - 2026-01-29 05:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:41 --> ApiController initialized
DEBUG - 2026-01-29 05:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:42 --> ApiController initialized
DEBUG - 2026-01-29 05:08:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:42 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:08:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:08:43 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:08:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:08:43"}}
DEBUG - 2026-01-29 05:08:43 --> ApiController initialized
DEBUG - 2026-01-29 05:08:43 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:08:43.058Z"}
DEBUG - 2026-01-29 05:08:43 --> Found 30 direct messages
DEBUG - 2026-01-29 05:08:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:43 --> ApiController initialized
DEBUG - 2026-01-29 05:08:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:08:43 --> ApiController initialized
DEBUG - 2026-01-29 05:08:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:38 --> ApiController initialized
DEBUG - 2026-01-29 05:10:38 --> ApiController initialized
DEBUG - 2026-01-29 05:10:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:38 --> ApiController initialized
DEBUG - 2026-01-29 05:10:38 --> Groups data: []
DEBUG - 2026-01-29 05:10:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:38 --> ApiController initialized
DEBUG - 2026-01-29 05:10:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:38 --> ApiController initialized
DEBUG - 2026-01-29 05:10:39 --> ApiController initialized
DEBUG - 2026-01-29 05:10:39 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:11:08 --> ApiController initialized
DEBUG - 2026-01-29 05:11:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:11:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:11:29 --> ApiController initialized
DEBUG - 2026-01-29 05:11:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:11:29 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:11:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:11:29 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:11:29 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:11:29"}}
DEBUG - 2026-01-29 05:11:29 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:11:29.552Z"}
DEBUG - 2026-01-29 05:11:29 --> Found 30 direct messages
DEBUG - 2026-01-29 05:11:29 --> ApiController initialized
DEBUG - 2026-01-29 05:11:29 --> ApiController initialized
DEBUG - 2026-01-29 05:11:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:11:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:11:29 --> ApiController initialized
DEBUG - 2026-01-29 05:11:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:47 --> ApiController initialized
DEBUG - 2026-01-29 05:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:47 --> ApiController initialized
DEBUG - 2026-01-29 05:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:47 --> ApiController initialized
DEBUG - 2026-01-29 05:13:47 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:13:47 --> ApiController initialized
DEBUG - 2026-01-29 05:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:47 --> ApiController initialized
DEBUG - 2026-01-29 05:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:13:47 --> Groups data: []
DEBUG - 2026-01-29 05:13:48 --> ApiController initialized
DEBUG - 2026-01-29 05:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:04 --> ApiController initialized
DEBUG - 2026-01-29 05:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:04 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:14:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:14:04 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:14:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:14:04"}}
DEBUG - 2026-01-29 05:14:04 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:14:04.437Z"}
DEBUG - 2026-01-29 05:14:04 --> Found 30 direct messages
DEBUG - 2026-01-29 05:14:04 --> ApiController initialized
DEBUG - 2026-01-29 05:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:04 --> ApiController initialized
DEBUG - 2026-01-29 05:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:04 --> ApiController initialized
DEBUG - 2026-01-29 05:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:10 --> ApiController initialized
DEBUG - 2026-01-29 05:14:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:10 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:14:10 --> ApiController initialized
DEBUG - 2026-01-29 05:14:10 --> ApiController initialized
DEBUG - 2026-01-29 05:14:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:14:10 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:14:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:14:10"}}
DEBUG - 2026-01-29 05:14:10 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:14:10.507Z"}
DEBUG - 2026-01-29 05:14:10 --> Found 30 direct messages
DEBUG - 2026-01-29 05:14:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:14:10 --> ApiController initialized
DEBUG - 2026-01-29 05:14:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:15:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:15:57 --> ApiController initialized
DEBUG - 2026-01-29 05:15:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:15:57 --> ApiController initialized
DEBUG - 2026-01-29 05:15:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:15:57 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:15:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:15:57 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:15:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:15:57"}}
DEBUG - 2026-01-29 05:15:57 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:15:57.548Z"}
DEBUG - 2026-01-29 05:15:57 --> Found 30 direct messages
DEBUG - 2026-01-29 05:15:57 --> ApiController initialized
DEBUG - 2026-01-29 05:15:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:15:57 --> ApiController initialized
DEBUG - 2026-01-29 05:15:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:12 --> ApiController initialized
DEBUG - 2026-01-29 05:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:12 --> Groups data: []
DEBUG - 2026-01-29 05:17:12 --> ApiController initialized
DEBUG - 2026-01-29 05:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:12 --> ApiController initialized
DEBUG - 2026-01-29 05:17:12 --> ApiController initialized
DEBUG - 2026-01-29 05:17:12 --> ApiController initialized
DEBUG - 2026-01-29 05:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:12 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:17:12 --> ApiController initialized
DEBUG - 2026-01-29 05:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:14 --> ApiController initialized
DEBUG - 2026-01-29 05:17:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:14 --> ApiController initialized
DEBUG - 2026-01-29 05:17:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:14 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:17:14 --> ApiController initialized
DEBUG - 2026-01-29 05:17:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:17:14 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:17:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:17:14"}}
DEBUG - 2026-01-29 05:17:14 --> ApiController initialized
DEBUG - 2026-01-29 05:17:14 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:17:14.580Z"}
DEBUG - 2026-01-29 05:17:14 --> Found 30 direct messages
DEBUG - 2026-01-29 05:17:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:32 --> ApiController initialized
DEBUG - 2026-01-29 05:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:32 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:17:32 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:17:32 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:17:32 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:17:32"}}
DEBUG - 2026-01-29 05:17:32 --> ApiController initialized
DEBUG - 2026-01-29 05:17:32 --> ApiController initialized
DEBUG - 2026-01-29 05:17:32 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:17:32.851Z"}
DEBUG - 2026-01-29 05:17:32 --> Found 30 direct messages
DEBUG - 2026-01-29 05:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:33 --> ApiController initialized
DEBUG - 2026-01-29 05:17:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:42 --> ApiController initialized
DEBUG - 2026-01-29 05:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:42 --> ApiController initialized
DEBUG - 2026-01-29 05:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:42 --> ApiController initialized
DEBUG - 2026-01-29 05:17:42 --> ApiController initialized
DEBUG - 2026-01-29 05:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:42 --> Groups data: []
DEBUG - 2026-01-29 05:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:17:42 --> ApiController initialized
DEBUG - 2026-01-29 05:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:17:42 --> ApiController initialized
DEBUG - 2026-01-29 05:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:18:12 --> ApiController initialized
DEBUG - 2026-01-29 05:18:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:18:42 --> ApiController initialized
DEBUG - 2026-01-29 05:18:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:19:12 --> ApiController initialized
DEBUG - 2026-01-29 05:19:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:19:42 --> ApiController initialized
DEBUG - 2026-01-29 05:19:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:00 --> ApiController initialized
DEBUG - 2026-01-29 05:20:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:00 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:20:00 --> ApiController initialized
DEBUG - 2026-01-29 05:20:00 --> ApiController initialized
DEBUG - 2026-01-29 05:20:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:01 --> ApiController initialized
DEBUG - 2026-01-29 05:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:01 --> Groups data: []
DEBUG - 2026-01-29 05:20:01 --> ApiController initialized
DEBUG - 2026-01-29 05:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:01 --> ApiController initialized
DEBUG - 2026-01-29 05:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:02 --> ApiController initialized
DEBUG - 2026-01-29 05:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:02 --> ApiController initialized
DEBUG - 2026-01-29 05:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:02 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:20:02 --> ApiController initialized
DEBUG - 2026-01-29 05:20:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:20:02 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:20:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:20:02"}}
DEBUG - 2026-01-29 05:20:02 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:20:02.632Z"}
DEBUG - 2026-01-29 05:20:02 --> Found 30 direct messages
DEBUG - 2026-01-29 05:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:20:02 --> ApiController initialized
DEBUG - 2026-01-29 05:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:27 --> ApiController initialized
DEBUG - 2026-01-29 05:22:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:27 --> ApiController initialized
DEBUG - 2026-01-29 05:22:27 --> ApiController initialized
DEBUG - 2026-01-29 05:22:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:27 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:22:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:22:27 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:22:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:22:27"}}
DEBUG - 2026-01-29 05:22:27 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:22:27.360Z"}
DEBUG - 2026-01-29 05:22:27 --> Found 30 direct messages
DEBUG - 2026-01-29 05:22:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:27 --> ApiController initialized
DEBUG - 2026-01-29 05:22:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:31 --> ApiController initialized
DEBUG - 2026-01-29 05:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:31 --> ApiController initialized
DEBUG - 2026-01-29 05:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:31 --> ApiController initialized
DEBUG - 2026-01-29 05:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:22:31 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:22:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:22:31 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:22:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:22:31"}}
DEBUG - 2026-01-29 05:22:31 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:22:31.224Z"}
DEBUG - 2026-01-29 05:22:31 --> Found 30 direct messages
DEBUG - 2026-01-29 05:22:31 --> ApiController initialized
DEBUG - 2026-01-29 05:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> ApiController initialized
DEBUG - 2026-01-29 05:24:54 --> ApiController initialized
DEBUG - 2026-01-29 05:24:54 --> ApiController initialized
DEBUG - 2026-01-29 05:24:54 --> ApiController initialized
DEBUG - 2026-01-29 05:24:54 --> ApiController initialized
DEBUG - 2026-01-29 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"30","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: incident_reports.pdf","type":"file","file_url":"1769658982_91fd7b887c268547c49eb9a8cb673d1e.pdf","is_group":"0","created_at":"2026-01-29 11:56:22","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:54 --> Groups data: []
DEBUG - 2026-01-29 05:24:55 --> ApiController initialized
DEBUG - 2026-01-29 05:24:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:57 --> ApiController initialized
DEBUG - 2026-01-29 05:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:57 --> ApiController initialized
DEBUG - 2026-01-29 05:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:57 --> ApiController initialized
DEBUG - 2026-01-29 05:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:24:57 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:24:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:24:58 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:24:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:24:58"}}
DEBUG - 2026-01-29 05:24:58 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:24:58.013Z"}
DEBUG - 2026-01-29 05:24:58 --> Found 30 direct messages
DEBUG - 2026-01-29 05:24:58 --> ApiController initialized
DEBUG - 2026-01-29 05:24:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:26:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:26:26 --> ApiController initialized
DEBUG - 2026-01-29 05:26:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:26:26 --> ApiController initialized
DEBUG - 2026-01-29 05:26:26 --> ApiController initialized
DEBUG - 2026-01-29 05:26:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:26:26 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:26:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:26:26 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:26:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:26:26"}}
DEBUG - 2026-01-29 05:26:26 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:26:26.856Z"}
DEBUG - 2026-01-29 05:26:26 --> Found 30 direct messages
DEBUG - 2026-01-29 05:26:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:26:27 --> ApiController initialized
DEBUG - 2026-01-29 05:26:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:26 --> ApiController initialized
DEBUG - 2026-01-29 05:28:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:26 --> ApiController initialized
DEBUG - 2026-01-29 05:28:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:26 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:28:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:28:26 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:28:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:28:26"}}
DEBUG - 2026-01-29 05:28:26 --> ApiController initialized
DEBUG - 2026-01-29 05:28:27 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:28:27.001Z"}
DEBUG - 2026-01-29 05:28:27 --> Found 30 direct messages
DEBUG - 2026-01-29 05:28:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:27 --> ApiController initialized
DEBUG - 2026-01-29 05:28:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:41 --> ApiController initialized
DEBUG - 2026-01-29 05:28:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:41 --> ApiController initialized
DEBUG - 2026-01-29 05:28:41 --> ApiController initialized
DEBUG - 2026-01-29 05:28:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:28:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:28:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:28:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:28:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:28:41"}}
DEBUG - 2026-01-29 05:28:41 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:28:41.476Z"}
DEBUG - 2026-01-29 05:28:41 --> Found 30 direct messages
DEBUG - 2026-01-29 05:28:41 --> ApiController initialized
DEBUG - 2026-01-29 05:28:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:31:38 --> ApiController initialized
DEBUG - 2026-01-29 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:31:38 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:31:38 --> ApiController initialized
DEBUG - 2026-01-29 05:31:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:31:38 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:31:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:31:38"}}
DEBUG - 2026-01-29 05:31:38 --> ApiController initialized
DEBUG - 2026-01-29 05:31:38 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:31:38.655Z"}
DEBUG - 2026-01-29 05:31:38 --> Found 30 direct messages
DEBUG - 2026-01-29 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:31:38 --> ApiController initialized
DEBUG - 2026-01-29 05:31:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:32:20 --> ApiController initialized
DEBUG - 2026-01-29 05:32:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:32:20 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryzSdcbBJ6TMUpAA2p
DEBUG - 2026-01-29 05:32:20 --> Processing form data
DEBUG - 2026-01-29 05:32:20 --> POST data: {"content":"TEST","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 05:32:20 --> Processed message data: {"sender_id":"3","content":"TEST","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 05:32:20 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 05:32:20 --> Inserting message data: {"sender_id":"3","content":"TEST","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 13:32:20","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 05:32:20 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 05:32:20 --> Message saved successfully with ID: 31
DEBUG - 2026-01-29 05:32:20 --> Sending message to socket server: {"event":"new_message","data":{"id":31,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"TEST","type":"text","file_url":null,"created_at":"2026-01-29 05:32:20","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 05:32:20 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T05:32:20.912Z"}
DEBUG - 2026-01-29 05:32:24 --> ApiController initialized
DEBUG - 2026-01-29 05:32:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:32:24 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryCAyul9JBOumAGBL1
DEBUG - 2026-01-29 05:32:24 --> Processing form data
DEBUG - 2026-01-29 05:32:24 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 05:32:24 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 05:32:24 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 05:32:24 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 13:32:24","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 05:32:24 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 05:32:24 --> Message saved successfully with ID: 32
DEBUG - 2026-01-29 05:32:24 --> Sending message to socket server: {"event":"new_message","data":{"id":32,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 05:32:24","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 05:32:24 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T05:32:24.072Z"}
DEBUG - 2026-01-29 05:33:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:38:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:38:30 --> ApiController initialized
DEBUG - 2026-01-29 05:38:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:38:30 --> ApiController initialized
DEBUG - 2026-01-29 05:38:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:38:30 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:38:30 --> ApiController initialized
DEBUG - 2026-01-29 05:38:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:38:30 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:38:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:38:30"}}
DEBUG - 2026-01-29 05:38:30 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:38:30.236Z"}
DEBUG - 2026-01-29 05:38:30 --> Found 32 direct messages
DEBUG - 2026-01-29 05:38:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:38:30 --> ApiController initialized
DEBUG - 2026-01-29 05:38:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:39:53 --> ApiController initialized
DEBUG - 2026-01-29 05:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:39:53 --> ApiController initialized
DEBUG - 2026-01-29 05:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:39:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:39:53 --> ApiController initialized
DEBUG - 2026-01-29 05:39:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:39:53 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:39:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:39:53"}}
DEBUG - 2026-01-29 05:39:54 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:39:54.001Z"}
DEBUG - 2026-01-29 05:39:54 --> Found 32 direct messages
DEBUG - 2026-01-29 05:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:39:54 --> ApiController initialized
DEBUG - 2026-01-29 05:39:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:06 --> ApiController initialized
DEBUG - 2026-01-29 05:40:06 --> ApiController initialized
DEBUG - 2026-01-29 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:06 --> Groups data: []
DEBUG - 2026-01-29 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:06 --> ApiController initialized
DEBUG - 2026-01-29 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"32","sender_id":"3","receiver_id":"1","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 13:32:24","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 05:40:06 --> ApiController initialized
DEBUG - 2026-01-29 05:40:06 --> ApiController initialized
DEBUG - 2026-01-29 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:07 --> ApiController initialized
DEBUG - 2026-01-29 05:40:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:40:36 --> ApiController initialized
DEBUG - 2026-01-29 05:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:41:06 --> ApiController initialized
DEBUG - 2026-01-29 05:41:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:41:36 --> ApiController initialized
DEBUG - 2026-01-29 05:41:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:42:06 --> ApiController initialized
DEBUG - 2026-01-29 05:42:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:42:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:42:32 --> ApiController initialized
DEBUG - 2026-01-29 05:42:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:42:33 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:42:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:42:33 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:42:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:42:33"}}
DEBUG - 2026-01-29 05:42:33 --> ApiController initialized
DEBUG - 2026-01-29 05:42:33 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:42:33.084Z"}
DEBUG - 2026-01-29 05:42:33 --> Found 32 direct messages
DEBUG - 2026-01-29 05:42:33 --> ApiController initialized
DEBUG - 2026-01-29 05:42:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:42:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:42:33 --> ApiController initialized
DEBUG - 2026-01-29 05:42:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:52:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:52:15 --> ApiController initialized
DEBUG - 2026-01-29 05:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:52:15 --> ApiController initialized
DEBUG - 2026-01-29 05:52:15 --> ApiController initialized
DEBUG - 2026-01-29 05:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 05:52:15 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 05:52:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 05:52:15 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 05:52:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 05:52:15"}}
DEBUG - 2026-01-29 05:52:15 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T05:52:15.474Z"}
DEBUG - 2026-01-29 05:52:15 --> Found 32 direct messages
DEBUG - 2026-01-29 05:52:15 --> ApiController initialized
DEBUG - 2026-01-29 05:52:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:22 --> ApiController initialized
DEBUG - 2026-01-29 06:06:22 --> ApiController initialized
DEBUG - 2026-01-29 06:06:22 --> ApiController initialized
DEBUG - 2026-01-29 06:06:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:06:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:06:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:06:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:06:22"}}
DEBUG - 2026-01-29 06:06:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:06:22.477Z"}
DEBUG - 2026-01-29 06:06:22 --> Found 32 direct messages
DEBUG - 2026-01-29 06:06:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:22 --> ApiController initialized
DEBUG - 2026-01-29 06:06:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> ApiController initialized
DEBUG - 2026-01-29 06:06:31 --> ApiController initialized
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> ApiController initialized
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> ApiController initialized
DEBUG - 2026-01-29 06:06:31 --> ApiController initialized
DEBUG - 2026-01-29 06:06:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"32","sender_id":"3","receiver_id":"1","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 13:32:24","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> Groups data: []
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:31 --> ApiController initialized
DEBUG - 2026-01-29 06:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:34 --> ApiController initialized
DEBUG - 2026-01-29 06:06:34 --> ApiController initialized
DEBUG - 2026-01-29 06:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:34 --> ApiController initialized
DEBUG - 2026-01-29 06:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:34 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:06:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:06:34 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:06:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:06:34"}}
DEBUG - 2026-01-29 06:06:34 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:06:34.714Z"}
DEBUG - 2026-01-29 06:06:34 --> Found 32 direct messages
DEBUG - 2026-01-29 06:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:34 --> ApiController initialized
DEBUG - 2026-01-29 06:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:57 --> ApiController initialized
DEBUG - 2026-01-29 06:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:57 --> ApiController initialized
DEBUG - 2026-01-29 06:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:57 --> Groups data: []
DEBUG - 2026-01-29 06:06:57 --> ApiController initialized
DEBUG - 2026-01-29 06:06:57 --> ApiController initialized
DEBUG - 2026-01-29 06:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:57 --> ApiController initialized
DEBUG - 2026-01-29 06:06:57 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"offline","role":"tsr","last_active":"2026-01-29 05:01:08","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 05:01:18","last_message":{"id":"32","sender_id":"3","receiver_id":"1","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 13:32:24","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:06:58 --> ApiController initialized
DEBUG - 2026-01-29 06:06:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:22 --> ApiController initialized
DEBUG - 2026-01-29 06:07:22 --> ApiController initialized
DEBUG - 2026-01-29 06:07:22 --> ApiController initialized
DEBUG - 2026-01-29 06:07:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:07:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:07:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:07:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:07:22"}}
DEBUG - 2026-01-29 06:07:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:07:22.576Z"}
DEBUG - 2026-01-29 06:07:22 --> Found 32 direct messages
DEBUG - 2026-01-29 06:07:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:22 --> ApiController initialized
DEBUG - 2026-01-29 06:07:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:44 --> ApiController initialized
DEBUG - 2026-01-29 06:07:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:44 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryFrhBXn6Xftxr2p3d
DEBUG - 2026-01-29 06:07:44 --> Processing form data
DEBUG - 2026-01-29 06:07:44 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:07:44 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:07:44 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:07:44 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:07:44","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:07:44 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:07:44 --> Message saved successfully with ID: 33
DEBUG - 2026-01-29 06:07:44 --> Sending message to socket server: {"event":"new_message","data":{"id":33,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:07:44","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:07:44 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:07:44.639Z"}
DEBUG - 2026-01-29 06:07:48 --> ApiController initialized
DEBUG - 2026-01-29 06:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:48 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarytEZWeR4p1YT8jZRK
DEBUG - 2026-01-29 06:07:48 --> Processing form data
DEBUG - 2026-01-29 06:07:48 --> POST data: {"content":"\ud83e\udd14","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:07:48 --> Processed message data: {"sender_id":"3","content":"\ud83e\udd14","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:07:48 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:07:48 --> Inserting message data: {"sender_id":"3","content":"\ud83e\udd14","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:07:48","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:07:48 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:07:48 --> Message saved successfully with ID: 34
DEBUG - 2026-01-29 06:07:48 --> Sending message to socket server: {"event":"new_message","data":{"id":34,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83e\udd14","type":"text","file_url":null,"created_at":"2026-01-29 06:07:48","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:07:48 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:07:48.689Z"}
DEBUG - 2026-01-29 06:07:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:07:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:05 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 06:08:05 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 06:08:05 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 06:08:05 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 06:08:05 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 06:08:05 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 06:08:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:08 --> ApiController initialized
DEBUG - 2026-01-29 06:08:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:09 --> ApiController initialized
DEBUG - 2026-01-29 06:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:09 --> ApiController initialized
DEBUG - 2026-01-29 06:08:09 --> ApiController initialized
DEBUG - 2026-01-29 06:08:09 --> ApiController initialized
DEBUG - 2026-01-29 06:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:09 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 05:01:23","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 05:01:23","last_message":{"id":"34","sender_id":"3","receiver_id":"1","group_id":null,"content":"?","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:07:48","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":8,"online":false}]
DEBUG - 2026-01-29 06:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:09 --> Groups data: []
DEBUG - 2026-01-29 06:08:09 --> ApiController initialized
DEBUG - 2026-01-29 06:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:14 --> ApiController initialized
DEBUG - 2026-01-29 06:08:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:14 --> ApiController initialized
DEBUG - 2026-01-29 06:08:14 --> ApiController initialized
DEBUG - 2026-01-29 06:08:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:14 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:08:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:08:14 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"27","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.475Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"28","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.482Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"29","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.492Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"30","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.503Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"31","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.510Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"32","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.518Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"33","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.526Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"34","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:14.534Z"}
DEBUG - 2026-01-29 06:08:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:08:14"}}
DEBUG - 2026-01-29 06:08:14 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:08:14.536Z"}
DEBUG - 2026-01-29 06:08:14 --> Found 34 direct messages
DEBUG - 2026-01-29 06:08:14 --> ApiController initialized
DEBUG - 2026-01-29 06:08:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:16 --> ApiController initialized
DEBUG - 2026-01-29 06:08:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:16 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfhn0EQtWDYm2ltBZ
DEBUG - 2026-01-29 06:08:16 --> Processing form data
DEBUG - 2026-01-29 06:08:16 --> POST data: {"content":"test","receiver_id":"3","type":"text","csrf_test_name":"535d325362407f659af08ea96c29d634"}
DEBUG - 2026-01-29 06:08:16 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:08:16 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:08:16 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:08:16","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:08:16 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:08:16 --> Message saved successfully with ID: 35
DEBUG - 2026-01-29 06:08:16 --> Sending message to socket server: {"event":"new_message","data":{"id":35,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:08:16","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:08:16 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:08:16.974Z"}
DEBUG - 2026-01-29 06:08:22 --> ApiController initialized
DEBUG - 2026-01-29 06:08:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:22 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryQf7MMp64mJhLSQbX
DEBUG - 2026-01-29 06:08:22 --> Processing form data
DEBUG - 2026-01-29 06:08:22 --> POST data: {"content":"123","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:08:22 --> Processed message data: {"sender_id":"3","content":"123","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:08:22 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:08:22 --> Inserting message data: {"sender_id":"3","content":"123","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:08:22","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:08:22 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:08:22 --> Message saved successfully with ID: 36
DEBUG - 2026-01-29 06:08:22 --> Sending message to socket server: {"event":"new_message","data":{"id":36,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"123","type":"text","file_url":null,"created_at":"2026-01-29 06:08:22","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:08:22 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:08:22.344Z"}
DEBUG - 2026-01-29 06:08:31 --> ApiController initialized
DEBUG - 2026-01-29 06:08:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:31 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary0tx99t0FEipmaey8
DEBUG - 2026-01-29 06:08:31 --> Processing form data
DEBUG - 2026-01-29 06:08:31 --> POST data: {"content":"123","receiver_id":"3","type":"text","csrf_test_name":"535d325362407f659af08ea96c29d634"}
DEBUG - 2026-01-29 06:08:31 --> Processed message data: {"sender_id":"1","content":"123","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:08:31 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:08:31 --> Inserting message data: {"sender_id":"1","content":"123","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:08:31","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:08:31 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:08:31 --> Message saved successfully with ID: 37
DEBUG - 2026-01-29 06:08:31 --> Sending message to socket server: {"event":"new_message","data":{"id":37,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"123","type":"text","file_url":null,"created_at":"2026-01-29 06:08:31","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:08:31 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:08:31.401Z"}
DEBUG - 2026-01-29 06:08:32 --> ApiController initialized
DEBUG - 2026-01-29 06:08:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:32 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryCozMsDWMHNw7qj6D
DEBUG - 2026-01-29 06:08:32 --> Processing form data
DEBUG - 2026-01-29 06:08:32 --> POST data: {"content":"123","receiver_id":"3","type":"text","csrf_test_name":"535d325362407f659af08ea96c29d634"}
DEBUG - 2026-01-29 06:08:32 --> Processed message data: {"sender_id":"1","content":"123","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:08:32 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:08:32 --> Inserting message data: {"sender_id":"1","content":"123","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:08:32","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:08:32 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:08:32 --> Message saved successfully with ID: 38
DEBUG - 2026-01-29 06:08:32 --> Sending message to socket server: {"event":"new_message","data":{"id":38,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"123","type":"text","file_url":null,"created_at":"2026-01-29 06:08:32","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:08:32 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:08:32.556Z"}
DEBUG - 2026-01-29 06:08:33 --> ApiController initialized
DEBUG - 2026-01-29 06:08:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:33 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryXB8vw2h4Qo0QUum2
DEBUG - 2026-01-29 06:08:33 --> Processing form data
DEBUG - 2026-01-29 06:08:33 --> POST data: {"content":"123","receiver_id":"3","type":"text","csrf_test_name":"535d325362407f659af08ea96c29d634"}
DEBUG - 2026-01-29 06:08:33 --> Processed message data: {"sender_id":"1","content":"123","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:08:33 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:08:33 --> Inserting message data: {"sender_id":"1","content":"123","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:08:33","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:08:33 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:08:33 --> Message saved successfully with ID: 39
DEBUG - 2026-01-29 06:08:33 --> Sending message to socket server: {"event":"new_message","data":{"id":39,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"123","type":"text","file_url":null,"created_at":"2026-01-29 06:08:33","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:08:33 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:08:33.471Z"}
DEBUG - 2026-01-29 06:08:36 --> ApiController initialized
DEBUG - 2026-01-29 06:08:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:36 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarykMC8vWAEZXhwvVA1
DEBUG - 2026-01-29 06:08:36 --> Processing form data
DEBUG - 2026-01-29 06:08:36 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:08:36 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:08:36 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:08:36 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:08:36","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:08:36 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:08:36 --> Message saved successfully with ID: 40
DEBUG - 2026-01-29 06:08:36 --> Sending message to socket server: {"event":"new_message","data":{"id":40,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:08:36","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:08:36 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:08:36.202Z"}
DEBUG - 2026-01-29 06:08:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:41 --> ApiController initialized
DEBUG - 2026-01-29 06:08:41 --> ApiController initialized
DEBUG - 2026-01-29 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:41 --> Groups data: []
DEBUG - 2026-01-29 06:08:41 --> ApiController initialized
DEBUG - 2026-01-29 06:08:41 --> ApiController initialized
DEBUG - 2026-01-29 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:41 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 05:01:23","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 05:01:23","last_message":{"id":"40","sender_id":"3","receiver_id":"1","group_id":null,"content":"test","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:08:36","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:41 --> ApiController initialized
DEBUG - 2026-01-29 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:41 --> ApiController initialized
DEBUG - 2026-01-29 06:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:51 --> ApiController initialized
DEBUG - 2026-01-29 06:08:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:51 --> Raw ticket creation input: {"subject":"test","description":"testtt","category":"billing","priority":"high"}
DEBUG - 2026-01-29 06:08:51 --> Parsed ticket data: {"subject":"test","description":"testtt","category":"billing","priority":"high"}
DEBUG - 2026-01-29 06:08:51 --> Inserting ticket data: {"subject":"test","description":"testtt","priority":"high","category":"billing","status":"open","created_by":"1","is_deleted":0}
DEBUG - 2026-01-29 06:08:51 --> Ticket created with ID: 2
DEBUG - 2026-01-29 06:08:51 --> Initial ticket message created
ERROR - 2026-01-29 06:08:51 --> Failed to send ticket created event: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 06:08:51 --> Ticket creation successful
DEBUG - 2026-01-29 06:08:51 --> ApiController initialized
DEBUG - 2026-01-29 06:08:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:54 --> ApiController initialized
DEBUG - 2026-01-29 06:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:54 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:08:54 --> ApiController initialized
DEBUG - 2026-01-29 06:08:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:08:54 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:08:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"36","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:54"}}
DEBUG - 2026-01-29 06:08:54 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:54.533Z"}
DEBUG - 2026-01-29 06:08:54 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"40","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:08:54"}}
DEBUG - 2026-01-29 06:08:54 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:08:54.544Z"}
DEBUG - 2026-01-29 06:08:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:08:54"}}
DEBUG - 2026-01-29 06:08:54 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:08:54.548Z"}
DEBUG - 2026-01-29 06:08:54 --> Found 40 direct messages
DEBUG - 2026-01-29 06:08:54 --> ApiController initialized
DEBUG - 2026-01-29 06:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:08:54 --> ApiController initialized
DEBUG - 2026-01-29 06:08:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:04 --> ApiController initialized
DEBUG - 2026-01-29 06:09:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryeAbCnTLiTjz7bH9h
DEBUG - 2026-01-29 06:09:04 --> Processing form data
DEBUG - 2026-01-29 06:09:04 --> POST data: {"content":"ticket","receiver_id":"3","type":"text","csrf_test_name":"535d325362407f659af08ea96c29d634"}
DEBUG - 2026-01-29 06:09:04 --> Processed message data: {"sender_id":"1","content":"ticket","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:09:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:09:04 --> Inserting message data: {"sender_id":"1","content":"ticket","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:09:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:09:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:09:04 --> Message saved successfully with ID: 41
DEBUG - 2026-01-29 06:09:04 --> Sending message to socket server: {"event":"new_message","data":{"id":41,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"ticket","type":"text","file_url":null,"created_at":"2026-01-29 06:09:04","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:09:04 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:09:04.490Z"}
DEBUG - 2026-01-29 06:09:20 --> ApiController initialized
DEBUG - 2026-01-29 06:09:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:20 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarynFeIjZ9Ftkn323A3
DEBUG - 2026-01-29 06:09:20 --> Processing form data
DEBUG - 2026-01-29 06:09:20 --> POST data: {"content":"test123","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:09:20 --> Processed message data: {"sender_id":"3","content":"test123","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:09:20 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:09:20 --> Inserting message data: {"sender_id":"3","content":"test123","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:09:20","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:09:20 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:09:20 --> Message saved successfully with ID: 42
DEBUG - 2026-01-29 06:09:20 --> Sending message to socket server: {"event":"new_message","data":{"id":42,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test123","type":"text","file_url":null,"created_at":"2026-01-29 06:09:20","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:09:20 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:09:20.254Z"}
DEBUG - 2026-01-29 06:09:32 --> ApiController initialized
DEBUG - 2026-01-29 06:09:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:32 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryb86OoaKhUo0FS31G
DEBUG - 2026-01-29 06:09:32 --> Processing form data
DEBUG - 2026-01-29 06:09:32 --> POST data: {"content":"\ud83d\udcf7 Image: cropped.png","receiver_id":"1","type":"image","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:09:32 --> File uploaded: 1769666972_67fa3353ce60558c45cc7d7971bf9447.png, Original: cropped.png, Size: 71484, Type: image
DEBUG - 2026-01-29 06:09:32 --> Processed message data: {"sender_id":"3","content":"\ud83d\udcf7 Image: cropped.png","type":"image","is_group":0,"group_id":null,"receiver_id":"1","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"original_filename":"cropped.png","file_size":71484}
DEBUG - 2026-01-29 06:09:32 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:09:32 --> Inserting message data: {"sender_id":"3","content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":0,"created_at":"2026-01-29 14:09:32","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:09:32 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:09:32 --> Message saved successfully with ID: 43
DEBUG - 2026-01-29 06:09:32 --> Sending message to socket server: {"event":"new_message","data":{"id":43,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\udcf7 Image: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","created_at":"2026-01-29 06:09:32","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:09:32 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:09:32.393Z"}
DEBUG - 2026-01-29 06:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:38 --> ApiController initialized
DEBUG - 2026-01-29 06:09:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:39 --> ApiController initialized
DEBUG - 2026-01-29 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:39 --> ApiController initialized
DEBUG - 2026-01-29 06:09:39 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 05:01:23","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 05:01:23","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:39 --> ApiController initialized
DEBUG - 2026-01-29 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:39 --> Groups data: []
DEBUG - 2026-01-29 06:09:39 --> ApiController initialized
DEBUG - 2026-01-29 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:39 --> ApiController initialized
DEBUG - 2026-01-29 06:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:43 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 06:09:43 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 06:09:43 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 06:09:43 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 06:09:43 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 06:09:43 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 06:09:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:09:58 --> ApiController initialized
DEBUG - 2026-01-29 06:09:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:01 --> ApiController initialized
DEBUG - 2026-01-29 06:10:01 --> ApiController initialized
DEBUG - 2026-01-29 06:10:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:01 --> Groups data: []
DEBUG - 2026-01-29 06:10:01 --> ApiController initialized
DEBUG - 2026-01-29 06:10:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:01 --> ApiController initialized
DEBUG - 2026-01-29 06:10:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":5,"online":false}]
DEBUG - 2026-01-29 06:10:01 --> ApiController initialized
DEBUG - 2026-01-29 06:10:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:01 --> ApiController initialized
DEBUG - 2026-01-29 06:10:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:04 --> ApiController initialized
DEBUG - 2026-01-29 06:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:04 --> ApiController initialized
DEBUG - 2026-01-29 06:10:04 --> ApiController initialized
DEBUG - 2026-01-29 06:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:04 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:10:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:10:04 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:10:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"35","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:10:04"}}
DEBUG - 2026-01-29 06:10:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:10:04.888Z"}
DEBUG - 2026-01-29 06:10:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"37","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:10:04"}}
DEBUG - 2026-01-29 06:10:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:10:04.901Z"}
DEBUG - 2026-01-29 06:10:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"38","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:10:04"}}
DEBUG - 2026-01-29 06:10:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:10:04.918Z"}
DEBUG - 2026-01-29 06:10:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"39","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:10:04"}}
DEBUG - 2026-01-29 06:10:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:10:04.926Z"}
DEBUG - 2026-01-29 06:10:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"41","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:10:04"}}
DEBUG - 2026-01-29 06:10:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:10:04.939Z"}
DEBUG - 2026-01-29 06:10:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:10:04"}}
DEBUG - 2026-01-29 06:10:04 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:10:04.945Z"}
DEBUG - 2026-01-29 06:10:04 --> Found 43 direct messages
DEBUG - 2026-01-29 06:10:05 --> ApiController initialized
DEBUG - 2026-01-29 06:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:06 --> ApiController initialized
DEBUG - 2026-01-29 06:10:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:06 --> ApiController initialized
DEBUG - 2026-01-29 06:10:06 --> ApiController initialized
DEBUG - 2026-01-29 06:10:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:06 --> ApiController initialized
DEBUG - 2026-01-29 06:10:06 --> ApiController initialized
DEBUG - 2026-01-29 06:10:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:06 --> ApiController initialized
DEBUG - 2026-01-29 06:10:06 --> Groups data: []
DEBUG - 2026-01-29 06:10:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:06 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:10:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:08 --> ApiController initialized
DEBUG - 2026-01-29 06:10:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> ApiController initialized
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> ApiController initialized
DEBUG - 2026-01-29 06:10:16 --> ApiController initialized
DEBUG - 2026-01-29 06:10:16 --> ApiController initialized
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> Groups data: []
DEBUG - 2026-01-29 06:10:16 --> ApiController initialized
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 05:01:23","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 05:01:23","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:16 --> ApiController initialized
DEBUG - 2026-01-29 06:10:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:21 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 06:10:21 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 06:10:21 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 06:10:21 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 06:10:21 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 06:10:21 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 06:10:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:27 --> ApiController initialized
DEBUG - 2026-01-29 06:10:27 --> ApiController initialized
DEBUG - 2026-01-29 06:10:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:27 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 05:01:23","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 05:01:23","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 06:10:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:28 --> ApiController initialized
DEBUG - 2026-01-29 06:10:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:28 --> ApiController initialized
DEBUG - 2026-01-29 06:10:28 --> Groups data: []
DEBUG - 2026-01-29 06:10:28 --> ApiController initialized
DEBUG - 2026-01-29 06:10:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:28 --> ApiController initialized
DEBUG - 2026-01-29 06:10:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:29 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 06:10:29 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 06:10:29 --> TSR Dashboard: Stats - Open: 1, In Progress: 0, Resolved: 0
DEBUG - 2026-01-29 06:10:29 --> TSR Dashboard: Found 1 unassigned tickets
DEBUG - 2026-01-29 06:10:29 --> TSR Dashboard: Found 0 assigned tickets
DEBUG - 2026-01-29 06:10:29 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 06:10:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:31 --> Socket event 'ticket_claimed' emitted successfully
ERROR - 2026-01-29 06:10:31 --> Socket emit error: 22 : The requested URL returned error: 400
DEBUG - 2026-01-29 06:10:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:36 --> ApiController initialized
DEBUG - 2026-01-29 06:10:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:42 --> ApiController initialized
DEBUG - 2026-01-29 06:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:42 --> ApiController initialized
DEBUG - 2026-01-29 06:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:42 --> ApiController initialized
DEBUG - 2026-01-29 06:10:42 --> ApiController initialized
DEBUG - 2026-01-29 06:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:42 --> Groups data: []
DEBUG - 2026-01-29 06:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:42 --> ApiController initialized
DEBUG - 2026-01-29 06:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:42 --> ApiController initialized
DEBUG - 2026-01-29 06:10:42 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:46 --> ApiController initialized
DEBUG - 2026-01-29 06:10:46 --> ApiController initialized
DEBUG - 2026-01-29 06:10:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:46 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:10:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:10:46 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:10:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:10:46"}}
DEBUG - 2026-01-29 06:10:47 --> ApiController initialized
DEBUG - 2026-01-29 06:10:47 --> ApiController initialized
DEBUG - 2026-01-29 06:10:47 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:10:47.107Z"}
DEBUG - 2026-01-29 06:10:47 --> Found 43 direct messages
DEBUG - 2026-01-29 06:10:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:48 --> ApiController initialized
DEBUG - 2026-01-29 06:10:48 --> ApiController initialized
DEBUG - 2026-01-29 06:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:48 --> Groups data: []
DEBUG - 2026-01-29 06:10:48 --> ApiController initialized
DEBUG - 2026-01-29 06:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:48 --> ApiController initialized
DEBUG - 2026-01-29 06:10:48 --> ApiController initialized
DEBUG - 2026-01-29 06:10:48 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:49 --> ApiController initialized
DEBUG - 2026-01-29 06:10:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:10:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:19 --> ApiController initialized
DEBUG - 2026-01-29 06:11:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:31 --> ApiController initialized
DEBUG - 2026-01-29 06:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:31 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:11:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:11:31 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:11:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:11:31"}}
DEBUG - 2026-01-29 06:11:31 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:11:31.146Z"}
DEBUG - 2026-01-29 06:11:31 --> Found 43 direct messages
DEBUG - 2026-01-29 06:11:31 --> ApiController initialized
DEBUG - 2026-01-29 06:11:31 --> ApiController initialized
DEBUG - 2026-01-29 06:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:31 --> ApiController initialized
DEBUG - 2026-01-29 06:11:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:11:35 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 06:11:35 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 06:11:35 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 1
DEBUG - 2026-01-29 06:11:35 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 06:11:35 --> TSR Dashboard: Found 1 assigned tickets
DEBUG - 2026-01-29 06:11:35 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 06:12:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:18 --> ApiController initialized
DEBUG - 2026-01-29 06:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:18 --> ApiController initialized
DEBUG - 2026-01-29 06:12:18 --> ApiController initialized
DEBUG - 2026-01-29 06:12:18 --> ApiController initialized
DEBUG - 2026-01-29 06:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:18 --> ApiController initialized
DEBUG - 2026-01-29 06:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:19 --> Groups data: []
DEBUG - 2026-01-29 06:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:19 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 05:01:23","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 05:01:23","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":2,"online":false}]
DEBUG - 2026-01-29 06:12:19 --> ApiController initialized
DEBUG - 2026-01-29 06:12:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:20 --> ApiController initialized
DEBUG - 2026-01-29 06:12:20 --> ApiController initialized
DEBUG - 2026-01-29 06:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:20 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:12:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:12:20 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:12:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"42","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:12:20"}}
DEBUG - 2026-01-29 06:12:20 --> ApiController initialized
DEBUG - 2026-01-29 06:12:20 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:12:20.580Z"}
DEBUG - 2026-01-29 06:12:20 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"43","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:12:20"}}
DEBUG - 2026-01-29 06:12:20 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:12:20.592Z"}
DEBUG - 2026-01-29 06:12:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:12:20"}}
DEBUG - 2026-01-29 06:12:20 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:12:20.598Z"}
DEBUG - 2026-01-29 06:12:20 --> Found 43 direct messages
DEBUG - 2026-01-29 06:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:12:20 --> ApiController initialized
DEBUG - 2026-01-29 06:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:17 --> ApiController initialized
DEBUG - 2026-01-29 06:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:17 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:18:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:18:17 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:18:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:18:17"}}
DEBUG - 2026-01-29 06:18:17 --> ApiController initialized
DEBUG - 2026-01-29 06:18:17 --> ApiController initialized
DEBUG - 2026-01-29 06:18:17 --> ApiController initialized
DEBUG - 2026-01-29 06:18:17 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:18:17.721Z"}
DEBUG - 2026-01-29 06:18:17 --> Found 43 direct messages
DEBUG - 2026-01-29 06:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:17 --> ApiController initialized
DEBUG - 2026-01-29 06:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:17 --> ApiController initialized
DEBUG - 2026-01-29 06:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:17 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:18:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:18:17 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:18:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:18:17"}}
DEBUG - 2026-01-29 06:18:17 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:18:17.935Z"}
DEBUG - 2026-01-29 06:18:17 --> Found 43 direct messages
DEBUG - 2026-01-29 06:18:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:18 --> ApiController initialized
DEBUG - 2026-01-29 06:18:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:21 --> ApiController initialized
DEBUG - 2026-01-29 06:18:21 --> ApiController initialized
DEBUG - 2026-01-29 06:18:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:21 --> ApiController initialized
DEBUG - 2026-01-29 06:18:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:21 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:18:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:18:21 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:18:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:18:21"}}
DEBUG - 2026-01-29 06:18:21 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:18:21.526Z"}
DEBUG - 2026-01-29 06:18:21 --> Found 43 direct messages
DEBUG - 2026-01-29 06:18:21 --> ApiController initialized
DEBUG - 2026-01-29 06:18:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:30 --> ApiController initialized
DEBUG - 2026-01-29 06:18:30 --> ApiController initialized
DEBUG - 2026-01-29 06:18:30 --> ApiController initialized
DEBUG - 2026-01-29 06:18:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:30 --> ApiController initialized
DEBUG - 2026-01-29 06:18:30 --> ApiController initialized
DEBUG - 2026-01-29 06:18:30 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:18:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:30 --> Groups data: []
DEBUG - 2026-01-29 06:18:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:18:30 --> ApiController initialized
DEBUG - 2026-01-29 06:18:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:19:00 --> ApiController initialized
DEBUG - 2026-01-29 06:19:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:19:30 --> ApiController initialized
DEBUG - 2026-01-29 06:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:00 --> ApiController initialized
DEBUG - 2026-01-29 06:20:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:07 --> ApiController initialized
DEBUG - 2026-01-29 06:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:07 --> ApiController initialized
DEBUG - 2026-01-29 06:20:07 --> ApiController initialized
DEBUG - 2026-01-29 06:20:07 --> Groups data: []
DEBUG - 2026-01-29 06:20:07 --> ApiController initialized
DEBUG - 2026-01-29 06:20:07 --> ApiController initialized
DEBUG - 2026-01-29 06:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:07 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:07 --> ApiController initialized
DEBUG - 2026-01-29 06:20:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:08 --> ApiController initialized
DEBUG - 2026-01-29 06:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:08 --> ApiController initialized
DEBUG - 2026-01-29 06:20:08 --> ApiController initialized
DEBUG - 2026-01-29 06:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:08 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:20:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:20:08 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:20:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:20:08"}}
DEBUG - 2026-01-29 06:20:08 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:20:08.692Z"}
DEBUG - 2026-01-29 06:20:08 --> Found 43 direct messages
DEBUG - 2026-01-29 06:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:20:08 --> ApiController initialized
DEBUG - 2026-01-29 06:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:03 --> ApiController initialized
DEBUG - 2026-01-29 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:03 --> ApiController initialized
DEBUG - 2026-01-29 06:21:03 --> ApiController initialized
DEBUG - 2026-01-29 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:03 --> ApiController initialized
DEBUG - 2026-01-29 06:21:03 --> ApiController initialized
DEBUG - 2026-01-29 06:21:03 --> Groups data: []
DEBUG - 2026-01-29 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:03 --> ApiController initialized
DEBUG - 2026-01-29 06:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:33 --> ApiController initialized
DEBUG - 2026-01-29 06:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:59 --> ApiController initialized
DEBUG - 2026-01-29 06:21:59 --> ApiController initialized
DEBUG - 2026-01-29 06:21:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:21:59 --> ApiController initialized
DEBUG - 2026-01-29 06:21:59 --> ApiController initialized
DEBUG - 2026-01-29 06:21:59 --> ApiController initialized
DEBUG - 2026-01-29 06:21:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:00 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"43","sender_id":"3","receiver_id":"1","group_id":null,"content":"File: cropped.png","type":"image","file_url":"1769666972_67fa3353ce60558c45cc7d7971bf9447.png","is_group":"0","created_at":"2026-01-29 14:09:32","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:00 --> Groups data: []
DEBUG - 2026-01-29 06:22:00 --> ApiController initialized
DEBUG - 2026-01-29 06:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:01 --> ApiController initialized
DEBUG - 2026-01-29 06:22:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:01 --> ApiController initialized
DEBUG - 2026-01-29 06:22:01 --> ApiController initialized
DEBUG - 2026-01-29 06:22:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:01 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:22:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:22:01 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:22:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:22:01"}}
DEBUG - 2026-01-29 06:22:01 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:22:01.542Z"}
DEBUG - 2026-01-29 06:22:01 --> Found 43 direct messages
DEBUG - 2026-01-29 06:22:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:22:01 --> ApiController initialized
DEBUG - 2026-01-29 06:22:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:39 --> ApiController initialized
DEBUG - 2026-01-29 06:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:39 --> ApiController initialized
DEBUG - 2026-01-29 06:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:39 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:25:39 --> ApiController initialized
DEBUG - 2026-01-29 06:25:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:25:39 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:25:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:25:39"}}
DEBUG - 2026-01-29 06:25:39 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:25:39.325Z"}
DEBUG - 2026-01-29 06:25:39 --> Found 43 direct messages
DEBUG - 2026-01-29 06:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:39 --> ApiController initialized
DEBUG - 2026-01-29 06:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:50 --> ApiController initialized
DEBUG - 2026-01-29 06:25:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:50 --> ApiController initialized
DEBUG - 2026-01-29 06:25:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:50 --> ApiController initialized
DEBUG - 2026-01-29 06:25:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:25:50 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:25:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:25:50 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:25:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:25:50"}}
DEBUG - 2026-01-29 06:25:50 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:25:50.527Z"}
DEBUG - 2026-01-29 06:25:50 --> Found 43 direct messages
DEBUG - 2026-01-29 06:25:50 --> ApiController initialized
DEBUG - 2026-01-29 06:25:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:14 --> ApiController initialized
DEBUG - 2026-01-29 06:30:14 --> ApiController initialized
DEBUG - 2026-01-29 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:14 --> ApiController initialized
DEBUG - 2026-01-29 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:14 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:30:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:30:14 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:30:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:30:14"}}
DEBUG - 2026-01-29 06:30:14 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:30:14.902Z"}
DEBUG - 2026-01-29 06:30:14 --> Found 43 direct messages
DEBUG - 2026-01-29 06:30:14 --> ApiController initialized
DEBUG - 2026-01-29 06:30:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:54 --> ApiController initialized
DEBUG - 2026-01-29 06:30:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:54 --> ApiController initialized
DEBUG - 2026-01-29 06:30:54 --> ApiController initialized
DEBUG - 2026-01-29 06:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:30:55 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:30:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:30:55 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:30:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:30:55"}}
DEBUG - 2026-01-29 06:30:55 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:30:55.075Z"}
DEBUG - 2026-01-29 06:30:55 --> Found 43 direct messages
DEBUG - 2026-01-29 06:30:55 --> ApiController initialized
DEBUG - 2026-01-29 06:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:15 --> ApiController initialized
DEBUG - 2026-01-29 06:31:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:15 --> ApiController initialized
DEBUG - 2026-01-29 06:31:15 --> ApiController initialized
DEBUG - 2026-01-29 06:31:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:15 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:31:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:31:15 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:31:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:31:15"}}
DEBUG - 2026-01-29 06:31:15 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:31:15.310Z"}
DEBUG - 2026-01-29 06:31:15 --> Found 43 direct messages
DEBUG - 2026-01-29 06:31:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:15 --> ApiController initialized
DEBUG - 2026-01-29 06:31:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:40 --> ApiController initialized
DEBUG - 2026-01-29 06:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:40 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:31:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:31:40 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:31:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:31:40"}}
DEBUG - 2026-01-29 06:31:40 --> ApiController initialized
DEBUG - 2026-01-29 06:31:40 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:31:40.820Z"}
DEBUG - 2026-01-29 06:31:40 --> Found 43 direct messages
DEBUG - 2026-01-29 06:31:40 --> ApiController initialized
DEBUG - 2026-01-29 06:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:41 --> ApiController initialized
DEBUG - 2026-01-29 06:31:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:47 --> ApiController initialized
DEBUG - 2026-01-29 06:31:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:31:47 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryZ3pi8pAKut9zJ7SM
DEBUG - 2026-01-29 06:31:47 --> Processing form data
DEBUG - 2026-01-29 06:31:47 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:31:47 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:31:47 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:31:47 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:31:47","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:31:47 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:31:47 --> Message saved successfully with ID: 44
DEBUG - 2026-01-29 06:31:47 --> Sending message to socket server: {"event":"new_message","data":{"id":44,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 06:31:47","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:31:47 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:31:47.346Z"}
DEBUG - 2026-01-29 06:32:39 --> ApiController initialized
DEBUG - 2026-01-29 06:32:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:32:39 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryu3x4WHrLUNMtK5tL
DEBUG - 2026-01-29 06:32:39 --> Processing form data
DEBUG - 2026-01-29 06:32:39 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:32:39 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:32:39 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:32:39 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:32:39","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:32:39 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:32:39 --> Message saved successfully with ID: 45
DEBUG - 2026-01-29 06:32:39 --> Sending message to socket server: {"event":"new_message","data":{"id":45,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 06:32:39","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:32:39 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:32:39.712Z"}
DEBUG - 2026-01-29 06:32:44 --> ApiController initialized
DEBUG - 2026-01-29 06:32:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:32:44 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryshUIJrfYpt9wcr7A
DEBUG - 2026-01-29 06:32:44 --> Processing form data
DEBUG - 2026-01-29 06:32:44 --> POST data: {"content":"reply","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:32:44 --> Processed message data: {"sender_id":"3","content":"reply","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:32:44 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:32:44 --> Inserting message data: {"sender_id":"3","content":"reply","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:32:44","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:32:44 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:32:45 --> Message saved successfully with ID: 46
DEBUG - 2026-01-29 06:32:45 --> Sending message to socket server: {"event":"new_message","data":{"id":46,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"reply","type":"text","file_url":null,"created_at":"2026-01-29 06:32:45","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:32:45 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:32:45.013Z"}
DEBUG - 2026-01-29 06:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:00 --> ApiController initialized
DEBUG - 2026-01-29 06:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:00 --> ApiController initialized
DEBUG - 2026-01-29 06:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:00 --> ApiController initialized
DEBUG - 2026-01-29 06:33:00 --> Groups data: []
DEBUG - 2026-01-29 06:33:00 --> ApiController initialized
DEBUG - 2026-01-29 06:33:00 --> ApiController initialized
DEBUG - 2026-01-29 06:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"46","sender_id":"3","receiver_id":"1","group_id":null,"content":"reply","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:32:44","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:01 --> ApiController initialized
DEBUG - 2026-01-29 06:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:02 --> ApiController initialized
DEBUG - 2026-01-29 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:02 --> ApiController initialized
DEBUG - 2026-01-29 06:33:02 --> ApiController initialized
DEBUG - 2026-01-29 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:02 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:33:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:33:02 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:33:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:33:02"}}
DEBUG - 2026-01-29 06:33:02 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:33:02.687Z"}
DEBUG - 2026-01-29 06:33:02 --> Found 46 direct messages
DEBUG - 2026-01-29 06:33:02 --> ApiController initialized
DEBUG - 2026-01-29 06:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> ApiController initialized
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> ApiController initialized
DEBUG - 2026-01-29 06:33:07 --> ApiController initialized
DEBUG - 2026-01-29 06:33:07 --> ApiController initialized
DEBUG - 2026-01-29 06:33:07 --> ApiController initialized
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> Groups data: []
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:07 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"46","sender_id":"3","receiver_id":"1","group_id":null,"content":"reply","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:32:44","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:33:07 --> ApiController initialized
DEBUG - 2026-01-29 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> ApiController initialized
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> ApiController initialized
DEBUG - 2026-01-29 06:33:13 --> ApiController initialized
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> ApiController initialized
DEBUG - 2026-01-29 06:33:13 --> ApiController initialized
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> Groups data: []
DEBUG - 2026-01-29 06:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"46","sender_id":"3","receiver_id":"1","group_id":null,"content":"reply","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:32:44","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:33:14 --> ApiController initialized
DEBUG - 2026-01-29 06:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:15 --> ApiController initialized
DEBUG - 2026-01-29 06:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:15 --> ApiController initialized
DEBUG - 2026-01-29 06:33:15 --> ApiController initialized
DEBUG - 2026-01-29 06:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:15 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:33:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:33:15 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:33:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:33:15"}}
DEBUG - 2026-01-29 06:33:15 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:33:15.926Z"}
DEBUG - 2026-01-29 06:33:15 --> Found 46 direct messages
DEBUG - 2026-01-29 06:33:15 --> ApiController initialized
DEBUG - 2026-01-29 06:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:20 --> ApiController initialized
DEBUG - 2026-01-29 06:33:20 --> ApiController initialized
DEBUG - 2026-01-29 06:33:20 --> ApiController initialized
DEBUG - 2026-01-29 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:20 --> ApiController initialized
DEBUG - 2026-01-29 06:33:20 --> ApiController initialized
DEBUG - 2026-01-29 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:20 --> Groups data: []
DEBUG - 2026-01-29 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:20 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:08:05","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:08:05","last_message":{"id":"46","sender_id":"3","receiver_id":"1","group_id":null,"content":"reply","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:32:44","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:20 --> ApiController initialized
DEBUG - 2026-01-29 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:34 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 06:33:34 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 06:33:34 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 1
DEBUG - 2026-01-29 06:33:34 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 06:33:34 --> TSR Dashboard: Found 1 assigned tickets
DEBUG - 2026-01-29 06:33:34 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 06:33:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:44 --> ApiController initialized
DEBUG - 2026-01-29 06:33:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:45 --> ApiController initialized
DEBUG - 2026-01-29 06:33:45 --> ApiController initialized
DEBUG - 2026-01-29 06:33:45 --> ApiController initialized
DEBUG - 2026-01-29 06:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:45 --> ApiController initialized
DEBUG - 2026-01-29 06:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:45 --> Groups data: []
DEBUG - 2026-01-29 06:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:45 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 06:33:13","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 06:33:23","last_message":{"id":"46","sender_id":"3","receiver_id":"1","group_id":null,"content":"reply","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:32:44","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":3,"online":false}]
DEBUG - 2026-01-29 06:33:45 --> ApiController initialized
DEBUG - 2026-01-29 06:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:46 --> ApiController initialized
DEBUG - 2026-01-29 06:33:46 --> ApiController initialized
DEBUG - 2026-01-29 06:33:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:46 --> ApiController initialized
DEBUG - 2026-01-29 06:33:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:46 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:33:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:33:46 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:33:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"44","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:33:46"}}
DEBUG - 2026-01-29 06:33:46 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:33:46.523Z"}
DEBUG - 2026-01-29 06:33:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"45","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:33:46"}}
DEBUG - 2026-01-29 06:33:46 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:33:46.530Z"}
DEBUG - 2026-01-29 06:33:46 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"46","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:33:46"}}
DEBUG - 2026-01-29 06:33:46 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:33:46.537Z"}
DEBUG - 2026-01-29 06:33:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:33:46"}}
DEBUG - 2026-01-29 06:33:46 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:33:46.539Z"}
DEBUG - 2026-01-29 06:33:46 --> Found 46 direct messages
DEBUG - 2026-01-29 06:33:46 --> ApiController initialized
DEBUG - 2026-01-29 06:33:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:54 --> ApiController initialized
DEBUG - 2026-01-29 06:33:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:54 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7ZkczViaJDVEzcNj
DEBUG - 2026-01-29 06:33:54 --> Processing form data
DEBUG - 2026-01-29 06:33:54 --> POST data: {"content":"test","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 06:33:54 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:33:54 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:33:54 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:33:54","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:33:54 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:33:54 --> Message saved successfully with ID: 47
DEBUG - 2026-01-29 06:33:54 --> Sending message to socket server: {"event":"new_message","data":{"id":47,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:33:54","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:33:54 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:33:54.444Z"}
DEBUG - 2026-01-29 06:33:55 --> ApiController initialized
DEBUG - 2026-01-29 06:33:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:33:55 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryF6vR9zUBmlJq6Nrj
DEBUG - 2026-01-29 06:33:55 --> Processing form data
DEBUG - 2026-01-29 06:33:55 --> POST data: {"content":"test","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 06:33:55 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:33:55 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:33:55 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:33:55","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:33:56 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:33:56 --> Message saved successfully with ID: 48
DEBUG - 2026-01-29 06:33:56 --> Sending message to socket server: {"event":"new_message","data":{"id":48,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:33:56","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:33:56 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:33:56.046Z"}
DEBUG - 2026-01-29 06:39:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:39:52 --> ApiController initialized
DEBUG - 2026-01-29 06:39:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:39:53 --> ApiController initialized
DEBUG - 2026-01-29 06:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:39:53 --> ApiController initialized
DEBUG - 2026-01-29 06:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:39:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:39:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:39:53 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:39:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"47","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:39:53"}}
DEBUG - 2026-01-29 06:39:53 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:39:53.216Z"}
DEBUG - 2026-01-29 06:39:53 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"48","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:39:53"}}
DEBUG - 2026-01-29 06:39:53 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:39:53.240Z"}
DEBUG - 2026-01-29 06:39:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:39:53"}}
DEBUG - 2026-01-29 06:39:53 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:39:53.243Z"}
DEBUG - 2026-01-29 06:39:53 --> Found 48 direct messages
DEBUG - 2026-01-29 06:39:53 --> ApiController initialized
DEBUG - 2026-01-29 06:39:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:37 --> ApiController initialized
DEBUG - 2026-01-29 06:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:37 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:40:37 --> ApiController initialized
DEBUG - 2026-01-29 06:40:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:40:37 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:40:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:40:37"}}
DEBUG - 2026-01-29 06:40:37 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:40:37.606Z"}
DEBUG - 2026-01-29 06:40:37 --> Found 48 direct messages
DEBUG - 2026-01-29 06:40:37 --> ApiController initialized
DEBUG - 2026-01-29 06:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:37 --> ApiController initialized
DEBUG - 2026-01-29 06:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:49 --> ApiController initialized
DEBUG - 2026-01-29 06:40:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:40:49 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryB8YPfWWS6BkIaBbi
DEBUG - 2026-01-29 06:40:49 --> Processing form data
DEBUG - 2026-01-29 06:40:49 --> POST data: {"content":"try reply","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"47","reply_to_sender_name":"test","reply_to_content":"test"}
DEBUG - 2026-01-29 06:40:49 --> Processed message data: {"sender_id":"3","content":"try reply","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"47","reply_to_sender_id":null,"reply_to_content":"test","reply_to_sender_name":"test"}
DEBUG - 2026-01-29 06:40:49 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:40:49 --> Using original message sender ID: 1
DEBUG - 2026-01-29 06:40:49 --> Final reply_to_sender_id: 1
DEBUG - 2026-01-29 06:40:49 --> Reply data: ID=47, SenderID=1, SenderName=test, Content=test
DEBUG - 2026-01-29 06:40:49 --> Inserting message data: {"sender_id":"3","content":"try reply","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:40:49","is_read":0,"reply_to_id":"47","reply_to_sender_id":1,"reply_to_content":"test","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:40:49 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:40:49 --> Message saved successfully with ID: 49
DEBUG - 2026-01-29 06:40:49 --> Sending message to socket server: {"event":"new_message","data":{"id":49,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try reply","type":"text","file_url":null,"created_at":"2026-01-29 06:40:49","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"47","reply_to_sender_id":1,"reply_to_content":"test","reply_to_sender_name":"test"}}
DEBUG - 2026-01-29 06:40:49 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:40:49.391Z"}
DEBUG - 2026-01-29 06:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:41:12 --> ApiController initialized
DEBUG - 2026-01-29 06:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:41:12 --> ApiController initialized
DEBUG - 2026-01-29 06:41:12 --> ApiController initialized
DEBUG - 2026-01-29 06:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:41:12 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:41:12 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:41:12 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:41:12 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"49","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:41:12"}}
DEBUG - 2026-01-29 06:41:12 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:41:12.608Z"}
DEBUG - 2026-01-29 06:41:12 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:41:12"}}
DEBUG - 2026-01-29 06:41:12 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:41:12.612Z"}
DEBUG - 2026-01-29 06:41:12 --> Found 49 direct messages
DEBUG - 2026-01-29 06:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:41:12 --> ApiController initialized
DEBUG - 2026-01-29 06:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:41:37 --> ApiController initialized
DEBUG - 2026-01-29 06:41:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:41:37 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryioDVHBwzAnqvKSLB
DEBUG - 2026-01-29 06:41:37 --> Processing form data
DEBUG - 2026-01-29 06:41:37 --> POST data: {"content":"hahahahha","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"41","reply_to_sender_name":"test","reply_to_content":"ticket"}
DEBUG - 2026-01-29 06:41:37 --> Processed message data: {"sender_id":"3","content":"hahahahha","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"41","reply_to_sender_id":null,"reply_to_content":"ticket","reply_to_sender_name":"test"}
DEBUG - 2026-01-29 06:41:37 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:41:37 --> Using original message sender ID: 1
DEBUG - 2026-01-29 06:41:37 --> Final reply_to_sender_id: 1
DEBUG - 2026-01-29 06:41:37 --> Reply data: ID=41, SenderID=1, SenderName=test, Content=ticket
DEBUG - 2026-01-29 06:41:37 --> Inserting message data: {"sender_id":"3","content":"hahahahha","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:41:37","is_read":0,"reply_to_id":"41","reply_to_sender_id":1,"reply_to_content":"ticket","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:41:37 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:41:37 --> Message saved successfully with ID: 50
DEBUG - 2026-01-29 06:41:37 --> Sending message to socket server: {"event":"new_message","data":{"id":50,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"hahahahha","type":"text","file_url":null,"created_at":"2026-01-29 06:41:37","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"41","reply_to_sender_id":1,"reply_to_content":"ticket","reply_to_sender_name":"test"}}
DEBUG - 2026-01-29 06:41:37 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:41:37.158Z"}
DEBUG - 2026-01-29 06:43:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:34 --> ApiController initialized
DEBUG - 2026-01-29 06:43:34 --> ApiController initialized
DEBUG - 2026-01-29 06:43:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:34 --> ApiController initialized
DEBUG - 2026-01-29 06:43:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:34 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:43:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:43:34 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:43:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:43:34"}}
DEBUG - 2026-01-29 06:43:34 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:43:34.354Z"}
DEBUG - 2026-01-29 06:43:34 --> Found 50 direct messages
DEBUG - 2026-01-29 06:43:34 --> ApiController initialized
DEBUG - 2026-01-29 06:43:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:46 --> ApiController initialized
DEBUG - 2026-01-29 06:43:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:46 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryeAGl7VzRpqxzDncM
DEBUG - 2026-01-29 06:43:46 --> Processing form data
DEBUG - 2026-01-29 06:43:46 --> POST data: {"content":"\ud83d\ude24","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"43","reply_to_sender_name":"test1","reply_to_content":"\ud83d\udcf7 Photo"}
DEBUG - 2026-01-29 06:43:46 --> Processed message data: {"sender_id":"3","content":"\ud83d\ude24","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"43","reply_to_sender_id":null,"reply_to_content":"\ud83d\udcf7 Photo","reply_to_sender_name":"test1"}
DEBUG - 2026-01-29 06:43:46 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:43:46 --> Using original message sender ID: 3
DEBUG - 2026-01-29 06:43:46 --> Final reply_to_sender_id: 3
DEBUG - 2026-01-29 06:43:46 --> Reply data: ID=43, SenderID=3, SenderName=test1, Content= Photo
DEBUG - 2026-01-29 06:43:46 --> Inserting message data: {"sender_id":"3","content":"\ud83d\ude24","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:43:46","is_read":0,"reply_to_id":"43","reply_to_sender_id":3,"reply_to_content":"\ud83d\udcf7 Photo","reply_to_sender_name":"test1","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:43:46 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:43:46 --> Message saved successfully with ID: 51
DEBUG - 2026-01-29 06:43:46 --> Sending message to socket server: {"event":"new_message","data":{"id":51,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\ude24","type":"text","file_url":null,"created_at":"2026-01-29 06:43:46","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"43","reply_to_sender_id":3,"reply_to_content":"\ud83d\udcf7 Photo","reply_to_sender_name":"test1"}}
DEBUG - 2026-01-29 06:43:46 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:43:46.174Z"}
DEBUG - 2026-01-29 06:43:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:50 --> ApiController initialized
DEBUG - 2026-01-29 06:43:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:50 --> ApiController initialized
DEBUG - 2026-01-29 06:43:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:50 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:43:50 --> ApiController initialized
DEBUG - 2026-01-29 06:43:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:43:50 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:43:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:43:50"}}
DEBUG - 2026-01-29 06:43:50 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:43:50.425Z"}
DEBUG - 2026-01-29 06:43:50 --> Found 51 direct messages
DEBUG - 2026-01-29 06:43:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:43:50 --> ApiController initialized
DEBUG - 2026-01-29 06:43:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:15 --> ApiController initialized
DEBUG - 2026-01-29 06:44:15 --> ApiController initialized
DEBUG - 2026-01-29 06:44:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:15 --> ApiController initialized
DEBUG - 2026-01-29 06:44:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:15 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:44:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:44:15 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:44:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:44:15"}}
DEBUG - 2026-01-29 06:44:16 --> ApiController initialized
DEBUG - 2026-01-29 06:44:16 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:44:16.024Z"}
DEBUG - 2026-01-29 06:44:16 --> Found 51 direct messages
DEBUG - 2026-01-29 06:44:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:24 --> ApiController initialized
DEBUG - 2026-01-29 06:44:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:24 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryE0KPhiOT0Z3E3FpV
DEBUG - 2026-01-29 06:44:24 --> Processing form data
DEBUG - 2026-01-29 06:44:24 --> POST data: {"content":"testtting","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"48","reply_to_sender_name":"test","reply_to_content":"test"}
DEBUG - 2026-01-29 06:44:24 --> Processed message data: {"sender_id":"3","content":"testtting","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"48","reply_to_sender_id":null,"reply_to_content":"test","reply_to_sender_name":"test"}
DEBUG - 2026-01-29 06:44:24 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:44:24 --> Using original message sender ID: 1
DEBUG - 2026-01-29 06:44:24 --> Final reply_to_sender_id: 1
DEBUG - 2026-01-29 06:44:24 --> Reply data: ID=48, SenderID=1, SenderName=test, Content=test
DEBUG - 2026-01-29 06:44:24 --> Inserting message data: {"sender_id":"3","content":"testtting","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:44:24","is_read":0,"reply_to_id":"48","reply_to_sender_id":1,"reply_to_content":"test","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:44:24 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:44:24 --> Message saved successfully with ID: 52
DEBUG - 2026-01-29 06:44:24 --> Sending message to socket server: {"event":"new_message","data":{"id":52,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"testtting","type":"text","file_url":null,"created_at":"2026-01-29 06:44:24","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"48","reply_to_sender_id":1,"reply_to_content":"test","reply_to_sender_name":"test"}}
DEBUG - 2026-01-29 06:44:24 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:44:24.482Z"}
DEBUG - 2026-01-29 06:44:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:44 --> ApiController initialized
DEBUG - 2026-01-29 06:44:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:44 --> ApiController initialized
DEBUG - 2026-01-29 06:44:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:44 --> ApiController initialized
DEBUG - 2026-01-29 06:44:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:44 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:44:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:44:44 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:44:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:44:44"}}
DEBUG - 2026-01-29 06:44:44 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:44:44.603Z"}
DEBUG - 2026-01-29 06:44:44 --> Found 52 direct messages
DEBUG - 2026-01-29 06:44:44 --> ApiController initialized
DEBUG - 2026-01-29 06:44:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:55 --> ApiController initialized
DEBUG - 2026-01-29 06:44:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:44:55 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryUqq38oBGjvBbPeuQ
DEBUG - 2026-01-29 06:44:55 --> Processing form data
DEBUG - 2026-01-29 06:44:55 --> POST data: {"content":"double check","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"39","reply_to_sender_name":"test","reply_to_content":"123"}
DEBUG - 2026-01-29 06:44:55 --> Processed message data: {"sender_id":"3","content":"double check","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"39","reply_to_sender_id":null,"reply_to_content":"123","reply_to_sender_name":"test"}
DEBUG - 2026-01-29 06:44:55 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:44:55 --> Using original message sender ID: 1
DEBUG - 2026-01-29 06:44:55 --> Final reply_to_sender_id: 1
DEBUG - 2026-01-29 06:44:55 --> Reply data: ID=39, SenderID=1, SenderName=test, Content=123
DEBUG - 2026-01-29 06:44:55 --> Inserting message data: {"sender_id":"3","content":"double check","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:44:55","is_read":0,"reply_to_id":"39","reply_to_sender_id":1,"reply_to_content":"123","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:44:55 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:44:55 --> Message saved successfully with ID: 53
DEBUG - 2026-01-29 06:44:55 --> Sending message to socket server: {"event":"new_message","data":{"id":53,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"double check","type":"text","file_url":null,"created_at":"2026-01-29 06:44:55","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"39","reply_to_sender_id":1,"reply_to_content":"123","reply_to_sender_name":"test"}}
DEBUG - 2026-01-29 06:44:55 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:44:55.190Z"}
DEBUG - 2026-01-29 06:45:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:49 --> ApiController initialized
DEBUG - 2026-01-29 06:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:49 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:45:49 --> ApiController initialized
DEBUG - 2026-01-29 06:45:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:45:49 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:45:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:45:49"}}
DEBUG - 2026-01-29 06:45:49 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:45:49.479Z"}
DEBUG - 2026-01-29 06:45:49 --> Found 53 direct messages
DEBUG - 2026-01-29 06:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:49 --> ApiController initialized
DEBUG - 2026-01-29 06:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:49 --> ApiController initialized
DEBUG - 2026-01-29 06:45:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:51 --> ApiController initialized
DEBUG - 2026-01-29 06:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:51 --> ApiController initialized
DEBUG - 2026-01-29 06:45:51 --> ApiController initialized
DEBUG - 2026-01-29 06:45:51 --> ApiController initialized
DEBUG - 2026-01-29 06:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:51 --> ApiController initialized
DEBUG - 2026-01-29 06:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:51 --> Groups data: []
DEBUG - 2026-01-29 06:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:51 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"53","sender_id":"3","receiver_id":"1","group_id":null,"content":"double check","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:44:55","is_read":"0","reply_to_id":"39","reply_to_sender_id":"1","reply_to_content":"123","reply_to_sender_name":"test","original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:45:51 --> ApiController initialized
DEBUG - 2026-01-29 06:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:53 --> ApiController initialized
DEBUG - 2026-01-29 06:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:53 --> ApiController initialized
DEBUG - 2026-01-29 06:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:53 --> ApiController initialized
DEBUG - 2026-01-29 06:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:45:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:45:53 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:45:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:45:53"}}
DEBUG - 2026-01-29 06:45:53 --> ApiController initialized
DEBUG - 2026-01-29 06:45:53 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:45:53.497Z"}
DEBUG - 2026-01-29 06:45:53 --> Found 53 direct messages
DEBUG - 2026-01-29 06:45:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:57 --> ApiController initialized
DEBUG - 2026-01-29 06:45:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:45:57 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary6eaJFCZGVAKthUgf
DEBUG - 2026-01-29 06:45:57 --> Processing form data
DEBUG - 2026-01-29 06:45:57 --> POST data: {"content":".","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:45:57 --> Processed message data: {"sender_id":"3","content":".","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:45:57 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:45:57 --> Inserting message data: {"sender_id":"3","content":".","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:45:57","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:45:57 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:45:57 --> Message saved successfully with ID: 54
DEBUG - 2026-01-29 06:45:57 --> Sending message to socket server: {"event":"new_message","data":{"id":54,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":".","type":"text","file_url":null,"created_at":"2026-01-29 06:45:57","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:45:57 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:45:57.557Z"}
DEBUG - 2026-01-29 06:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:04 --> ApiController initialized
DEBUG - 2026-01-29 06:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:04 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:46:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:46:04 --> ApiController initialized
DEBUG - 2026-01-29 06:46:04 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"50","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:46:04"}}
DEBUG - 2026-01-29 06:46:04 --> ApiController initialized
DEBUG - 2026-01-29 06:46:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:46:04.749Z"}
DEBUG - 2026-01-29 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"51","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:46:04"}}
DEBUG - 2026-01-29 06:46:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:46:04.765Z"}
DEBUG - 2026-01-29 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"52","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:46:04"}}
DEBUG - 2026-01-29 06:46:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:46:04.773Z"}
DEBUG - 2026-01-29 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"53","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:46:04"}}
DEBUG - 2026-01-29 06:46:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:46:04.781Z"}
DEBUG - 2026-01-29 06:46:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"54","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:46:04"}}
DEBUG - 2026-01-29 06:46:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:46:04.788Z"}
DEBUG - 2026-01-29 06:46:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:46:04"}}
DEBUG - 2026-01-29 06:46:04 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:46:04.791Z"}
DEBUG - 2026-01-29 06:46:04 --> Found 54 direct messages
DEBUG - 2026-01-29 06:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:05 --> ApiController initialized
DEBUG - 2026-01-29 06:46:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:08 --> ApiController initialized
DEBUG - 2026-01-29 06:46:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:08 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary8ulp9SO8kkfpviDD
DEBUG - 2026-01-29 06:46:08 --> Processing form data
DEBUG - 2026-01-29 06:46:08 --> POST data: {"content":".","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 06:46:08 --> Processed message data: {"sender_id":"1","content":".","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:46:08 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:46:08 --> Inserting message data: {"sender_id":"1","content":".","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:46:08","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 06:46:08 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:46:08 --> Message saved successfully with ID: 55
DEBUG - 2026-01-29 06:46:08 --> Sending message to socket server: {"event":"new_message","data":{"id":55,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":".","type":"text","file_url":null,"created_at":"2026-01-29 06:46:08","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:46:08 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:46:08.374Z"}
DEBUG - 2026-01-29 06:46:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:40 --> ApiController initialized
DEBUG - 2026-01-29 06:46:40 --> ApiController initialized
DEBUG - 2026-01-29 06:46:40 --> ApiController initialized
DEBUG - 2026-01-29 06:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:40 --> ApiController initialized
DEBUG - 2026-01-29 06:46:40 --> ApiController initialized
DEBUG - 2026-01-29 06:46:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"55","sender_id":"1","receiver_id":"3","group_id":null,"content":".","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:46:08","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 06:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:40 --> ApiController initialized
DEBUG - 2026-01-29 06:46:40 --> Groups data: []
DEBUG - 2026-01-29 06:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:46:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> ApiController initialized
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> ApiController initialized
DEBUG - 2026-01-29 06:47:03 --> ApiController initialized
DEBUG - 2026-01-29 06:47:03 --> ApiController initialized
DEBUG - 2026-01-29 06:47:03 --> ApiController initialized
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"55","sender_id":"1","receiver_id":"3","group_id":null,"content":".","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:46:08","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> Groups data: []
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:03 --> ApiController initialized
DEBUG - 2026-01-29 06:47:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:13 --> ApiController initialized
DEBUG - 2026-01-29 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:13 --> ApiController initialized
DEBUG - 2026-01-29 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:13 --> Groups data: []
DEBUG - 2026-01-29 06:47:13 --> ApiController initialized
DEBUG - 2026-01-29 06:47:13 --> ApiController initialized
DEBUG - 2026-01-29 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"55","sender_id":"1","receiver_id":"3","group_id":null,"content":".","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:46:08","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 06:47:13 --> ApiController initialized
DEBUG - 2026-01-29 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:13 --> ApiController initialized
DEBUG - 2026-01-29 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:14 --> ApiController initialized
DEBUG - 2026-01-29 06:47:14 --> ApiController initialized
DEBUG - 2026-01-29 06:47:14 --> ApiController initialized
DEBUG - 2026-01-29 06:47:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:14 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:47:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:47:14 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:47:14 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"55","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:47:14"}}
DEBUG - 2026-01-29 06:47:14 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:47:14.518Z"}
DEBUG - 2026-01-29 06:47:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:47:14"}}
DEBUG - 2026-01-29 06:47:14 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:47:14.520Z"}
DEBUG - 2026-01-29 06:47:14 --> Found 55 direct messages
DEBUG - 2026-01-29 06:47:14 --> ApiController initialized
DEBUG - 2026-01-29 06:47:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:18 --> ApiController initialized
DEBUG - 2026-01-29 06:47:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:18 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryGQYyvxsnwMylc1aO
DEBUG - 2026-01-29 06:47:18 --> Processing form data
DEBUG - 2026-01-29 06:47:18 --> POST data: {"content":".","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:47:18 --> Processed message data: {"sender_id":"3","content":".","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:47:18 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:47:18 --> Inserting message data: {"sender_id":"3","content":".","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:47:18","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:47:18 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:47:18 --> Message saved successfully with ID: 56
DEBUG - 2026-01-29 06:47:18 --> Sending message to socket server: {"event":"new_message","data":{"id":56,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":".","type":"text","file_url":null,"created_at":"2026-01-29 06:47:18","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:47:18 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:47:18.811Z"}
DEBUG - 2026-01-29 06:47:25 --> ApiController initialized
DEBUG - 2026-01-29 06:47:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:25 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary08aMlql9jBH6gL4s
DEBUG - 2026-01-29 06:47:25 --> Processing form data
DEBUG - 2026-01-29 06:47:25 --> POST data: {"content":"...","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"55","reply_to_sender_name":"test","reply_to_content":"."}
DEBUG - 2026-01-29 06:47:25 --> Processed message data: {"sender_id":"3","content":"...","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"55","reply_to_sender_id":null,"reply_to_content":".","reply_to_sender_name":"test"}
DEBUG - 2026-01-29 06:47:25 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:47:25 --> Using original message sender ID: 1
DEBUG - 2026-01-29 06:47:25 --> Final reply_to_sender_id: 1
DEBUG - 2026-01-29 06:47:25 --> Reply data: ID=55, SenderID=1, SenderName=test, Content=.
DEBUG - 2026-01-29 06:47:25 --> Inserting message data: {"sender_id":"3","content":"...","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:47:25","is_read":0,"reply_to_id":"55","reply_to_sender_id":1,"reply_to_content":".","reply_to_sender_name":"test","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:47:25 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:47:25 --> Message saved successfully with ID: 57
DEBUG - 2026-01-29 06:47:25 --> Sending message to socket server: {"event":"new_message","data":{"id":57,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"...","type":"text","file_url":null,"created_at":"2026-01-29 06:47:25","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"55","reply_to_sender_id":1,"reply_to_content":".","reply_to_sender_name":"test"}}
DEBUG - 2026-01-29 06:47:25 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:47:25.568Z"}
DEBUG - 2026-01-29 06:47:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:34 --> ApiController initialized
DEBUG - 2026-01-29 06:47:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:34 --> ApiController initialized
DEBUG - 2026-01-29 06:47:34 --> ApiController initialized
DEBUG - 2026-01-29 06:47:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:34 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:47:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:47:34 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:47:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:47:34"}}
DEBUG - 2026-01-29 06:47:34 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:47:34.487Z"}
DEBUG - 2026-01-29 06:47:34 --> Found 57 direct messages
DEBUG - 2026-01-29 06:47:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:47:34 --> ApiController initialized
DEBUG - 2026-01-29 06:47:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:50:04 --> ApiController initialized
DEBUG - 2026-01-29 06:50:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:50:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryewrVZkdBqSxViHLz
DEBUG - 2026-01-29 06:50:04 --> Processing form data
DEBUG - 2026-01-29 06:50:04 --> POST data: {"content":"\ud83d\udc4d","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:50:04 --> Processed message data: {"sender_id":"3","content":"\ud83d\udc4d","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:50:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:50:04 --> Inserting message data: {"sender_id":"3","content":"\ud83d\udc4d","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:50:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:50:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:50:04 --> Message saved successfully with ID: 58
DEBUG - 2026-01-29 06:50:04 --> Sending message to socket server: {"event":"new_message","data":{"id":58,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\udc4d","type":"text","file_url":null,"created_at":"2026-01-29 06:50:04","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:50:04 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:50:04.924Z"}
DEBUG - 2026-01-29 06:50:17 --> ApiController initialized
DEBUG - 2026-01-29 06:50:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:50:17 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryBquRJGhkoogj1XCA
DEBUG - 2026-01-29 06:50:17 --> Processing form data
DEBUG - 2026-01-29 06:50:17 --> POST data: {"content":"\ud83e\udd14","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96","reply_to_id":"58","reply_to_sender_name":"test1","reply_to_content":"\ud83d\udc4d"}
DEBUG - 2026-01-29 06:50:17 --> Processed message data: {"sender_id":"3","content":"\ud83e\udd14","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":"58","reply_to_sender_id":null,"reply_to_content":"\ud83d\udc4d","reply_to_sender_name":"test1"}
DEBUG - 2026-01-29 06:50:17 --> Original reply_to_sender_id received: null
DEBUG - 2026-01-29 06:50:17 --> Using original message sender ID: 3
DEBUG - 2026-01-29 06:50:17 --> Final reply_to_sender_id: 3
DEBUG - 2026-01-29 06:50:17 --> Reply data: ID=58, SenderID=3, SenderName=test1, Content=
DEBUG - 2026-01-29 06:50:17 --> Inserting message data: {"sender_id":"3","content":"\ud83e\udd14","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:50:17","is_read":0,"reply_to_id":"58","reply_to_sender_id":3,"reply_to_content":"\ud83d\udc4d","reply_to_sender_name":"test1","receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:50:17 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:50:17 --> Message saved successfully with ID: 59
DEBUG - 2026-01-29 06:50:17 --> Sending message to socket server: {"event":"new_message","data":{"id":59,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83e\udd14","type":"text","file_url":null,"created_at":"2026-01-29 06:50:17","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":"58","reply_to_sender_id":3,"reply_to_content":"\ud83d\udc4d","reply_to_sender_name":"test1"}}
DEBUG - 2026-01-29 06:50:17 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:50:17.124Z"}
DEBUG - 2026-01-29 06:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:16 --> ApiController initialized
DEBUG - 2026-01-29 06:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:16 --> ApiController initialized
DEBUG - 2026-01-29 06:51:16 --> ApiController initialized
DEBUG - 2026-01-29 06:51:16 --> ApiController initialized
DEBUG - 2026-01-29 06:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:16 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"59","sender_id":"3","receiver_id":"1","group_id":null,"content":"?","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 14:50:17","is_read":"0","reply_to_id":"58","reply_to_sender_id":"3","reply_to_content":"?","reply_to_sender_name":"test1","original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 06:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:16 --> Groups data: []
DEBUG - 2026-01-29 06:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:16 --> ApiController initialized
DEBUG - 2026-01-29 06:51:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:17 --> ApiController initialized
DEBUG - 2026-01-29 06:51:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:21 --> ApiController initialized
DEBUG - 2026-01-29 06:51:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:21 --> ApiController initialized
DEBUG - 2026-01-29 06:51:21 --> ApiController initialized
DEBUG - 2026-01-29 06:51:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:21 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:51:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:51:21 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:51:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:51:21"}}
DEBUG - 2026-01-29 06:51:21 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:51:21.635Z"}
DEBUG - 2026-01-29 06:51:21 --> Found 59 direct messages
DEBUG - 2026-01-29 06:51:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:21 --> ApiController initialized
DEBUG - 2026-01-29 06:51:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:29 --> ApiController initialized
DEBUG - 2026-01-29 06:51:29 --> ApiController initialized
DEBUG - 2026-01-29 06:51:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:29 --> ApiController initialized
DEBUG - 2026-01-29 06:51:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:51:29 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:51:29 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:51:29 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:51:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"56","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:51:30"}}
DEBUG - 2026-01-29 06:51:30 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:51:30.009Z"}
DEBUG - 2026-01-29 06:51:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"57","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:51:30"}}
DEBUG - 2026-01-29 06:51:30 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:51:30.016Z"}
DEBUG - 2026-01-29 06:51:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"58","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:51:30"}}
DEBUG - 2026-01-29 06:51:30 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:51:30.023Z"}
DEBUG - 2026-01-29 06:51:30 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"59","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:51:30"}}
DEBUG - 2026-01-29 06:51:30 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:51:30.029Z"}
DEBUG - 2026-01-29 06:51:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:51:30"}}
DEBUG - 2026-01-29 06:51:30 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:51:30.032Z"}
DEBUG - 2026-01-29 06:51:30 --> Found 59 direct messages
DEBUG - 2026-01-29 06:51:30 --> ApiController initialized
DEBUG - 2026-01-29 06:51:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:46 --> ApiController initialized
DEBUG - 2026-01-29 06:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:47 --> ApiController initialized
DEBUG - 2026-01-29 06:52:47 --> ApiController initialized
DEBUG - 2026-01-29 06:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:47 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:52:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:52:47 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:52:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:52:47"}}
DEBUG - 2026-01-29 06:52:47 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:52:47.168Z"}
DEBUG - 2026-01-29 06:52:47 --> Found 59 direct messages
DEBUG - 2026-01-29 06:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:47 --> ApiController initialized
DEBUG - 2026-01-29 06:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:51 --> ApiController initialized
DEBUG - 2026-01-29 06:52:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:51 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryBPSxsLwJgbRbpeiY
DEBUG - 2026-01-29 06:52:51 --> Processing form data
DEBUG - 2026-01-29 06:52:51 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:52:51 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:52:51 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:52:51 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:52:51","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:52:51 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:52:51 --> Message saved successfully with ID: 60
DEBUG - 2026-01-29 06:52:51 --> Sending message to socket server: {"event":"new_message","data":{"id":60,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 06:52:51","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:52:52 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:52:52.000Z"}
DEBUG - 2026-01-29 06:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:58 --> ApiController initialized
DEBUG - 2026-01-29 06:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:58 --> ApiController initialized
DEBUG - 2026-01-29 06:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:58 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 06:52:58 --> ApiController initialized
DEBUG - 2026-01-29 06:52:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:52:58 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 06:52:58 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"60","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 06:52:58"}}
DEBUG - 2026-01-29 06:52:58 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T06:52:58.752Z"}
DEBUG - 2026-01-29 06:52:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 06:52:58"}}
DEBUG - 2026-01-29 06:52:58 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:52:58.755Z"}
DEBUG - 2026-01-29 06:52:58 --> Found 60 direct messages
DEBUG - 2026-01-29 06:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:52:58 --> ApiController initialized
DEBUG - 2026-01-29 06:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:53:08 --> ApiController initialized
DEBUG - 2026-01-29 06:53:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:53:08 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary1uBbBBYbJ4NWtsul
DEBUG - 2026-01-29 06:53:08 --> Processing form data
DEBUG - 2026-01-29 06:53:08 --> POST data: {"content":"huh","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:53:08 --> Processed message data: {"sender_id":"3","content":"huh","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:53:08 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:53:08 --> Inserting message data: {"sender_id":"3","content":"huh","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:53:08","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:53:08 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:53:08 --> Message saved successfully with ID: 61
DEBUG - 2026-01-29 06:53:08 --> Sending message to socket server: {"event":"new_message","data":{"id":61,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"huh","type":"text","file_url":null,"created_at":"2026-01-29 06:53:08","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:53:08 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:53:08.821Z"}
DEBUG - 2026-01-29 06:57:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:57:42 --> ApiController initialized
DEBUG - 2026-01-29 06:57:42 --> ApiController initialized
DEBUG - 2026-01-29 06:57:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:57:42 --> ApiController initialized
DEBUG - 2026-01-29 06:57:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:57:42 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:57:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:57:42 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:57:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:57:42"}}
DEBUG - 2026-01-29 06:57:42 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:57:42.771Z"}
DEBUG - 2026-01-29 06:57:42 --> Found 61 direct messages
DEBUG - 2026-01-29 06:57:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:57:42 --> ApiController initialized
DEBUG - 2026-01-29 06:57:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:17 --> ApiController initialized
DEBUG - 2026-01-29 06:58:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:17 --> ApiController initialized
DEBUG - 2026-01-29 06:58:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:17 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 06:58:17 --> ApiController initialized
DEBUG - 2026-01-29 06:58:17 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 06:58:17 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 06:58:17 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 06:58:17"}}
DEBUG - 2026-01-29 06:58:17 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T06:58:17.937Z"}
DEBUG - 2026-01-29 06:58:17 --> Found 61 direct messages
DEBUG - 2026-01-29 06:58:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:18 --> ApiController initialized
DEBUG - 2026-01-29 06:58:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:27 --> ApiController initialized
DEBUG - 2026-01-29 06:58:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:27 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarylL6WR2NttrELYG4Q
DEBUG - 2026-01-29 06:58:27 --> Processing form data
DEBUG - 2026-01-29 06:58:27 --> POST data: {"content":"luh","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:58:27 --> Processed message data: {"sender_id":"3","content":"luh","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:58:27 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:58:27 --> Inserting message data: {"sender_id":"3","content":"luh","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:58:27","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:58:27 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:58:27 --> Message saved successfully with ID: 62
DEBUG - 2026-01-29 06:58:27 --> Sending message to socket server: {"event":"new_message","data":{"id":62,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"luh","type":"text","file_url":null,"created_at":"2026-01-29 06:58:27","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:58:27 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:58:27.658Z"}
DEBUG - 2026-01-29 06:58:50 --> ApiController initialized
DEBUG - 2026-01-29 06:58:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:50 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryMxacTCA3LQ3D6ANx
DEBUG - 2026-01-29 06:58:50 --> Processing form data
DEBUG - 2026-01-29 06:58:50 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:58:50 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:58:50 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:58:50 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:58:50","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:58:50 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:58:50 --> Message saved successfully with ID: 63
DEBUG - 2026-01-29 06:58:50 --> Sending message to socket server: {"event":"new_message","data":{"id":63,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:58:50","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:58:50 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:58:50.132Z"}
DEBUG - 2026-01-29 06:58:51 --> ApiController initialized
DEBUG - 2026-01-29 06:58:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:52 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryiqDAapYddsL9UXtY
DEBUG - 2026-01-29 06:58:52 --> Processing form data
DEBUG - 2026-01-29 06:58:52 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:58:52 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:58:52 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:58:52 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:58:52","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:58:52 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:58:52 --> Message saved successfully with ID: 64
DEBUG - 2026-01-29 06:58:52 --> Sending message to socket server: {"event":"new_message","data":{"id":64,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:58:52","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:58:52 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:58:52.057Z"}
DEBUG - 2026-01-29 06:58:53 --> ApiController initialized
DEBUG - 2026-01-29 06:58:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 06:58:53 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryAbkrl7jqY0TjnGWj
DEBUG - 2026-01-29 06:58:53 --> Processing form data
DEBUG - 2026-01-29 06:58:53 --> POST data: {"content":"test","receiver_id":"1","type":"text","csrf_test_name":"c49bad47ef7b3cbb5756036d660ece96"}
DEBUG - 2026-01-29 06:58:53 --> Processed message data: {"sender_id":"3","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 06:58:53 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 06:58:53 --> Inserting message data: {"sender_id":"3","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 14:58:53","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 06:58:53 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 06:58:53 --> Message saved successfully with ID: 65
DEBUG - 2026-01-29 06:58:53 --> Sending message to socket server: {"event":"new_message","data":{"id":65,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 06:58:53","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 06:58:53 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T06:58:53.219Z"}
DEBUG - 2026-01-29 07:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:01:50 --> ApiController initialized
DEBUG - 2026-01-29 07:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:01:50 --> ApiController initialized
DEBUG - 2026-01-29 07:01:50 --> ApiController initialized
DEBUG - 2026-01-29 07:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:01:50 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:01:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:01:50 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:01:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:01:50"}}
DEBUG - 2026-01-29 07:01:50 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:01:50.806Z"}
DEBUG - 2026-01-29 07:01:50 --> Found 65 direct messages
DEBUG - 2026-01-29 07:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:01:51 --> ApiController initialized
DEBUG - 2026-01-29 07:01:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:01:58 --> ApiController initialized
DEBUG - 2026-01-29 07:01:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:01:58 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryoyTjQmhiHfLJsybS
DEBUG - 2026-01-29 07:01:58 --> Processing form data
DEBUG - 2026-01-29 07:01:58 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:01:58 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:01:58 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:01:58 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:01:58","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:01:58 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:01:58 --> Message saved successfully with ID: 66
DEBUG - 2026-01-29 07:01:58 --> Sending message to socket server: {"event":"new_message","data":{"id":66,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:01:58","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:01:58 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:01:58.368Z"}
DEBUG - 2026-01-29 07:02:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:20 --> ApiController initialized
DEBUG - 2026-01-29 07:02:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:20 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:02:20 --> ApiController initialized
DEBUG - 2026-01-29 07:02:20 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:02:20 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:02:20 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:02:20"}}
DEBUG - 2026-01-29 07:02:20 --> ApiController initialized
DEBUG - 2026-01-29 07:02:20 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:02:20.332Z"}
DEBUG - 2026-01-29 07:02:20 --> Found 66 direct messages
DEBUG - 2026-01-29 07:02:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:20 --> ApiController initialized
DEBUG - 2026-01-29 07:02:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:31 --> ApiController initialized
DEBUG - 2026-01-29 07:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:31 --> ApiController initialized
DEBUG - 2026-01-29 07:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:31 --> ApiController initialized
DEBUG - 2026-01-29 07:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:31 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:02:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:02:31 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"61","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:02:31.673Z"}
DEBUG - 2026-01-29 07:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"62","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:02:31.678Z"}
DEBUG - 2026-01-29 07:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"63","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:02:31.684Z"}
DEBUG - 2026-01-29 07:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"64","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:02:31.696Z"}
DEBUG - 2026-01-29 07:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"65","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:02:31.701Z"}
DEBUG - 2026-01-29 07:02:31 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"66","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:02:31.707Z"}
DEBUG - 2026-01-29 07:02:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:02:31"}}
DEBUG - 2026-01-29 07:02:31 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:02:31.710Z"}
DEBUG - 2026-01-29 07:02:31 --> Found 66 direct messages
DEBUG - 2026-01-29 07:02:31 --> ApiController initialized
DEBUG - 2026-01-29 07:02:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:39 --> ApiController initialized
DEBUG - 2026-01-29 07:02:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:40 --> ApiController initialized
DEBUG - 2026-01-29 07:02:40 --> ApiController initialized
DEBUG - 2026-01-29 07:02:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:40 --> ApiController initialized
DEBUG - 2026-01-29 07:02:40 --> ApiController initialized
DEBUG - 2026-01-29 07:02:40 --> ApiController initialized
DEBUG - 2026-01-29 07:02:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"66","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:01:58","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:02:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:40 --> Groups data: []
DEBUG - 2026-01-29 07:02:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:42 --> ApiController initialized
DEBUG - 2026-01-29 07:02:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:42 --> ApiController initialized
DEBUG - 2026-01-29 07:02:42 --> ApiController initialized
DEBUG - 2026-01-29 07:02:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:42 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:02:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:02:42 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:02:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:02:42"}}
DEBUG - 2026-01-29 07:02:42 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:02:42.257Z"}
DEBUG - 2026-01-29 07:02:42 --> Found 66 direct messages
DEBUG - 2026-01-29 07:02:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:42 --> ApiController initialized
DEBUG - 2026-01-29 07:02:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:48 --> ApiController initialized
DEBUG - 2026-01-29 07:02:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:02:48 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary5j8h6Y7OczTQ5abN
DEBUG - 2026-01-29 07:02:48 --> Processing form data
DEBUG - 2026-01-29 07:02:48 --> POST data: {"content":"testt","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:02:48 --> Processed message data: {"sender_id":"3","content":"testt","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:02:48 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:02:48 --> Inserting message data: {"sender_id":"3","content":"testt","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:02:48","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:02:48 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:02:48 --> Message saved successfully with ID: 67
DEBUG - 2026-01-29 07:02:48 --> Sending message to socket server: {"event":"new_message","data":{"id":67,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"testt","type":"text","file_url":null,"created_at":"2026-01-29 07:02:48","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:02:48 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:02:48.778Z"}
DEBUG - 2026-01-29 07:03:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:10 --> ApiController initialized
DEBUG - 2026-01-29 07:03:10 --> ApiController initialized
DEBUG - 2026-01-29 07:03:10 --> ApiController initialized
DEBUG - 2026-01-29 07:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:10 --> ApiController initialized
DEBUG - 2026-01-29 07:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:10 --> ApiController initialized
DEBUG - 2026-01-29 07:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:10 --> Groups data: []
DEBUG - 2026-01-29 07:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:10 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 06:33:13","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 06:33:23","last_message":{"id":"67","sender_id":"3","receiver_id":"1","group_id":null,"content":"testt","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:02:48","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 07:03:10 --> ApiController initialized
DEBUG - 2026-01-29 07:03:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:16 --> ApiController initialized
DEBUG - 2026-01-29 07:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:16 --> ApiController initialized
DEBUG - 2026-01-29 07:03:16 --> ApiController initialized
DEBUG - 2026-01-29 07:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:16 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:03:16 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:03:16 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:03:16 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"67","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:03:16"}}
DEBUG - 2026-01-29 07:03:16 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:03:16.567Z"}
DEBUG - 2026-01-29 07:03:16 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:03:16"}}
DEBUG - 2026-01-29 07:03:16 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:03:16.570Z"}
DEBUG - 2026-01-29 07:03:16 --> Found 67 direct messages
DEBUG - 2026-01-29 07:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:16 --> ApiController initialized
DEBUG - 2026-01-29 07:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:39 --> ApiController initialized
DEBUG - 2026-01-29 07:03:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:39 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryBAq7mMXNbnS7XFNc
DEBUG - 2026-01-29 07:03:39 --> Processing form data
DEBUG - 2026-01-29 07:03:39 --> POST data: {"content":".","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:03:39 --> Processed message data: {"sender_id":"1","content":".","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:03:39 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:03:39 --> Inserting message data: {"sender_id":"1","content":".","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:03:39","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:03:39 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:03:39 --> Message saved successfully with ID: 68
DEBUG - 2026-01-29 07:03:39 --> Sending message to socket server: {"event":"new_message","data":{"id":68,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":".","type":"text","file_url":null,"created_at":"2026-01-29 07:03:39","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:03:39 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:03:39.964Z"}
DEBUG - 2026-01-29 07:03:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:50 --> ApiController initialized
DEBUG - 2026-01-29 07:03:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:50 --> ApiController initialized
DEBUG - 2026-01-29 07:03:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:51 --> ApiController initialized
DEBUG - 2026-01-29 07:03:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:51 --> ApiController initialized
DEBUG - 2026-01-29 07:03:51 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"68","sender_id":"1","receiver_id":"3","group_id":null,"content":".","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:03:39","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 07:03:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:51 --> ApiController initialized
DEBUG - 2026-01-29 07:03:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:51 --> Groups data: []
DEBUG - 2026-01-29 07:03:51 --> ApiController initialized
DEBUG - 2026-01-29 07:03:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:52 --> ApiController initialized
DEBUG - 2026-01-29 07:03:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:52 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:03:52 --> ApiController initialized
DEBUG - 2026-01-29 07:03:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:03:52 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:03:52 --> ApiController initialized
DEBUG - 2026-01-29 07:03:52 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"68","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:03:52"}}
DEBUG - 2026-01-29 07:03:52 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:03:52.923Z"}
DEBUG - 2026-01-29 07:03:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:03:52"}}
DEBUG - 2026-01-29 07:03:52 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:03:52.925Z"}
DEBUG - 2026-01-29 07:03:52 --> Found 68 direct messages
DEBUG - 2026-01-29 07:03:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:03:53 --> ApiController initialized
DEBUG - 2026-01-29 07:03:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:04:13 --> ApiController initialized
DEBUG - 2026-01-29 07:04:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:04:13 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary29f1l4Cm2AS074BT
DEBUG - 2026-01-29 07:04:13 --> Processing form data
DEBUG - 2026-01-29 07:04:13 --> POST data: {"content":"test","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:04:13 --> Processed message data: {"sender_id":"1","content":"test","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:04:13 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:04:13 --> Inserting message data: {"sender_id":"1","content":"test","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:04:13","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:04:13 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:04:13 --> Message saved successfully with ID: 69
DEBUG - 2026-01-29 07:04:13 --> Sending message to socket server: {"event":"new_message","data":{"id":69,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"test","type":"text","file_url":null,"created_at":"2026-01-29 07:04:13","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:04:13 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:04:13.290Z"}
DEBUG - 2026-01-29 07:06:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:41 --> ApiController initialized
DEBUG - 2026-01-29 07:06:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:41 --> ApiController initialized
DEBUG - 2026-01-29 07:06:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:06:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:06:42 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:06:42 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"69","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:06:42"}}
DEBUG - 2026-01-29 07:06:42 --> ApiController initialized
DEBUG - 2026-01-29 07:06:42 --> ApiController initialized
DEBUG - 2026-01-29 07:06:42 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:06:42.345Z"}
DEBUG - 2026-01-29 07:06:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:06:42"}}
DEBUG - 2026-01-29 07:06:42 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:06:42.358Z"}
DEBUG - 2026-01-29 07:06:42 --> Found 69 direct messages
DEBUG - 2026-01-29 07:06:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:48 --> ApiController initialized
DEBUG - 2026-01-29 07:06:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:48 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryZcxbDBtWFXCcXFXB
DEBUG - 2026-01-29 07:06:48 --> Processing form data
DEBUG - 2026-01-29 07:06:48 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:06:48 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:06:48 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:06:48 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:06:48","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:06:48 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:06:48 --> Message saved successfully with ID: 70
DEBUG - 2026-01-29 07:06:48 --> Sending message to socket server: {"event":"new_message","data":{"id":70,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:06:48","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:06:48 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:06:48.546Z"}
DEBUG - 2026-01-29 07:06:56 --> ApiController initialized
DEBUG - 2026-01-29 07:06:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:06:56 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryVBL9W298uxA3kZ5b
DEBUG - 2026-01-29 07:06:56 --> Processing form data
DEBUG - 2026-01-29 07:06:56 --> POST data: {"content":"k","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:06:56 --> Processed message data: {"sender_id":"1","content":"k","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:06:56 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:06:56 --> Inserting message data: {"sender_id":"1","content":"k","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:06:56","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:06:56 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:06:56 --> Message saved successfully with ID: 71
DEBUG - 2026-01-29 07:06:56 --> Sending message to socket server: {"event":"new_message","data":{"id":71,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"k","type":"text","file_url":null,"created_at":"2026-01-29 07:06:56","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:06:56 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:06:56.743Z"}
DEBUG - 2026-01-29 07:07:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:35 --> ApiController initialized
DEBUG - 2026-01-29 07:07:35 --> ApiController initialized
DEBUG - 2026-01-29 07:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:35 --> ApiController initialized
DEBUG - 2026-01-29 07:07:35 --> ApiController initialized
DEBUG - 2026-01-29 07:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:35 --> Groups data: []
DEBUG - 2026-01-29 07:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:35 --> ApiController initialized
DEBUG - 2026-01-29 07:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:35 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 06:33:13","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 06:33:23","last_message":{"id":"71","sender_id":"1","receiver_id":"3","group_id":null,"content":"k","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:06:56","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 07:07:35 --> ApiController initialized
DEBUG - 2026-01-29 07:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:41 --> ApiController initialized
DEBUG - 2026-01-29 07:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:41 --> ApiController initialized
DEBUG - 2026-01-29 07:07:41 --> ApiController initialized
DEBUG - 2026-01-29 07:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:41 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:07:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:07:41 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:07:41 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"70","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:07:41"}}
DEBUG - 2026-01-29 07:07:41 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:07:41.465Z"}
DEBUG - 2026-01-29 07:07:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:07:41"}}
DEBUG - 2026-01-29 07:07:41 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:07:41.468Z"}
DEBUG - 2026-01-29 07:07:41 --> Found 71 direct messages
DEBUG - 2026-01-29 07:07:41 --> ApiController initialized
DEBUG - 2026-01-29 07:07:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:47 --> ApiController initialized
DEBUG - 2026-01-29 07:07:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:48 --> ApiController initialized
DEBUG - 2026-01-29 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:48 --> ApiController initialized
DEBUG - 2026-01-29 07:07:48 --> ApiController initialized
DEBUG - 2026-01-29 07:07:48 --> ApiController initialized
DEBUG - 2026-01-29 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:48 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"71","sender_id":"1","receiver_id":"3","group_id":null,"content":"k","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:06:56","is_read":"0","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":1,"online":false}]
DEBUG - 2026-01-29 07:07:48 --> ApiController initialized
DEBUG - 2026-01-29 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:48 --> Groups data: []
DEBUG - 2026-01-29 07:07:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:49 --> ApiController initialized
DEBUG - 2026-01-29 07:07:49 --> ApiController initialized
DEBUG - 2026-01-29 07:07:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:49 --> ApiController initialized
DEBUG - 2026-01-29 07:07:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:49 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:07:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:07:49 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:07:49 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"71","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:07:49"}}
DEBUG - 2026-01-29 07:07:49 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:07:49.832Z"}
DEBUG - 2026-01-29 07:07:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:07:49"}}
DEBUG - 2026-01-29 07:07:49 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:07:49.834Z"}
DEBUG - 2026-01-29 07:07:49 --> Found 71 direct messages
DEBUG - 2026-01-29 07:07:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:50 --> ApiController initialized
DEBUG - 2026-01-29 07:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:52 --> ApiController initialized
DEBUG - 2026-01-29 07:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:52 --> ApiController initialized
DEBUG - 2026-01-29 07:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:52 --> ApiController initialized
DEBUG - 2026-01-29 07:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:07:52 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:07:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:07:52 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:07:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:07:52"}}
DEBUG - 2026-01-29 07:07:52 --> ApiController initialized
DEBUG - 2026-01-29 07:07:52 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:07:52.526Z"}
DEBUG - 2026-01-29 07:07:52 --> Found 71 direct messages
DEBUG - 2026-01-29 07:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:44 --> ApiController initialized
DEBUG - 2026-01-29 07:09:44 --> ApiController initialized
DEBUG - 2026-01-29 07:09:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:44 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:09:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:09:44 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:09:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:09:44"}}
DEBUG - 2026-01-29 07:09:44 --> ApiController initialized
DEBUG - 2026-01-29 07:09:44 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:09:44.810Z"}
DEBUG - 2026-01-29 07:09:44 --> Found 71 direct messages
DEBUG - 2026-01-29 07:09:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:45 --> ApiController initialized
DEBUG - 2026-01-29 07:09:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:53 --> ApiController initialized
DEBUG - 2026-01-29 07:09:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:53 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarya4BBybTAo5HKvDoz
DEBUG - 2026-01-29 07:09:53 --> Processing form data
DEBUG - 2026-01-29 07:09:53 --> POST data: {"content":"hi","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:09:53 --> Processed message data: {"sender_id":"3","content":"hi","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:09:53 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:09:53 --> Inserting message data: {"sender_id":"3","content":"hi","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:09:53","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:09:53 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:09:53 --> Message saved successfully with ID: 72
DEBUG - 2026-01-29 07:09:53 --> Sending message to socket server: {"event":"new_message","data":{"id":72,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"hi","type":"text","file_url":null,"created_at":"2026-01-29 07:09:53","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:09:53 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:09:53.523Z"}
DEBUG - 2026-01-29 07:09:53 --> ApiController initialized
DEBUG - 2026-01-29 07:09:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:09:53 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:09:53 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:09:53 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:09:53"}}
DEBUG - 2026-01-29 07:09:53 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:09:53.988Z"}
DEBUG - 2026-01-29 07:09:53 --> Found 72 direct messages
DEBUG - 2026-01-29 07:09:56 --> ApiController initialized
DEBUG - 2026-01-29 07:09:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:56 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:09:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:09:57 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:09:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:09:57"}}
DEBUG - 2026-01-29 07:09:57 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:09:57.005Z"}
DEBUG - 2026-01-29 07:09:57 --> Found 72 direct messages
DEBUG - 2026-01-29 07:09:58 --> ApiController initialized
DEBUG - 2026-01-29 07:09:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:58 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary5O0LeRpRMnqAGF63
DEBUG - 2026-01-29 07:09:58 --> Processing form data
DEBUG - 2026-01-29 07:09:58 --> POST data: {"content":"lu","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:09:58 --> Processed message data: {"sender_id":"1","content":"lu","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:09:58 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:09:58 --> Inserting message data: {"sender_id":"1","content":"lu","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:09:58","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:09:58 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:09:58 --> Message saved successfully with ID: 73
DEBUG - 2026-01-29 07:09:58 --> Sending message to socket server: {"event":"new_message","data":{"id":73,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"lu","type":"text","file_url":null,"created_at":"2026-01-29 07:09:58","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:09:58 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:09:58.213Z"}
DEBUG - 2026-01-29 07:09:59 --> ApiController initialized
DEBUG - 2026-01-29 07:09:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:09:59 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:09:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:09:59 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:09:59 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"73","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:09:59"}}
DEBUG - 2026-01-29 07:10:00 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:10:00.062Z"}
DEBUG - 2026-01-29 07:10:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:10:00"}}
DEBUG - 2026-01-29 07:10:00 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:00.064Z"}
DEBUG - 2026-01-29 07:10:00 --> Found 73 direct messages
DEBUG - 2026-01-29 07:10:00 --> ApiController initialized
DEBUG - 2026-01-29 07:10:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:00 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary1txXnid6fBK5Errc
DEBUG - 2026-01-29 07:10:00 --> Processing form data
DEBUG - 2026-01-29 07:10:00 --> POST data: {"content":"oh no","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:10:00 --> Processed message data: {"sender_id":"1","content":"oh no","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:10:00 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:10:00 --> Inserting message data: {"sender_id":"1","content":"oh no","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:10:00","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:10:00 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:10:00 --> Message saved successfully with ID: 74
DEBUG - 2026-01-29 07:10:00 --> Sending message to socket server: {"event":"new_message","data":{"id":74,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"oh no","type":"text","file_url":null,"created_at":"2026-01-29 07:10:00","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:10:00 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:10:00.930Z"}
DEBUG - 2026-01-29 07:10:02 --> ApiController initialized
DEBUG - 2026-01-29 07:10:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:02 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:10:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:10:02 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:10:02 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"74","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:10:02"}}
DEBUG - 2026-01-29 07:10:03 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:10:03.015Z"}
DEBUG - 2026-01-29 07:10:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:10:03"}}
DEBUG - 2026-01-29 07:10:03 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:03.018Z"}
DEBUG - 2026-01-29 07:10:03 --> Found 74 direct messages
DEBUG - 2026-01-29 07:10:05 --> ApiController initialized
DEBUG - 2026-01-29 07:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:05 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:10:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:10:05 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:10:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:10:05"}}
DEBUG - 2026-01-29 07:10:05 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:05.966Z"}
DEBUG - 2026-01-29 07:10:05 --> Found 74 direct messages
DEBUG - 2026-01-29 07:10:08 --> ApiController initialized
DEBUG - 2026-01-29 07:10:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:08 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:10:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:10:08 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:10:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:10:08"}}
DEBUG - 2026-01-29 07:10:09 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:09.035Z"}
DEBUG - 2026-01-29 07:10:09 --> Found 74 direct messages
DEBUG - 2026-01-29 07:10:09 --> ApiController initialized
DEBUG - 2026-01-29 07:10:09 --> ApiController initialized
DEBUG - 2026-01-29 07:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:09 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:10:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:10:09 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:10:09 --> ApiController initialized
DEBUG - 2026-01-29 07:10:09 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"72","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:10:09"}}
DEBUG - 2026-01-29 07:10:09 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:10:09.566Z"}
DEBUG - 2026-01-29 07:10:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:10:09"}}
DEBUG - 2026-01-29 07:10:09 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:09.570Z"}
DEBUG - 2026-01-29 07:10:09 --> Found 74 direct messages
DEBUG - 2026-01-29 07:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:09 --> ApiController initialized
DEBUG - 2026-01-29 07:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:11 --> ApiController initialized
DEBUG - 2026-01-29 07:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:11 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:10:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:10:11 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:10:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:10:11"}}
DEBUG - 2026-01-29 07:10:11 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:11.985Z"}
DEBUG - 2026-01-29 07:10:11 --> Found 74 direct messages
DEBUG - 2026-01-29 07:10:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:14 --> ApiController initialized
DEBUG - 2026-01-29 07:10:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:14 --> ApiController initialized
DEBUG - 2026-01-29 07:10:14 --> ApiController initialized
DEBUG - 2026-01-29 07:10:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:14 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:10:14 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:10:14 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:10:14 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:10:14"}}
DEBUG - 2026-01-29 07:10:14 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:10:14.291Z"}
DEBUG - 2026-01-29 07:10:14 --> Found 74 direct messages
DEBUG - 2026-01-29 07:10:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:10:14 --> ApiController initialized
DEBUG - 2026-01-29 07:10:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:13 --> ApiController initialized
DEBUG - 2026-01-29 07:12:13 --> ApiController initialized
DEBUG - 2026-01-29 07:12:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:13 --> ApiController initialized
DEBUG - 2026-01-29 07:12:13 --> ApiController initialized
DEBUG - 2026-01-29 07:12:13 --> ApiController initialized
DEBUG - 2026-01-29 07:12:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"74","sender_id":"1","receiver_id":"3","group_id":null,"content":"oh no","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:10:00","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:12:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:13 --> Groups data: []
DEBUG - 2026-01-29 07:12:13 --> ApiController initialized
DEBUG - 2026-01-29 07:12:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:12:44 --> ApiController initialized
DEBUG - 2026-01-29 07:12:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:14 --> ApiController initialized
DEBUG - 2026-01-29 07:13:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:19 --> ApiController initialized
DEBUG - 2026-01-29 07:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:19 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:19 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:19 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:19 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:19"}}
DEBUG - 2026-01-29 07:13:19 --> ApiController initialized
DEBUG - 2026-01-29 07:13:19 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:19.582Z"}
DEBUG - 2026-01-29 07:13:19 --> Found 74 direct messages
DEBUG - 2026-01-29 07:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:19 --> ApiController initialized
DEBUG - 2026-01-29 07:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:20 --> ApiController initialized
DEBUG - 2026-01-29 07:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:21 --> ApiController initialized
DEBUG - 2026-01-29 07:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:21 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:21 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:21 --> ApiController initialized
DEBUG - 2026-01-29 07:13:21 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:21 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:21"}}
DEBUG - 2026-01-29 07:13:21 --> ApiController initialized
DEBUG - 2026-01-29 07:13:21 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:21.843Z"}
DEBUG - 2026-01-29 07:13:21 --> Found 74 direct messages
DEBUG - 2026-01-29 07:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:22 --> ApiController initialized
DEBUG - 2026-01-29 07:13:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:25 --> ApiController initialized
DEBUG - 2026-01-29 07:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:25 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:13:25 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:25 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:13:25 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:13:25"}}
DEBUG - 2026-01-29 07:13:25 --> ApiController initialized
DEBUG - 2026-01-29 07:13:25 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:25.759Z"}
DEBUG - 2026-01-29 07:13:25 --> Found 74 direct messages
DEBUG - 2026-01-29 07:13:25 --> ApiController initialized
DEBUG - 2026-01-29 07:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:26 --> ApiController initialized
DEBUG - 2026-01-29 07:13:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:34 --> ApiController initialized
DEBUG - 2026-01-29 07:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:34 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary1jsvAPlsv7smnxaT
DEBUG - 2026-01-29 07:13:34 --> Processing form data
DEBUG - 2026-01-29 07:13:34 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:13:34 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:13:34 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:13:34 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:13:34","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:13:34 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:13:34 --> Message saved successfully with ID: 75
DEBUG - 2026-01-29 07:13:34 --> Sending message to socket server: {"event":"new_message","data":{"id":75,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:13:34","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:13:34 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:13:34.527Z"}
DEBUG - 2026-01-29 07:13:35 --> ApiController initialized
DEBUG - 2026-01-29 07:13:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:35 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:35 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:35"}}
DEBUG - 2026-01-29 07:13:35 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:35.121Z"}
DEBUG - 2026-01-29 07:13:35 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:36 --> ApiController initialized
DEBUG - 2026-01-29 07:13:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:36 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:36 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:36 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:36 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:36"}}
DEBUG - 2026-01-29 07:13:36 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:36.174Z"}
DEBUG - 2026-01-29 07:13:36 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:37 --> ApiController initialized
DEBUG - 2026-01-29 07:13:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:37 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:37 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:37"}}
DEBUG - 2026-01-29 07:13:37 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:37.168Z"}
DEBUG - 2026-01-29 07:13:37 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:38 --> ApiController initialized
DEBUG - 2026-01-29 07:13:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:38 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:38 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:38"}}
DEBUG - 2026-01-29 07:13:38 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:38.151Z"}
DEBUG - 2026-01-29 07:13:38 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:39 --> ApiController initialized
DEBUG - 2026-01-29 07:13:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:39 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:39 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:39"}}
DEBUG - 2026-01-29 07:13:39 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:39.184Z"}
DEBUG - 2026-01-29 07:13:39 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:40 --> ApiController initialized
DEBUG - 2026-01-29 07:13:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:40 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:40 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:40"}}
DEBUG - 2026-01-29 07:13:40 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:40.143Z"}
DEBUG - 2026-01-29 07:13:40 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:41 --> ApiController initialized
DEBUG - 2026-01-29 07:13:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:41"}}
DEBUG - 2026-01-29 07:13:41 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:41.149Z"}
DEBUG - 2026-01-29 07:13:41 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:42 --> ApiController initialized
DEBUG - 2026-01-29 07:13:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:42 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:42 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:42"}}
DEBUG - 2026-01-29 07:13:42 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:42.117Z"}
DEBUG - 2026-01-29 07:13:42 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:43 --> ApiController initialized
DEBUG - 2026-01-29 07:13:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:43 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:43 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:43"}}
DEBUG - 2026-01-29 07:13:43 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:43.128Z"}
DEBUG - 2026-01-29 07:13:43 --> Found 75 direct messages
DEBUG - 2026-01-29 07:13:43 --> ApiController initialized
DEBUG - 2026-01-29 07:13:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:43 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryImPJsuqfU0LkADDE
DEBUG - 2026-01-29 07:13:43 --> Processing form data
DEBUG - 2026-01-29 07:13:43 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:13:43 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:13:43 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:13:43 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:13:43","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:13:43 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:13:43 --> Message saved successfully with ID: 76
DEBUG - 2026-01-29 07:13:43 --> Sending message to socket server: {"event":"new_message","data":{"id":76,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:13:43","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:13:43 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:13:43.764Z"}
DEBUG - 2026-01-29 07:13:44 --> ApiController initialized
DEBUG - 2026-01-29 07:13:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:44 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:44 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:44"}}
DEBUG - 2026-01-29 07:13:44 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:44.148Z"}
DEBUG - 2026-01-29 07:13:44 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:45 --> ApiController initialized
DEBUG - 2026-01-29 07:13:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:45 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:45 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:45"}}
DEBUG - 2026-01-29 07:13:45 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:45.157Z"}
DEBUG - 2026-01-29 07:13:45 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:46 --> ApiController initialized
DEBUG - 2026-01-29 07:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:46 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:46 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:46"}}
DEBUG - 2026-01-29 07:13:46 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:46.120Z"}
DEBUG - 2026-01-29 07:13:46 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:47 --> ApiController initialized
DEBUG - 2026-01-29 07:13:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:47 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:47 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:47"}}
DEBUG - 2026-01-29 07:13:47 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:47.139Z"}
DEBUG - 2026-01-29 07:13:47 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:48 --> ApiController initialized
DEBUG - 2026-01-29 07:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:48 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:48 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:48"}}
DEBUG - 2026-01-29 07:13:48 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:48.140Z"}
DEBUG - 2026-01-29 07:13:48 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:49 --> ApiController initialized
DEBUG - 2026-01-29 07:13:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:49 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:49 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:49"}}
DEBUG - 2026-01-29 07:13:49 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:49.168Z"}
DEBUG - 2026-01-29 07:13:49 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:50 --> ApiController initialized
DEBUG - 2026-01-29 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:50 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryGAjhAgHFDgKqtODO
DEBUG - 2026-01-29 07:13:50 --> Processing form data
DEBUG - 2026-01-29 07:13:50 --> POST data: {"content":"try","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:13:50 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:13:50 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:13:50 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:13:50","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:13:50 --> ApiController initialized
DEBUG - 2026-01-29 07:13:50 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:50 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:50 --> Message saved successfully with ID: 77
DEBUG - 2026-01-29 07:13:50 --> Sending message to socket server: {"event":"new_message","data":{"id":77,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:13:50","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:13:50 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"77","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:13:50"}}
DEBUG - 2026-01-29 07:13:50 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:13:50.132Z"}
DEBUG - 2026-01-29 07:13:50 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:13:50.136Z"}
DEBUG - 2026-01-29 07:13:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:50"}}
DEBUG - 2026-01-29 07:13:50 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:50.138Z"}
DEBUG - 2026-01-29 07:13:50 --> Found 76 direct messages
DEBUG - 2026-01-29 07:13:50 --> ApiController initialized
DEBUG - 2026-01-29 07:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:50 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:13:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:50 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:13:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"75","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:13:50"}}
DEBUG - 2026-01-29 07:13:50 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:13:50.993Z"}
DEBUG - 2026-01-29 07:13:50 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"76","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:13:50"}}
DEBUG - 2026-01-29 07:13:51 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:13:50.999Z"}
DEBUG - 2026-01-29 07:13:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:13:51"}}
DEBUG - 2026-01-29 07:13:51 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:51.002Z"}
DEBUG - 2026-01-29 07:13:51 --> Found 77 direct messages
DEBUG - 2026-01-29 07:13:51 --> ApiController initialized
DEBUG - 2026-01-29 07:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:51 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:51 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:51"}}
DEBUG - 2026-01-29 07:13:51 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:51.142Z"}
DEBUG - 2026-01-29 07:13:51 --> Found 77 direct messages
DEBUG - 2026-01-29 07:13:55 --> ApiController initialized
DEBUG - 2026-01-29 07:13:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:55 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundary1qZxMXE6vRTZivDK
DEBUG - 2026-01-29 07:13:55 --> Processing form data
DEBUG - 2026-01-29 07:13:55 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:13:55 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:13:55 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:13:55 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:13:55","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:13:55 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:13:55 --> Message saved successfully with ID: 78
DEBUG - 2026-01-29 07:13:55 --> Sending message to socket server: {"event":"new_message","data":{"id":78,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:13:55","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:13:55 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:13:55.051Z"}
DEBUG - 2026-01-29 07:13:55 --> ApiController initialized
DEBUG - 2026-01-29 07:13:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:55 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:55 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:55"}}
DEBUG - 2026-01-29 07:13:55 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:55.139Z"}
DEBUG - 2026-01-29 07:13:55 --> Found 78 direct messages
DEBUG - 2026-01-29 07:13:56 --> ApiController initialized
DEBUG - 2026-01-29 07:13:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:56 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:56 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:56 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:56 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:56"}}
DEBUG - 2026-01-29 07:13:56 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:56.142Z"}
DEBUG - 2026-01-29 07:13:56 --> Found 78 direct messages
DEBUG - 2026-01-29 07:13:57 --> ApiController initialized
DEBUG - 2026-01-29 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:57 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:57 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:57"}}
DEBUG - 2026-01-29 07:13:57 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:57.144Z"}
DEBUG - 2026-01-29 07:13:57 --> Found 78 direct messages
DEBUG - 2026-01-29 07:13:57 --> ApiController initialized
DEBUG - 2026-01-29 07:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:57 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryZqSQ7WsbWe0vDxuB
DEBUG - 2026-01-29 07:13:57 --> Processing form data
DEBUG - 2026-01-29 07:13:57 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:13:57 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:13:57 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:13:57 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:13:57","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:13:57 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:13:57 --> Message saved successfully with ID: 79
DEBUG - 2026-01-29 07:13:57 --> Sending message to socket server: {"event":"new_message","data":{"id":79,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:13:57","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:13:57 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:13:57.940Z"}
DEBUG - 2026-01-29 07:13:58 --> ApiController initialized
DEBUG - 2026-01-29 07:13:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:58 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:58 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:58"}}
DEBUG - 2026-01-29 07:13:58 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:58.129Z"}
DEBUG - 2026-01-29 07:13:58 --> Found 79 direct messages
DEBUG - 2026-01-29 07:13:59 --> ApiController initialized
DEBUG - 2026-01-29 07:13:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:13:59 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:13:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:13:59 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:13:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:13:59"}}
DEBUG - 2026-01-29 07:13:59 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:13:59.170Z"}
DEBUG - 2026-01-29 07:13:59 --> Found 79 direct messages
DEBUG - 2026-01-29 07:14:00 --> ApiController initialized
DEBUG - 2026-01-29 07:14:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:00 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:00 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:00 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:00 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:00"}}
DEBUG - 2026-01-29 07:14:00 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:00.148Z"}
DEBUG - 2026-01-29 07:14:00 --> Found 79 direct messages
DEBUG - 2026-01-29 07:14:01 --> ApiController initialized
DEBUG - 2026-01-29 07:14:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:01 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:01 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:01"}}
DEBUG - 2026-01-29 07:14:01 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:01.141Z"}
DEBUG - 2026-01-29 07:14:01 --> Found 79 direct messages
DEBUG - 2026-01-29 07:14:02 --> ApiController initialized
DEBUG - 2026-01-29 07:14:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:02 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:02 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:02"}}
DEBUG - 2026-01-29 07:14:02 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:02.142Z"}
DEBUG - 2026-01-29 07:14:02 --> Found 79 direct messages
DEBUG - 2026-01-29 07:14:03 --> ApiController initialized
DEBUG - 2026-01-29 07:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:03 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:03 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:03 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:03 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:03"}}
DEBUG - 2026-01-29 07:14:03 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:03.154Z"}
DEBUG - 2026-01-29 07:14:03 --> Found 79 direct messages
DEBUG - 2026-01-29 07:14:04 --> ApiController initialized
DEBUG - 2026-01-29 07:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:04 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:04 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:04 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:04"}}
DEBUG - 2026-01-29 07:14:04 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:04.161Z"}
DEBUG - 2026-01-29 07:14:04 --> Found 79 direct messages
DEBUG - 2026-01-29 07:14:04 --> ApiController initialized
DEBUG - 2026-01-29 07:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:04 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfY9593NaZ8WFsoEZ
DEBUG - 2026-01-29 07:14:04 --> Processing form data
DEBUG - 2026-01-29 07:14:04 --> POST data: {"content":"try","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:14:04 --> Processed message data: {"sender_id":"1","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:14:04 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:14:04 --> Inserting message data: {"sender_id":"1","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:14:04","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:14:04 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:14:04 --> ApiController initialized
DEBUG - 2026-01-29 07:14:04 --> Message saved successfully with ID: 80
DEBUG - 2026-01-29 07:14:04 --> Sending message to socket server: {"event":"new_message","data":{"id":80,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:14:04","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:14:04 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:14:04.917Z"}
DEBUG - 2026-01-29 07:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:04 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:14:04 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:04 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:14:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"78","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:14:04"}}
DEBUG - 2026-01-29 07:14:04 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:14:04.973Z"}
DEBUG - 2026-01-29 07:14:04 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"79","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:14:04"}}
DEBUG - 2026-01-29 07:14:05 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:14:05.004Z"}
DEBUG - 2026-01-29 07:14:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:14:05"}}
DEBUG - 2026-01-29 07:14:05 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:05.019Z"}
DEBUG - 2026-01-29 07:14:05 --> Found 80 direct messages
DEBUG - 2026-01-29 07:14:05 --> ApiController initialized
DEBUG - 2026-01-29 07:14:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:05 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:05 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:05 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"80","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:14:05"}}
DEBUG - 2026-01-29 07:14:05 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:14:05.134Z"}
DEBUG - 2026-01-29 07:14:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:05"}}
DEBUG - 2026-01-29 07:14:05 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:05.136Z"}
DEBUG - 2026-01-29 07:14:05 --> Found 80 direct messages
DEBUG - 2026-01-29 07:14:05 --> ApiController initialized
DEBUG - 2026-01-29 07:14:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:05 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:14:05 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:05 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:14:05 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:14:05"}}
DEBUG - 2026-01-29 07:14:05 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:05.983Z"}
DEBUG - 2026-01-29 07:14:05 --> Found 80 direct messages
DEBUG - 2026-01-29 07:14:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:28 --> ApiController initialized
DEBUG - 2026-01-29 07:14:28 --> ApiController initialized
DEBUG - 2026-01-29 07:14:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:28 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:14:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:28 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:14:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:14:28"}}
DEBUG - 2026-01-29 07:14:28 --> ApiController initialized
DEBUG - 2026-01-29 07:14:29 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:29.159Z"}
DEBUG - 2026-01-29 07:14:29 --> Found 80 direct messages
DEBUG - 2026-01-29 07:14:29 --> ApiController initialized
DEBUG - 2026-01-29 07:14:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:30 --> ApiController initialized
DEBUG - 2026-01-29 07:14:30 --> ApiController initialized
DEBUG - 2026-01-29 07:14:30 --> ApiController initialized
DEBUG - 2026-01-29 07:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:30 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:14:30 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:14:30 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:14:30 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:14:30"}}
DEBUG - 2026-01-29 07:14:30 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:14:30.954Z"}
DEBUG - 2026-01-29 07:14:30 --> Found 80 direct messages
DEBUG - 2026-01-29 07:14:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:14:31 --> ApiController initialized
DEBUG - 2026-01-29 07:14:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:05 --> ApiController initialized
DEBUG - 2026-01-29 07:15:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:05 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryoHe7iN34NJ80kSmm
DEBUG - 2026-01-29 07:15:05 --> Processing form data
DEBUG - 2026-01-29 07:15:05 --> POST data: {"content":"hahha","receiver_id":"3","type":"text","csrf_test_name":"c1b17c544663ad0649265964f7ccc0bd"}
DEBUG - 2026-01-29 07:15:05 --> Processed message data: {"sender_id":"1","content":"hahha","type":"text","is_group":0,"group_id":null,"receiver_id":"3","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:15:05 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:15:05 --> Inserting message data: {"sender_id":"1","content":"hahha","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:15:05","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"3","group_id":null}
DEBUG - 2026-01-29 07:15:05 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:15:06 --> Message saved successfully with ID: 81
DEBUG - 2026-01-29 07:15:06 --> Sending message to socket server: {"event":"new_message","data":{"id":81,"sender_id":"1","receiver_id":"3","group_id":null,"is_group":0,"content":"hahha","type":"text","file_url":null,"created_at":"2026-01-29 07:15:06","username":"test","nickname":"test","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:15:06 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:15:06.018Z"}
DEBUG - 2026-01-29 07:15:06 --> ApiController initialized
DEBUG - 2026-01-29 07:15:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:06 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:15:06 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:06 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:15:06 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:15:06"}}
DEBUG - 2026-01-29 07:15:06 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:06.128Z"}
DEBUG - 2026-01-29 07:15:06 --> Found 81 direct messages
DEBUG - 2026-01-29 07:15:07 --> ApiController initialized
DEBUG - 2026-01-29 07:15:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:07 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:15:07 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:07 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:15:07 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:15:07"}}
DEBUG - 2026-01-29 07:15:07 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:07.150Z"}
DEBUG - 2026-01-29 07:15:07 --> Found 81 direct messages
DEBUG - 2026-01-29 07:15:08 --> ApiController initialized
DEBUG - 2026-01-29 07:15:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:08 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:15:08 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:08 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:15:08 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:15:08"}}
DEBUG - 2026-01-29 07:15:08 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:08.151Z"}
DEBUG - 2026-01-29 07:15:08 --> Found 81 direct messages
DEBUG - 2026-01-29 07:15:09 --> ApiController initialized
DEBUG - 2026-01-29 07:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:09 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:15:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:09 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:15:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:15:09"}}
DEBUG - 2026-01-29 07:15:09 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:09.114Z"}
DEBUG - 2026-01-29 07:15:09 --> Found 81 direct messages
DEBUG - 2026-01-29 07:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:10 --> ApiController initialized
DEBUG - 2026-01-29 07:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:10 --> ApiController initialized
DEBUG - 2026-01-29 07:15:10 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:10 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:15:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:15:10"}}
DEBUG - 2026-01-29 07:15:10 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:10.443Z"}
DEBUG - 2026-01-29 07:15:10 --> Found 81 direct messages
DEBUG - 2026-01-29 07:15:10 --> ApiController initialized
DEBUG - 2026-01-29 07:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:10 --> ApiController initialized
DEBUG - 2026-01-29 07:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:10 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:15:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:10 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:15:10 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"81","user_id":"3","other_user_id":"1","is_group":false,"username":"","user_info":{"id":"3","username":"test1","nickname":"test1","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:15:10"}}
DEBUG - 2026-01-29 07:15:10 --> ApiController initialized
DEBUG - 2026-01-29 07:15:10 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:15:10.595Z"}
DEBUG - 2026-01-29 07:15:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:15:10"}}
DEBUG - 2026-01-29 07:15:10 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:10.609Z"}
DEBUG - 2026-01-29 07:15:10 --> Found 81 direct messages
DEBUG - 2026-01-29 07:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:11 --> ApiController initialized
DEBUG - 2026-01-29 07:15:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:15:11 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:15:11 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:15:11 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:15:11 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:15:11"}}
DEBUG - 2026-01-29 07:15:11 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:15:11.324Z"}
DEBUG - 2026-01-29 07:15:11 --> Found 81 direct messages
DEBUG - 2026-01-29 07:16:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:16:46 --> ApiController initialized
DEBUG - 2026-01-29 07:16:46 --> ApiController initialized
DEBUG - 2026-01-29 07:16:46 --> ApiController initialized
DEBUG - 2026-01-29 07:16:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:16:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:16:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:16:47 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:16:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:16:47 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:16:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:16:47"}}
DEBUG - 2026-01-29 07:16:47 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:16:47.040Z"}
DEBUG - 2026-01-29 07:16:47 --> Found 81 direct messages
DEBUG - 2026-01-29 07:16:47 --> ApiController initialized
DEBUG - 2026-01-29 07:16:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:25 --> ApiController initialized
DEBUG - 2026-01-29 07:17:25 --> ApiController initialized
DEBUG - 2026-01-29 07:17:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:25 --> ApiController initialized
DEBUG - 2026-01-29 07:17:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:26 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:17:26 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:26 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:17:26 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:17:26"}}
DEBUG - 2026-01-29 07:17:26 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:26.056Z"}
DEBUG - 2026-01-29 07:17:26 --> Found 81 direct messages
DEBUG - 2026-01-29 07:17:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:26 --> ApiController initialized
DEBUG - 2026-01-29 07:17:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:38 --> ApiController initialized
DEBUG - 2026-01-29 07:17:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:38 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryf63cXuTATAIdKqnE
DEBUG - 2026-01-29 07:17:38 --> Processing form data
DEBUG - 2026-01-29 07:17:38 --> POST data: {"content":"\ud83d\udc4d","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:17:38 --> Processed message data: {"sender_id":"3","content":"\ud83d\udc4d","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:17:38 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:17:38 --> Inserting message data: {"sender_id":"3","content":"\ud83d\udc4d","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:17:38","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:17:38 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:17:38 --> Message saved successfully with ID: 82
DEBUG - 2026-01-29 07:17:38 --> Sending message to socket server: {"event":"new_message","data":{"id":82,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"\ud83d\udc4d","type":"text","file_url":null,"created_at":"2026-01-29 07:17:38","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:17:38 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:17:38.576Z"}
DEBUG - 2026-01-29 07:17:39 --> ApiController initialized
DEBUG - 2026-01-29 07:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:39 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:39 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:39"}}
DEBUG - 2026-01-29 07:17:39 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:39.268Z"}
DEBUG - 2026-01-29 07:17:39 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:40 --> ApiController initialized
DEBUG - 2026-01-29 07:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:40 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:40 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:40"}}
DEBUG - 2026-01-29 07:17:40 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:40.252Z"}
DEBUG - 2026-01-29 07:17:40 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:41 --> ApiController initialized
DEBUG - 2026-01-29 07:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:41"}}
DEBUG - 2026-01-29 07:17:41 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:41.269Z"}
DEBUG - 2026-01-29 07:17:41 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:42 --> ApiController initialized
DEBUG - 2026-01-29 07:17:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:42 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:42 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:42"}}
DEBUG - 2026-01-29 07:17:42 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:42.276Z"}
DEBUG - 2026-01-29 07:17:42 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:43 --> ApiController initialized
DEBUG - 2026-01-29 07:17:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:43 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:43 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:43 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:43 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:43"}}
DEBUG - 2026-01-29 07:17:43 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:43.256Z"}
DEBUG - 2026-01-29 07:17:43 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:44 --> ApiController initialized
DEBUG - 2026-01-29 07:17:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:44 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:44 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:44 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:44 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:44"}}
DEBUG - 2026-01-29 07:17:44 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:44.244Z"}
DEBUG - 2026-01-29 07:17:44 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:45 --> ApiController initialized
DEBUG - 2026-01-29 07:17:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:45 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:45 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:45"}}
DEBUG - 2026-01-29 07:17:45 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:45.259Z"}
DEBUG - 2026-01-29 07:17:45 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:46 --> ApiController initialized
DEBUG - 2026-01-29 07:17:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:46 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:46 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:46 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:46 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:46"}}
DEBUG - 2026-01-29 07:17:46 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:46.248Z"}
DEBUG - 2026-01-29 07:17:46 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:47 --> ApiController initialized
DEBUG - 2026-01-29 07:17:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:47 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:47 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:47"}}
DEBUG - 2026-01-29 07:17:47 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:47.272Z"}
DEBUG - 2026-01-29 07:17:47 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:47 --> ApiController initialized
DEBUG - 2026-01-29 07:17:47 --> ApiController initialized
DEBUG - 2026-01-29 07:17:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:47 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:47 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:47 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:47 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:47"}}
DEBUG - 2026-01-29 07:17:47 --> ApiController initialized
DEBUG - 2026-01-29 07:17:48 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:48.007Z"}
DEBUG - 2026-01-29 07:17:48 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:48 --> ApiController initialized
DEBUG - 2026-01-29 07:17:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:49 --> ApiController initialized
DEBUG - 2026-01-29 07:17:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:49 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:49 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:49 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:49 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:49"}}
DEBUG - 2026-01-29 07:17:49 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:49.243Z"}
DEBUG - 2026-01-29 07:17:49 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:50 --> ApiController initialized
DEBUG - 2026-01-29 07:17:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:50 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:50 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:50"}}
DEBUG - 2026-01-29 07:17:50 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:50.232Z"}
DEBUG - 2026-01-29 07:17:50 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:51 --> ApiController initialized
DEBUG - 2026-01-29 07:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:51 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:51 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:51"}}
DEBUG - 2026-01-29 07:17:51 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:51.215Z"}
DEBUG - 2026-01-29 07:17:51 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:51 --> ApiController initialized
DEBUG - 2026-01-29 07:17:51 --> ApiController initialized
DEBUG - 2026-01-29 07:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:51 --> ApiController initialized
DEBUG - 2026-01-29 07:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:51 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:17:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:51 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:17:51 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"82","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:17:51"}}
DEBUG - 2026-01-29 07:17:51 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:17:51.513Z"}
DEBUG - 2026-01-29 07:17:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:17:51"}}
DEBUG - 2026-01-29 07:17:51 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:51.516Z"}
DEBUG - 2026-01-29 07:17:51 --> Found 82 direct messages
DEBUG - 2026-01-29 07:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:51 --> ApiController initialized
DEBUG - 2026-01-29 07:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:52 --> ApiController initialized
DEBUG - 2026-01-29 07:17:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:17:52 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:17:52 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:17:52 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:17:52 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:17:52"}}
DEBUG - 2026-01-29 07:17:52 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:17:52.245Z"}
DEBUG - 2026-01-29 07:17:52 --> Found 82 direct messages
DEBUG - 2026-01-29 07:19:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:19:30 --> ApiController initialized
DEBUG - 2026-01-29 07:19:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:19:31 --> ApiController initialized
DEBUG - 2026-01-29 07:19:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:19:31 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:19:31 --> ApiController initialized
DEBUG - 2026-01-29 07:19:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:19:31 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:19:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:19:31"}}
DEBUG - 2026-01-29 07:19:31 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:19:31.102Z"}
DEBUG - 2026-01-29 07:19:31 --> Found 82 direct messages
DEBUG - 2026-01-29 07:19:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:19:31 --> ApiController initialized
DEBUG - 2026-01-29 07:19:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:20:01 --> ApiController initialized
DEBUG - 2026-01-29 07:20:01 --> ApiController initialized
DEBUG - 2026-01-29 07:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:20:01 --> ApiController initialized
DEBUG - 2026-01-29 07:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:20:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:20:01 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:20:01 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:20:01 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:20:01 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:20:01"}}
DEBUG - 2026-01-29 07:20:01 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:20:01.929Z"}
DEBUG - 2026-01-29 07:20:01 --> Found 82 direct messages
DEBUG - 2026-01-29 07:20:02 --> ApiController initialized
DEBUG - 2026-01-29 07:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:22 --> ApiController initialized
DEBUG - 2026-01-29 07:21:22 --> ApiController initialized
DEBUG - 2026-01-29 07:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:22 --> ApiController initialized
DEBUG - 2026-01-29 07:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:22 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:21:22 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:22 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:21:22 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:21:22"}}
DEBUG - 2026-01-29 07:21:22 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:22.940Z"}
DEBUG - 2026-01-29 07:21:22 --> Found 82 direct messages
DEBUG - 2026-01-29 07:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:23 --> ApiController initialized
DEBUG - 2026-01-29 07:21:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:31 --> ApiController initialized
DEBUG - 2026-01-29 07:21:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:31 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:21:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:31 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:21:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:21:31"}}
DEBUG - 2026-01-29 07:21:31 --> ApiController initialized
DEBUG - 2026-01-29 07:21:31 --> ApiController initialized
DEBUG - 2026-01-29 07:21:31 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:31.180Z"}
DEBUG - 2026-01-29 07:21:31 --> Found 82 direct messages
DEBUG - 2026-01-29 07:21:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:31 --> ApiController initialized
DEBUG - 2026-01-29 07:21:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:34 --> ApiController initialized
DEBUG - 2026-01-29 07:21:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:34 --> Content-Type: multipart/form-data; boundary=----WebKitFormBoundarywfnAyLnzal4RPd6t
DEBUG - 2026-01-29 07:21:34 --> Processing form data
DEBUG - 2026-01-29 07:21:34 --> POST data: {"content":"try","receiver_id":"1","type":"text","csrf_test_name":"bff70598beb783395493afab9e5a8efc"}
DEBUG - 2026-01-29 07:21:34 --> Processed message data: {"sender_id":"3","content":"try","type":"text","is_group":0,"group_id":null,"receiver_id":"1","file_url":null,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}
DEBUG - 2026-01-29 07:21:34 --> Reply data: ID=, SenderID=, SenderName=, Content=
DEBUG - 2026-01-29 07:21:34 --> Inserting message data: {"sender_id":"3","content":"try","type":"text","file_url":null,"is_group":0,"created_at":"2026-01-29 15:21:34","is_read":0,"reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null,"receiver_id":"1","group_id":null}
DEBUG - 2026-01-29 07:21:34 --> Available fields in messages table: ["id","sender_id","receiver_id","group_id","content","type","file_url","is_group","created_at","is_read","reply_to_id","reply_to_sender_id","reply_to_content","reply_to_sender_name","original_filename","file_size"]
DEBUG - 2026-01-29 07:21:34 --> Message saved successfully with ID: 83
DEBUG - 2026-01-29 07:21:34 --> Sending message to socket server: {"event":"new_message","data":{"id":83,"sender_id":"3","receiver_id":"1","group_id":null,"is_group":0,"content":"try","type":"text","file_url":null,"created_at":"2026-01-29 07:21:34","username":"test1","nickname":"test1","avatar":"default-avatar.png","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":null,"reply_to_sender_name":null}}
DEBUG - 2026-01-29 07:21:34 --> Socket server response: {"success":true,"event":"new_message","timestamp":"2026-01-29T07:21:34.591Z"}
DEBUG - 2026-01-29 07:21:35 --> ApiController initialized
DEBUG - 2026-01-29 07:21:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:35 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:21:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:35 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:21:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:21:35"}}
DEBUG - 2026-01-29 07:21:35 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:35.158Z"}
DEBUG - 2026-01-29 07:21:35 --> Found 83 direct messages
DEBUG - 2026-01-29 07:21:37 --> ApiController initialized
DEBUG - 2026-01-29 07:21:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:37 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:21:37 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:37 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:21:37 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:21:37"}}
DEBUG - 2026-01-29 07:21:37 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:37.142Z"}
DEBUG - 2026-01-29 07:21:37 --> Found 83 direct messages
DEBUG - 2026-01-29 07:21:39 --> ApiController initialized
DEBUG - 2026-01-29 07:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:39 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:21:39 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:39 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:21:39 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:21:39"}}
DEBUG - 2026-01-29 07:21:39 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:39.278Z"}
DEBUG - 2026-01-29 07:21:39 --> Found 83 direct messages
DEBUG - 2026-01-29 07:21:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:40 --> ApiController initialized
DEBUG - 2026-01-29 07:21:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:40 --> ApiController initialized
DEBUG - 2026-01-29 07:21:40 --> ApiController initialized
DEBUG - 2026-01-29 07:21:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:40 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 07:21:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:40 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 07:21:40 --> Sending enhanced message_seen event to socket server: {"event":"message_seen","data":{"message_id":"83","user_id":"1","other_user_id":"3","is_group":false,"username":"","user_info":{"id":"1","username":"test","nickname":"test","avatar":"default-avatar.png"},"timestamp":"2026-01-29 07:21:40"}}
DEBUG - 2026-01-29 07:21:40 --> Socket server response: {"success":true,"event":"message_seen","timestamp":"2026-01-29T07:21:40.095Z"}
DEBUG - 2026-01-29 07:21:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 07:21:40"}}
DEBUG - 2026-01-29 07:21:40 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:40.098Z"}
DEBUG - 2026-01-29 07:21:40 --> Found 83 direct messages
DEBUG - 2026-01-29 07:21:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:40 --> ApiController initialized
DEBUG - 2026-01-29 07:21:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:41 --> ApiController initialized
DEBUG - 2026-01-29 07:21:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:21:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:21:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:21:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:21:41"}}
DEBUG - 2026-01-29 07:21:41 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:21:41.216Z"}
DEBUG - 2026-01-29 07:21:41 --> Found 83 direct messages
DEBUG - 2026-01-29 07:21:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:45 --> ApiController initialized
DEBUG - 2026-01-29 07:21:45 --> ApiController initialized
DEBUG - 2026-01-29 07:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:45 --> ApiController initialized
DEBUG - 2026-01-29 07:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:45 --> ApiController initialized
DEBUG - 2026-01-29 07:21:45 --> ApiController initialized
DEBUG - 2026-01-29 07:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:45 --> Groups data: []
DEBUG - 2026-01-29 07:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:21:45 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 06:33:13","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 06:33:23","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:21:45 --> ApiController initialized
DEBUG - 2026-01-29 07:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> ApiController initialized
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> ApiController initialized
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> ApiController initialized
DEBUG - 2026-01-29 07:22:22 --> Groups data: []
DEBUG - 2026-01-29 07:22:22 --> ApiController initialized
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> ApiController initialized
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:22:23 --> ApiController initialized
DEBUG - 2026-01-29 07:22:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:22:53 --> ApiController initialized
DEBUG - 2026-01-29 07:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:23 --> ApiController initialized
DEBUG - 2026-01-29 07:23:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:53 --> ApiController initialized
DEBUG - 2026-01-29 07:23:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:56 --> ApiController initialized
DEBUG - 2026-01-29 07:23:56 --> ApiController initialized
DEBUG - 2026-01-29 07:23:56 --> ApiController initialized
DEBUG - 2026-01-29 07:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:56 --> ApiController initialized
DEBUG - 2026-01-29 07:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:56 --> Groups data: []
DEBUG - 2026-01-29 07:23:56 --> ApiController initialized
DEBUG - 2026-01-29 07:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:23:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:23:56 --> ApiController initialized
DEBUG - 2026-01-29 07:23:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:24:23 --> ApiController initialized
DEBUG - 2026-01-29 07:24:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:24:26 --> ApiController initialized
DEBUG - 2026-01-29 07:24:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:24:54 --> ApiController initialized
DEBUG - 2026-01-29 07:24:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:24:56 --> ApiController initialized
DEBUG - 2026-01-29 07:24:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:22 --> ApiController initialized
DEBUG - 2026-01-29 07:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:26 --> ApiController initialized
DEBUG - 2026-01-29 07:25:26 --> ApiController initialized
DEBUG - 2026-01-29 07:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:26 --> ApiController initialized
DEBUG - 2026-01-29 07:25:26 --> ApiController initialized
DEBUG - 2026-01-29 07:25:26 --> ApiController initialized
DEBUG - 2026-01-29 07:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:26 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:25:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:27 --> Groups data: []
DEBUG - 2026-01-29 07:25:27 --> ApiController initialized
DEBUG - 2026-01-29 07:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:28 --> ApiController initialized
DEBUG - 2026-01-29 07:25:28 --> ApiController initialized
DEBUG - 2026-01-29 07:25:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:28 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:25:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:25:28 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:25:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:25:28"}}
DEBUG - 2026-01-29 07:25:28 --> ApiController initialized
DEBUG - 2026-01-29 07:25:28 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:25:28.842Z"}
DEBUG - 2026-01-29 07:25:28 --> Found 83 direct messages
DEBUG - 2026-01-29 07:25:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:29 --> ApiController initialized
DEBUG - 2026-01-29 07:25:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:34 --> ApiController initialized
DEBUG - 2026-01-29 07:25:34 --> ApiController initialized
DEBUG - 2026-01-29 07:25:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:34 --> ApiController initialized
DEBUG - 2026-01-29 07:25:35 --> ApiController initialized
DEBUG - 2026-01-29 07:25:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:35 --> Groups data: []
DEBUG - 2026-01-29 07:25:35 --> ApiController initialized
DEBUG - 2026-01-29 07:25:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:25:35 --> ApiController initialized
DEBUG - 2026-01-29 07:25:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:38 --> ApiController initialized
DEBUG - 2026-01-29 07:25:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:38 --> ApiController initialized
DEBUG - 2026-01-29 07:25:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:38 --> ApiController initialized
DEBUG - 2026-01-29 07:25:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:38 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:25:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:25:38 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:25:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:25:38"}}
DEBUG - 2026-01-29 07:25:39 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:25:39.051Z"}
DEBUG - 2026-01-29 07:25:39 --> Found 83 direct messages
DEBUG - 2026-01-29 07:25:39 --> ApiController initialized
DEBUG - 2026-01-29 07:25:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:25:52 --> ApiController initialized
DEBUG - 2026-01-29 07:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:26:23 --> ApiController initialized
DEBUG - 2026-01-29 07:26:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:26:52 --> ApiController initialized
DEBUG - 2026-01-29 07:26:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:27:23 --> ApiController initialized
DEBUG - 2026-01-29 07:27:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:27:52 --> ApiController initialized
DEBUG - 2026-01-29 07:27:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:09 --> ApiController initialized
DEBUG - 2026-01-29 07:28:09 --> ApiController initialized
DEBUG - 2026-01-29 07:28:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:09 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:28:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:28:09 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:28:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:28:09"}}
DEBUG - 2026-01-29 07:28:09 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:28:09.390Z"}
DEBUG - 2026-01-29 07:28:09 --> Found 83 direct messages
DEBUG - 2026-01-29 07:28:09 --> ApiController initialized
DEBUG - 2026-01-29 07:28:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:10 --> ApiController initialized
DEBUG - 2026-01-29 07:28:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:23 --> ApiController initialized
DEBUG - 2026-01-29 07:28:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:28:53 --> ApiController initialized
DEBUG - 2026-01-29 07:28:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:29:28 --> ApiController initialized
DEBUG - 2026-01-29 07:29:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:27 --> ApiController initialized
DEBUG - 2026-01-29 07:30:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:42 --> ApiController initialized
DEBUG - 2026-01-29 07:30:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:42 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:30:42 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:30:42 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:30:42 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:30:42"}}
DEBUG - 2026-01-29 07:30:42 --> ApiController initialized
DEBUG - 2026-01-29 07:30:42 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:30:42.532Z"}
DEBUG - 2026-01-29 07:30:42 --> Found 83 direct messages
DEBUG - 2026-01-29 07:30:42 --> ApiController initialized
DEBUG - 2026-01-29 07:30:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:43 --> ApiController initialized
DEBUG - 2026-01-29 07:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:30:53 --> ApiController initialized
DEBUG - 2026-01-29 07:30:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:23 --> ApiController initialized
DEBUG - 2026-01-29 07:31:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:32 --> ApiController initialized
DEBUG - 2026-01-29 07:31:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:32 --> ApiController initialized
DEBUG - 2026-01-29 07:31:32 --> ApiController initialized
DEBUG - 2026-01-29 07:31:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:33 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:31:33 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:31:33 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:31:33 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:31:33"}}
DEBUG - 2026-01-29 07:31:33 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:31:33.114Z"}
DEBUG - 2026-01-29 07:31:33 --> Found 83 direct messages
DEBUG - 2026-01-29 07:31:33 --> ApiController initialized
DEBUG - 2026-01-29 07:31:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:31:53 --> ApiController initialized
DEBUG - 2026-01-29 07:31:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:23 --> ApiController initialized
DEBUG - 2026-01-29 07:32:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:34 --> ApiController initialized
DEBUG - 2026-01-29 07:32:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:34 --> ApiController initialized
DEBUG - 2026-01-29 07:32:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:34 --> ApiController initialized
DEBUG - 2026-01-29 07:32:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:34 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:32:34 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:32:34 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:32:34 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:32:34"}}
DEBUG - 2026-01-29 07:32:35 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:32:35.010Z"}
DEBUG - 2026-01-29 07:32:35 --> Found 83 direct messages
DEBUG - 2026-01-29 07:32:35 --> ApiController initialized
DEBUG - 2026-01-29 07:32:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:32:52 --> ApiController initialized
DEBUG - 2026-01-29 07:32:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:02 --> ApiController initialized
DEBUG - 2026-01-29 07:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:02 --> ApiController initialized
DEBUG - 2026-01-29 07:33:02 --> ApiController initialized
DEBUG - 2026-01-29 07:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:02 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:33:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:33:02 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:33:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:33:02"}}
DEBUG - 2026-01-29 07:33:02 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:33:02.437Z"}
DEBUG - 2026-01-29 07:33:02 --> Found 83 direct messages
DEBUG - 2026-01-29 07:33:02 --> ApiController initialized
DEBUG - 2026-01-29 07:33:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:22 --> ApiController initialized
DEBUG - 2026-01-29 07:33:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:33:52 --> ApiController initialized
DEBUG - 2026-01-29 07:33:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:22 --> ApiController initialized
DEBUG - 2026-01-29 07:34:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:35 --> ApiController initialized
DEBUG - 2026-01-29 07:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:35 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:34:35 --> ApiController initialized
DEBUG - 2026-01-29 07:34:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:34:35 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:34:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:34:35"}}
DEBUG - 2026-01-29 07:34:35 --> ApiController initialized
DEBUG - 2026-01-29 07:34:35 --> Socket server response: {"success":true,"event":"messages_read","timestamp":"2026-01-29T07:34:35.348Z"}
DEBUG - 2026-01-29 07:34:35 --> Found 83 direct messages
DEBUG - 2026-01-29 07:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:35 --> ApiController initialized
DEBUG - 2026-01-29 07:34:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:34:52 --> ApiController initialized
DEBUG - 2026-01-29 07:34:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:35:23 --> ApiController initialized
DEBUG - 2026-01-29 07:35:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:35:53 --> ApiController initialized
DEBUG - 2026-01-29 07:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:36:23 --> ApiController initialized
DEBUG - 2026-01-29 07:36:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:36:53 --> ApiController initialized
DEBUG - 2026-01-29 07:36:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:37:27 --> ApiController initialized
DEBUG - 2026-01-29 07:37:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:37:52 --> ApiController initialized
DEBUG - 2026-01-29 07:37:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:38:23 --> ApiController initialized
DEBUG - 2026-01-29 07:38:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:38:53 --> ApiController initialized
DEBUG - 2026-01-29 07:38:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:39:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:39:22 --> ApiController initialized
DEBUG - 2026-01-29 07:39:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:39:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:39:52 --> ApiController initialized
DEBUG - 2026-01-29 07:39:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:40:22 --> ApiController initialized
DEBUG - 2026-01-29 07:40:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:40:52 --> ApiController initialized
DEBUG - 2026-01-29 07:40:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:23 --> ApiController initialized
DEBUG - 2026-01-29 07:41:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:40 --> ApiController initialized
DEBUG - 2026-01-29 07:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:40 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:41:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:41:40 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:41:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:41:40"}}
DEBUG - 2026-01-29 07:41:40 --> ApiController initialized
DEBUG - 2026-01-29 07:41:40 --> ApiController initialized
ERROR - 2026-01-29 07:41:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:41:40 --> Found 83 direct messages
DEBUG - 2026-01-29 07:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:40 --> ApiController initialized
DEBUG - 2026-01-29 07:41:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:41:52 --> ApiController initialized
DEBUG - 2026-01-29 07:41:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:42:23 --> ApiController initialized
DEBUG - 2026-01-29 07:42:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:42:53 --> ApiController initialized
DEBUG - 2026-01-29 07:42:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:22 --> ApiController initialized
DEBUG - 2026-01-29 07:43:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:35 --> ApiController initialized
DEBUG - 2026-01-29 07:43:35 --> ApiController initialized
DEBUG - 2026-01-29 07:43:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:35 --> ApiController initialized
DEBUG - 2026-01-29 07:43:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:35 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:43:35 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:43:35 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:43:35 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:43:35"}}
ERROR - 2026-01-29 07:43:35 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:43:35 --> Found 83 direct messages
DEBUG - 2026-01-29 07:43:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:36 --> ApiController initialized
DEBUG - 2026-01-29 07:43:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:43:53 --> ApiController initialized
DEBUG - 2026-01-29 07:43:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:23 --> ApiController initialized
DEBUG - 2026-01-29 07:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:38 --> ApiController initialized
DEBUG - 2026-01-29 07:44:38 --> ApiController initialized
DEBUG - 2026-01-29 07:44:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:38 --> ApiController initialized
DEBUG - 2026-01-29 07:44:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:38 --> ApiController initialized
DEBUG - 2026-01-29 07:44:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:38 --> ApiController initialized
DEBUG - 2026-01-29 07:44:38 --> Groups data: []
DEBUG - 2026-01-29 07:44:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:38 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:44:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:44:38 --> ApiController initialized
DEBUG - 2026-01-29 07:44:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:45:08 --> ApiController initialized
DEBUG - 2026-01-29 07:45:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:45:38 --> ApiController initialized
DEBUG - 2026-01-29 07:45:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:08 --> ApiController initialized
DEBUG - 2026-01-29 07:46:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:13 --> ApiController initialized
DEBUG - 2026-01-29 07:46:13 --> ApiController initialized
DEBUG - 2026-01-29 07:46:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:13 --> ApiController initialized
DEBUG - 2026-01-29 07:46:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:13 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:46:13 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:46:13 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:46:13 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:46:13"}}
ERROR - 2026-01-29 07:46:13 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:46:13 --> Found 83 direct messages
DEBUG - 2026-01-29 07:46:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:13 --> ApiController initialized
DEBUG - 2026-01-29 07:46:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:46:38 --> ApiController initialized
DEBUG - 2026-01-29 07:46:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:47:08 --> ApiController initialized
DEBUG - 2026-01-29 07:47:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:47:38 --> ApiController initialized
DEBUG - 2026-01-29 07:47:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:48:08 --> ApiController initialized
DEBUG - 2026-01-29 07:48:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:48:38 --> ApiController initialized
DEBUG - 2026-01-29 07:48:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:49:08 --> ApiController initialized
DEBUG - 2026-01-29 07:49:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:49:38 --> ApiController initialized
DEBUG - 2026-01-29 07:49:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:08 --> ApiController initialized
DEBUG - 2026-01-29 07:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:38 --> ApiController initialized
DEBUG - 2026-01-29 07:50:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:38 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:50:38 --> ApiController initialized
DEBUG - 2026-01-29 07:50:38 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:50:38 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:50:38 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:50:38"}}
ERROR - 2026-01-29 07:50:38 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:50:38 --> Found 83 direct messages
DEBUG - 2026-01-29 07:50:38 --> ApiController initialized
DEBUG - 2026-01-29 07:50:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:38 --> ApiController initialized
DEBUG - 2026-01-29 07:50:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:38 --> ApiController initialized
DEBUG - 2026-01-29 07:50:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:40 --> ApiController initialized
DEBUG - 2026-01-29 07:50:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:40 --> ApiController initialized
DEBUG - 2026-01-29 07:50:40 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:50:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:40 --> Groups data: []
DEBUG - 2026-01-29 07:50:40 --> ApiController initialized
DEBUG - 2026-01-29 07:50:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:40 --> ApiController initialized
DEBUG - 2026-01-29 07:50:40 --> ApiController initialized
DEBUG - 2026-01-29 07:50:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:41 --> ApiController initialized
DEBUG - 2026-01-29 07:50:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:45 --> ApiController initialized
DEBUG - 2026-01-29 07:50:45 --> ApiController initialized
DEBUG - 2026-01-29 07:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:45 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:50:45 --> ApiController initialized
DEBUG - 2026-01-29 07:50:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:50:45 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:50:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:50:45"}}
ERROR - 2026-01-29 07:50:45 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:50:45 --> Found 83 direct messages
DEBUG - 2026-01-29 07:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:50:46 --> ApiController initialized
DEBUG - 2026-01-29 07:50:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> ApiController initialized
DEBUG - 2026-01-29 07:51:00 --> ApiController initialized
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> ApiController initialized
DEBUG - 2026-01-29 07:51:00 --> ApiController initialized
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:00 --> Groups data: []
DEBUG - 2026-01-29 07:51:00 --> ApiController initialized
DEBUG - 2026-01-29 07:51:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> Groups data: []
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:01 --> ApiController initialized
DEBUG - 2026-01-29 07:51:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:11 --> ApiController initialized
DEBUG - 2026-01-29 07:51:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:11 --> ApiController initialized
DEBUG - 2026-01-29 07:51:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:12 --> Groups data: []
DEBUG - 2026-01-29 07:51:12 --> ApiController initialized
DEBUG - 2026-01-29 07:51:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:12 --> ApiController initialized
DEBUG - 2026-01-29 07:51:12 --> ApiController initialized
DEBUG - 2026-01-29 07:51:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:12 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:51:12 --> ApiController initialized
DEBUG - 2026-01-29 07:51:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:51:41 --> ApiController initialized
DEBUG - 2026-01-29 07:51:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:11 --> ApiController initialized
DEBUG - 2026-01-29 07:52:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:41 --> ApiController initialized
DEBUG - 2026-01-29 07:52:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:57 --> ApiController initialized
DEBUG - 2026-01-29 07:52:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:58 --> ApiController initialized
DEBUG - 2026-01-29 07:52:58 --> ApiController initialized
DEBUG - 2026-01-29 07:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:58 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:52:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:52:58 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:52:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:52:58"}}
ERROR - 2026-01-29 07:52:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:52:58 --> Found 83 direct messages
DEBUG - 2026-01-29 07:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:52:58 --> ApiController initialized
DEBUG - 2026-01-29 07:52:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:01 --> ApiController initialized
DEBUG - 2026-01-29 07:53:01 --> ApiController initialized
DEBUG - 2026-01-29 07:53:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:01 --> Groups data: []
DEBUG - 2026-01-29 07:53:01 --> ApiController initialized
DEBUG - 2026-01-29 07:53:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:01 --> ApiController initialized
DEBUG - 2026-01-29 07:53:01 --> ApiController initialized
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> ApiController initialized
DEBUG - 2026-01-29 07:53:02 --> ApiController initialized
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> ApiController initialized
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:53:02 --> ApiController initialized
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> ApiController initialized
DEBUG - 2026-01-29 07:53:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:02 --> Groups data: []
DEBUG - 2026-01-29 07:53:03 --> ApiController initialized
DEBUG - 2026-01-29 07:53:03 --> ApiController initialized
DEBUG - 2026-01-29 07:53:03 --> ApiController initialized
DEBUG - 2026-01-29 07:53:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:03 --> ApiController initialized
DEBUG - 2026-01-29 07:53:03 --> ApiController initialized
DEBUG - 2026-01-29 07:53:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:03 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:53:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:03 --> Groups data: []
DEBUG - 2026-01-29 07:53:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:03 --> ApiController initialized
DEBUG - 2026-01-29 07:53:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:09 --> ApiController initialized
DEBUG - 2026-01-29 07:53:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:09 --> ApiController initialized
DEBUG - 2026-01-29 07:53:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:09 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:53:09 --> ApiController initialized
DEBUG - 2026-01-29 07:53:09 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:53:09 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:53:09 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:53:09"}}
DEBUG - 2026-01-29 07:53:09 --> ApiController initialized
ERROR - 2026-01-29 07:53:09 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:53:09 --> Found 83 direct messages
DEBUG - 2026-01-29 07:53:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:53:33 --> ApiController initialized
DEBUG - 2026-01-29 07:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:54:02 --> ApiController initialized
DEBUG - 2026-01-29 07:54:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:54:32 --> ApiController initialized
DEBUG - 2026-01-29 07:54:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:03 --> ApiController initialized
DEBUG - 2026-01-29 07:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> ApiController initialized
DEBUG - 2026-01-29 07:55:14 --> ApiController initialized
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> ApiController initialized
DEBUG - 2026-01-29 07:55:14 --> ApiController initialized
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> ApiController initialized
DEBUG - 2026-01-29 07:55:14 --> Groups data: []
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:14 --> ApiController initialized
DEBUG - 2026-01-29 07:55:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:16 --> ApiController initialized
DEBUG - 2026-01-29 07:55:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:17 --> ApiController initialized
DEBUG - 2026-01-29 07:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:17 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:55:17 --> ApiController initialized
DEBUG - 2026-01-29 07:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:17 --> Groups data: []
DEBUG - 2026-01-29 07:55:17 --> ApiController initialized
DEBUG - 2026-01-29 07:55:17 --> ApiController initialized
DEBUG - 2026-01-29 07:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:17 --> ApiController initialized
DEBUG - 2026-01-29 07:55:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:26 --> ApiController initialized
DEBUG - 2026-01-29 07:55:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:26 --> ApiController initialized
DEBUG - 2026-01-29 07:55:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:26 --> ApiController initialized
DEBUG - 2026-01-29 07:55:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:27 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:55:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:55:27 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:55:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:55:27"}}
ERROR - 2026-01-29 07:55:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:55:27 --> Found 83 direct messages
DEBUG - 2026-01-29 07:55:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:27 --> ApiController initialized
DEBUG - 2026-01-29 07:55:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:28 --> ApiController initialized
DEBUG - 2026-01-29 07:55:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:28 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 07:55:28 --> ApiController initialized
DEBUG - 2026-01-29 07:55:28 --> ApiController initialized
DEBUG - 2026-01-29 07:55:28 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 07:55:28 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 07:55:28 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 07:55:28"}}
ERROR - 2026-01-29 07:55:28 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 07:55:28 --> Found 83 direct messages
DEBUG - 2026-01-29 07:55:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:29 --> ApiController initialized
DEBUG - 2026-01-29 07:55:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> ApiController initialized
DEBUG - 2026-01-29 07:55:32 --> ApiController initialized
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> ApiController initialized
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> ApiController initialized
DEBUG - 2026-01-29 07:55:32 --> ApiController initialized
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> Groups data: []
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:32 --> ApiController initialized
DEBUG - 2026-01-29 07:55:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:55:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:56:02 --> ApiController initialized
DEBUG - 2026-01-29 07:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:56:32 --> ApiController initialized
DEBUG - 2026-01-29 07:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:57:03 --> ApiController initialized
DEBUG - 2026-01-29 07:57:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:57:33 --> ApiController initialized
DEBUG - 2026-01-29 07:57:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:58:03 --> ApiController initialized
DEBUG - 2026-01-29 07:58:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:58:33 --> ApiController initialized
DEBUG - 2026-01-29 07:58:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:59:03 --> ApiController initialized
DEBUG - 2026-01-29 07:59:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 07:59:33 --> ApiController initialized
DEBUG - 2026-01-29 07:59:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:27 --> ApiController initialized
DEBUG - 2026-01-29 08:00:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:51 --> ApiController initialized
DEBUG - 2026-01-29 08:00:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:53 --> ApiController initialized
DEBUG - 2026-01-29 08:00:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:54 --> ApiController initialized
DEBUG - 2026-01-29 08:00:54 --> ApiController initialized
DEBUG - 2026-01-29 08:00:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:54 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:00:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:00:54 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:00:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:00:54"}}
DEBUG - 2026-01-29 08:00:54 --> ApiController initialized
ERROR - 2026-01-29 08:00:56 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2282 ms: Couldn't connect to server
DEBUG - 2026-01-29 08:00:56 --> Found 83 direct messages
DEBUG - 2026-01-29 08:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> Groups data: []
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Groups data: []
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> ApiController initialized
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:28 --> ApiController initialized
DEBUG - 2026-01-29 08:01:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:48 --> ApiController initialized
DEBUG - 2026-01-29 08:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:48 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:01:48 --> ApiController initialized
DEBUG - 2026-01-29 08:01:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:01:48 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:01:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:01:48"}}
DEBUG - 2026-01-29 08:01:48 --> ApiController initialized
ERROR - 2026-01-29 08:01:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:01:48 --> Found 83 direct messages
DEBUG - 2026-01-29 08:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:49 --> ApiController initialized
DEBUG - 2026-01-29 08:01:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:50 --> ApiController initialized
DEBUG - 2026-01-29 08:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:50 --> ApiController initialized
DEBUG - 2026-01-29 08:01:50 --> Groups data: []
DEBUG - 2026-01-29 08:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:50 --> ApiController initialized
DEBUG - 2026-01-29 08:01:50 --> ApiController initialized
DEBUG - 2026-01-29 08:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:50 --> ApiController initialized
DEBUG - 2026-01-29 08:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:50 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:50 --> ApiController initialized
DEBUG - 2026-01-29 08:01:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:01:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:02:19 --> ApiController initialized
DEBUG - 2026-01-29 08:02:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:02:49 --> ApiController initialized
DEBUG - 2026-01-29 08:02:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:02:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:00 --> ApiController initialized
DEBUG - 2026-01-29 08:03:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:00 --> ApiController initialized
DEBUG - 2026-01-29 08:03:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:00 --> ApiController initialized
DEBUG - 2026-01-29 08:03:00 --> ApiController initialized
DEBUG - 2026-01-29 08:03:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:00 --> Groups data: []
DEBUG - 2026-01-29 08:03:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:00 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:03:00 --> ApiController initialized
DEBUG - 2026-01-29 08:03:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:00 --> ApiController initialized
DEBUG - 2026-01-29 08:03:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:03:30 --> ApiController initialized
DEBUG - 2026-01-29 08:03:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:00 --> ApiController initialized
DEBUG - 2026-01-29 08:04:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:31 --> ApiController initialized
DEBUG - 2026-01-29 08:04:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:31 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:04:31 --> ApiController initialized
DEBUG - 2026-01-29 08:04:31 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:04:31 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:04:31 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:04:31"}}
ERROR - 2026-01-29 08:04:31 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:04:31 --> Found 83 direct messages
DEBUG - 2026-01-29 08:04:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:31 --> ApiController initialized
DEBUG - 2026-01-29 08:04:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:32 --> ApiController initialized
DEBUG - 2026-01-29 08:04:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:33 --> ApiController initialized
DEBUG - 2026-01-29 08:04:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:35 --> ApiController initialized
DEBUG - 2026-01-29 08:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:35 --> ApiController initialized
DEBUG - 2026-01-29 08:04:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:04:35 --> ApiController initialized
DEBUG - 2026-01-29 08:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:35 --> Groups data: []
DEBUG - 2026-01-29 08:04:35 --> ApiController initialized
DEBUG - 2026-01-29 08:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:35 --> ApiController initialized
DEBUG - 2026-01-29 08:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:35 --> ApiController initialized
DEBUG - 2026-01-29 08:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:04:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:05:04 --> ApiController initialized
DEBUG - 2026-01-29 08:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:05:34 --> ApiController initialized
DEBUG - 2026-01-29 08:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:06:04 --> ApiController initialized
DEBUG - 2026-01-29 08:06:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:06:35 --> ApiController initialized
DEBUG - 2026-01-29 08:06:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:05 --> ApiController initialized
DEBUG - 2026-01-29 08:07:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:34 --> ApiController initialized
DEBUG - 2026-01-29 08:07:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:50 --> ApiController initialized
DEBUG - 2026-01-29 08:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:50 --> ApiController initialized
DEBUG - 2026-01-29 08:07:50 --> ApiController initialized
DEBUG - 2026-01-29 08:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:50 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:07:50 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:07:50 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:07:50 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:07:50"}}
ERROR - 2026-01-29 08:07:50 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:07:50 --> Found 83 direct messages
DEBUG - 2026-01-29 08:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:50 --> ApiController initialized
DEBUG - 2026-01-29 08:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:53 --> ApiController initialized
DEBUG - 2026-01-29 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:53 --> ApiController initialized
DEBUG - 2026-01-29 08:07:53 --> ApiController initialized
DEBUG - 2026-01-29 08:07:53 --> ApiController initialized
DEBUG - 2026-01-29 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:53 --> Groups data: []
DEBUG - 2026-01-29 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:53 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:07:53 --> ApiController initialized
DEBUG - 2026-01-29 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:07:53 --> ApiController initialized
DEBUG - 2026-01-29 08:07:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:08:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:08:22 --> ApiController initialized
DEBUG - 2026-01-29 08:08:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:08:52 --> ApiController initialized
DEBUG - 2026-01-29 08:08:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:22 --> ApiController initialized
DEBUG - 2026-01-29 08:09:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:53 --> ApiController initialized
DEBUG - 2026-01-29 08:09:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:53 --> ApiController initialized
DEBUG - 2026-01-29 08:09:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:54 --> ApiController initialized
DEBUG - 2026-01-29 08:09:54 --> ApiController initialized
DEBUG - 2026-01-29 08:09:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:54 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:09:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:09:54 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:09:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:09:54"}}
ERROR - 2026-01-29 08:09:54 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:09:54 --> Found 83 direct messages
DEBUG - 2026-01-29 08:09:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:54 --> ApiController initialized
DEBUG - 2026-01-29 08:09:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:56 --> ApiController initialized
DEBUG - 2026-01-29 08:09:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:57 --> ApiController initialized
DEBUG - 2026-01-29 08:09:57 --> ApiController initialized
DEBUG - 2026-01-29 08:09:57 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:57 --> ApiController initialized
DEBUG - 2026-01-29 08:09:57 --> ApiController initialized
DEBUG - 2026-01-29 08:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:57 --> Groups data: []
DEBUG - 2026-01-29 08:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:57 --> ApiController initialized
DEBUG - 2026-01-29 08:09:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:09:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:04 --> ApiController initialized
DEBUG - 2026-01-29 08:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:05 --> ApiController initialized
DEBUG - 2026-01-29 08:10:05 --> ApiController initialized
DEBUG - 2026-01-29 08:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:05 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:05 --> ApiController initialized
DEBUG - 2026-01-29 08:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:05 --> Groups data: []
DEBUG - 2026-01-29 08:10:05 --> ApiController initialized
DEBUG - 2026-01-29 08:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:05 --> ApiController initialized
DEBUG - 2026-01-29 08:10:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:10 --> ApiController initialized
DEBUG - 2026-01-29 08:10:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:10 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:10:10 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:10:10 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:10:10 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:10:10"}}
ERROR - 2026-01-29 08:10:10 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:10:10 --> Found 83 direct messages
DEBUG - 2026-01-29 08:10:10 --> ApiController initialized
DEBUG - 2026-01-29 08:10:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:10 --> ApiController initialized
DEBUG - 2026-01-29 08:10:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:11 --> ApiController initialized
DEBUG - 2026-01-29 08:10:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:26 --> ApiController initialized
DEBUG - 2026-01-29 08:10:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:10:56 --> ApiController initialized
DEBUG - 2026-01-29 08:10:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:11:27 --> ApiController initialized
DEBUG - 2026-01-29 08:11:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:11:57 --> ApiController initialized
DEBUG - 2026-01-29 08:11:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:27 --> ApiController initialized
DEBUG - 2026-01-29 08:12:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:48 --> ApiController initialized
DEBUG - 2026-01-29 08:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:48 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:12:48 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:12:48 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:12:48 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:12:48"}}
ERROR - 2026-01-29 08:12:48 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:12:48 --> Found 83 direct messages
DEBUG - 2026-01-29 08:12:48 --> ApiController initialized
DEBUG - 2026-01-29 08:12:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:49 --> ApiController initialized
DEBUG - 2026-01-29 08:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:49 --> ApiController initialized
DEBUG - 2026-01-29 08:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:51 --> ApiController initialized
DEBUG - 2026-01-29 08:12:51 --> ApiController initialized
DEBUG - 2026-01-29 08:12:51 --> ApiController initialized
DEBUG - 2026-01-29 08:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:51 --> ApiController initialized
DEBUG - 2026-01-29 08:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:51 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:51 --> Groups data: []
DEBUG - 2026-01-29 08:12:51 --> ApiController initialized
DEBUG - 2026-01-29 08:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:51 --> ApiController initialized
DEBUG - 2026-01-29 08:12:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:21 --> ApiController initialized
DEBUG - 2026-01-29 08:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:21 --> ApiController initialized
DEBUG - 2026-01-29 08:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:22 --> ApiController initialized
DEBUG - 2026-01-29 08:13:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:22 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:13:22 --> ApiController initialized
DEBUG - 2026-01-29 08:13:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:22 --> ApiController initialized
DEBUG - 2026-01-29 08:13:22 --> Groups data: []
DEBUG - 2026-01-29 08:13:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:22 --> ApiController initialized
DEBUG - 2026-01-29 08:13:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:22 --> ApiController initialized
DEBUG - 2026-01-29 08:13:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:26 --> ApiController initialized
DEBUG - 2026-01-29 08:13:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:26 --> ApiController initialized
DEBUG - 2026-01-29 08:13:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:26 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:13:27 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:13:27 --> ApiController initialized
DEBUG - 2026-01-29 08:13:27 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:13:27 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:13:27"}}
ERROR - 2026-01-29 08:13:27 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:13:27 --> Found 83 direct messages
DEBUG - 2026-01-29 08:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:27 --> ApiController initialized
DEBUG - 2026-01-29 08:13:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:13:51 --> ApiController initialized
DEBUG - 2026-01-29 08:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:08 --> ApiController initialized
DEBUG - 2026-01-29 08:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:09 --> ApiController initialized
DEBUG - 2026-01-29 08:14:09 --> ApiController initialized
DEBUG - 2026-01-29 08:14:09 --> ApiController initialized
DEBUG - 2026-01-29 08:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:09 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:14:09 --> ApiController initialized
DEBUG - 2026-01-29 08:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:09 --> Groups data: []
DEBUG - 2026-01-29 08:14:09 --> ApiController initialized
DEBUG - 2026-01-29 08:14:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:22 --> ApiController initialized
DEBUG - 2026-01-29 08:14:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:39 --> ApiController initialized
DEBUG - 2026-01-29 08:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:14:52 --> ApiController initialized
DEBUG - 2026-01-29 08:14:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:15:09 --> ApiController initialized
DEBUG - 2026-01-29 08:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:15:22 --> ApiController initialized
DEBUG - 2026-01-29 08:15:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:15:45 --> ApiController initialized
DEBUG - 2026-01-29 08:15:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:15:52 --> ApiController initialized
DEBUG - 2026-01-29 08:15:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:16:09 --> ApiController initialized
DEBUG - 2026-01-29 08:16:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:16:24 --> ApiController initialized
DEBUG - 2026-01-29 08:16:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:16:39 --> ApiController initialized
DEBUG - 2026-01-29 08:16:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:16:52 --> ApiController initialized
DEBUG - 2026-01-29 08:16:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:09 --> ApiController initialized
DEBUG - 2026-01-29 08:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:27 --> ApiController initialized
DEBUG - 2026-01-29 08:17:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:31 --> ApiController initialized
DEBUG - 2026-01-29 08:17:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:32 --> ApiController initialized
DEBUG - 2026-01-29 08:17:32 --> ApiController initialized
DEBUG - 2026-01-29 08:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:32 --> ApiController initialized
DEBUG - 2026-01-29 08:17:32 --> ApiController initialized
DEBUG - 2026-01-29 08:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:32 --> Groups data: []
DEBUG - 2026-01-29 08:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:32 --> ApiController initialized
DEBUG - 2026-01-29 08:17:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:35 --> ApiController initialized
DEBUG - 2026-01-29 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:35 --> ApiController initialized
DEBUG - 2026-01-29 08:17:35 --> ApiController initialized
DEBUG - 2026-01-29 08:17:35 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:35 --> ApiController initialized
DEBUG - 2026-01-29 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:35 --> Groups data: []
DEBUG - 2026-01-29 08:17:35 --> ApiController initialized
DEBUG - 2026-01-29 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:35 --> ApiController initialized
DEBUG - 2026-01-29 08:17:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:41 --> ApiController initialized
DEBUG - 2026-01-29 08:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:41 --> ApiController initialized
DEBUG - 2026-01-29 08:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:41 --> ApiController initialized
DEBUG - 2026-01-29 08:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:17:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:17:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:17:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:17:41"}}
ERROR - 2026-01-29 08:17:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:17:41 --> Found 83 direct messages
DEBUG - 2026-01-29 08:17:41 --> ApiController initialized
DEBUG - 2026-01-29 08:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:17:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:05 --> ApiController initialized
DEBUG - 2026-01-29 08:18:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:35 --> ApiController initialized
DEBUG - 2026-01-29 08:18:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:41 --> ApiController initialized
DEBUG - 2026-01-29 08:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:41 --> ApiController initialized
DEBUG - 2026-01-29 08:18:41 --> ApiController initialized
DEBUG - 2026-01-29 08:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:41 --> ApiController initialized
DEBUG - 2026-01-29 08:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:41 --> ApiController initialized
DEBUG - 2026-01-29 08:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:18:41 --> Groups data: []
DEBUG - 2026-01-29 08:18:41 --> ApiController initialized
DEBUG - 2026-01-29 08:18:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:12 --> ApiController initialized
DEBUG - 2026-01-29 08:19:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:41 --> ApiController initialized
DEBUG - 2026-01-29 08:19:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:19:41 --> ApiController initialized
DEBUG - 2026-01-29 08:19:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:19:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:19:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:19:41"}}
ERROR - 2026-01-29 08:19:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:19:41 --> Found 83 direct messages
DEBUG - 2026-01-29 08:19:41 --> ApiController initialized
DEBUG - 2026-01-29 08:19:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:42 --> ApiController initialized
DEBUG - 2026-01-29 08:19:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:43 --> ApiController initialized
DEBUG - 2026-01-29 08:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:43 --> ApiController initialized
DEBUG - 2026-01-29 08:19:43 --> ApiController initialized
DEBUG - 2026-01-29 08:19:43 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:43 --> ApiController initialized
DEBUG - 2026-01-29 08:19:43 --> Groups data: []
DEBUG - 2026-01-29 08:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:43 --> ApiController initialized
DEBUG - 2026-01-29 08:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:44 --> ApiController initialized
DEBUG - 2026-01-29 08:19:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:46 --> ApiController initialized
DEBUG - 2026-01-29 08:19:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> ApiController initialized
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> ApiController initialized
DEBUG - 2026-01-29 08:19:52 --> ApiController initialized
DEBUG - 2026-01-29 08:19:52 --> Groups data: []
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:19:52 --> ApiController initialized
DEBUG - 2026-01-29 08:19:52 --> ApiController initialized
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:19:52 --> ApiController initialized
DEBUG - 2026-01-29 08:19:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:20:12 --> ApiController initialized
DEBUG - 2026-01-29 08:20:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:20:23 --> ApiController initialized
DEBUG - 2026-01-29 08:20:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:20:42 --> ApiController initialized
DEBUG - 2026-01-29 08:20:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:20:53 --> ApiController initialized
DEBUG - 2026-01-29 08:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:21:11 --> ApiController initialized
DEBUG - 2026-01-29 08:21:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:21:23 --> ApiController initialized
DEBUG - 2026-01-29 08:21:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:21:42 --> ApiController initialized
DEBUG - 2026-01-29 08:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:21:53 --> ApiController initialized
DEBUG - 2026-01-29 08:21:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:22:12 --> ApiController initialized
DEBUG - 2026-01-29 08:22:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:22:23 --> ApiController initialized
DEBUG - 2026-01-29 08:22:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:22:42 --> ApiController initialized
DEBUG - 2026-01-29 08:22:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:22:53 --> ApiController initialized
DEBUG - 2026-01-29 08:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:23:12 --> ApiController initialized
DEBUG - 2026-01-29 08:23:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:23:23 --> ApiController initialized
DEBUG - 2026-01-29 08:23:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:23:42 --> ApiController initialized
DEBUG - 2026-01-29 08:23:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:24:12 --> ApiController initialized
DEBUG - 2026-01-29 08:24:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:24:24 --> ApiController initialized
DEBUG - 2026-01-29 08:24:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:24:42 --> ApiController initialized
DEBUG - 2026-01-29 08:24:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:25:27 --> ApiController initialized
DEBUG - 2026-01-29 08:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:25:27 --> ApiController initialized
DEBUG - 2026-01-29 08:25:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:25:42 --> ApiController initialized
DEBUG - 2026-01-29 08:25:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:26:12 --> ApiController initialized
DEBUG - 2026-01-29 08:26:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:26:27 --> ApiController initialized
DEBUG - 2026-01-29 08:26:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:26:42 --> ApiController initialized
DEBUG - 2026-01-29 08:26:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:27:12 --> ApiController initialized
DEBUG - 2026-01-29 08:27:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:27:27 --> ApiController initialized
DEBUG - 2026-01-29 08:27:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:28:13 --> ApiController initialized
DEBUG - 2026-01-29 08:28:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:28:27 --> ApiController initialized
DEBUG - 2026-01-29 08:28:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:29:14 --> ApiController initialized
DEBUG - 2026-01-29 08:29:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:29:27 --> ApiController initialized
DEBUG - 2026-01-29 08:29:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:29:52 --> ApiController initialized
DEBUG - 2026-01-29 08:29:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:11 --> ApiController initialized
DEBUG - 2026-01-29 08:30:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> ApiController initialized
DEBUG - 2026-01-29 08:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> ApiController initialized
DEBUG - 2026-01-29 08:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> ApiController initialized
DEBUG - 2026-01-29 08:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> ApiController initialized
DEBUG - 2026-01-29 08:30:15 --> Groups data: []
DEBUG - 2026-01-29 08:30:15 --> ApiController initialized
DEBUG - 2026-01-29 08:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:15 --> ApiController initialized
DEBUG - 2026-01-29 08:30:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> ApiController initialized
DEBUG - 2026-01-29 08:30:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> ApiController initialized
DEBUG - 2026-01-29 08:30:32 --> Groups data: []
DEBUG - 2026-01-29 08:30:32 --> ApiController initialized
DEBUG - 2026-01-29 08:30:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> ApiController initialized
DEBUG - 2026-01-29 08:30:32 --> ApiController initialized
DEBUG - 2026-01-29 08:30:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:32 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:30:33 --> ApiController initialized
DEBUG - 2026-01-29 08:30:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> ApiController initialized
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> Groups data: []
DEBUG - 2026-01-29 08:30:36 --> ApiController initialized
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> ApiController initialized
DEBUG - 2026-01-29 08:30:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:30:36 --> ApiController initialized
DEBUG - 2026-01-29 08:30:36 --> ApiController initialized
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:36 --> ApiController initialized
DEBUG - 2026-01-29 08:30:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> ApiController initialized
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:30:37 --> ApiController initialized
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> ApiController initialized
DEBUG - 2026-01-29 08:30:37 --> ApiController initialized
DEBUG - 2026-01-29 08:30:37 --> ApiController initialized
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> Groups data: []
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:37 --> ApiController initialized
DEBUG - 2026-01-29 08:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:41 --> ApiController initialized
DEBUG - 2026-01-29 08:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:41 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:30:41 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:30:41 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:30:41 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:30:41"}}
ERROR - 2026-01-29 08:30:41 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:30:41 --> Found 83 direct messages
DEBUG - 2026-01-29 08:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:51 --> ApiController initialized
DEBUG - 2026-01-29 08:30:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:51 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:30:51 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:30:51 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:30:51 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:30:51"}}
ERROR - 2026-01-29 08:30:51 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:30:51 --> Found 83 direct messages
DEBUG - 2026-01-29 08:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:56 --> ApiController initialized
DEBUG - 2026-01-29 08:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:30:56 --> ApiController initialized
DEBUG - 2026-01-29 08:30:56 --> ApiController initialized
DEBUG - 2026-01-29 08:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:56 --> ApiController initialized
DEBUG - 2026-01-29 08:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:56 --> ApiController initialized
DEBUG - 2026-01-29 08:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:56 --> Groups data: []
DEBUG - 2026-01-29 08:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:30:56 --> ApiController initialized
DEBUG - 2026-01-29 08:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:26 --> ApiController initialized
DEBUG - 2026-01-29 08:31:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:56 --> ApiController initialized
DEBUG - 2026-01-29 08:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:57 --> ApiController initialized
DEBUG - 2026-01-29 08:31:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:57 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:31:57 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:31:57 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:31:57 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:31:57"}}
ERROR - 2026-01-29 08:31:57 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:31:57 --> Found 83 direct messages
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:59 --> ApiController initialized
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:59 --> ApiController initialized
DEBUG - 2026-01-29 08:31:59 --> ApiController initialized
DEBUG - 2026-01-29 08:31:59 --> ApiController initialized
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:59 --> ApiController initialized
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:59 --> Groups data: []
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:31:59 --> ApiController initialized
DEBUG - 2026-01-29 08:31:59 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:31:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:29 --> ApiController initialized
DEBUG - 2026-01-29 08:32:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:30 --> ApiController initialized
DEBUG - 2026-01-29 08:32:30 --> ApiController initialized
DEBUG - 2026-01-29 08:32:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:30 --> ApiController initialized
DEBUG - 2026-01-29 08:32:30 --> ApiController initialized
DEBUG - 2026-01-29 08:32:31 --> ApiController initialized
DEBUG - 2026-01-29 08:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:31 --> Groups data: []
DEBUG - 2026-01-29 08:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:31 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 06:33:33","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 06:33:33","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:31 --> ApiController initialized
DEBUG - 2026-01-29 08:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:42 --> TSR Dashboard: User ID: 1, Role: tsr
DEBUG - 2026-01-29 08:32:42 --> TSR Dashboard: Database connected successfully
DEBUG - 2026-01-29 08:32:42 --> TSR Dashboard: Stats - Open: 0, In Progress: 0, Resolved: 1
DEBUG - 2026-01-29 08:32:42 --> TSR Dashboard: Found 0 unassigned tickets
DEBUG - 2026-01-29 08:32:42 --> TSR Dashboard: Found 1 assigned tickets
DEBUG - 2026-01-29 08:32:42 --> TSR Dashboard: Rendering view with data
DEBUG - 2026-01-29 08:32:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:48 --> ApiController initialized
DEBUG - 2026-01-29 08:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:48 --> ApiController initialized
DEBUG - 2026-01-29 08:32:48 --> ApiController initialized
DEBUG - 2026-01-29 08:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:48 --> ApiController initialized
DEBUG - 2026-01-29 08:32:48 --> ApiController initialized
DEBUG - 2026-01-29 08:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:48 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 07:22:22","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 08:32:34","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:48 --> Groups data: []
DEBUG - 2026-01-29 08:32:48 --> ApiController initialized
DEBUG - 2026-01-29 08:32:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:55 --> ApiController initialized
DEBUG - 2026-01-29 08:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:55 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 08:32:55 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:32:55 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 08:32:55 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 08:32:55"}}
ERROR - 2026-01-29 08:32:55 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:32:55 --> Found 83 direct messages
DEBUG - 2026-01-29 08:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:59 --> ApiController initialized
DEBUG - 2026-01-29 08:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:32:59 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:32:59 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:32:59 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:32:59 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:32:59"}}
ERROR - 2026-01-29 08:32:59 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:32:59 --> Found 83 direct messages
DEBUG - 2026-01-29 08:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:06 --> ApiController initialized
DEBUG - 2026-01-29 08:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:06 --> ApiController initialized
DEBUG - 2026-01-29 08:33:06 --> ApiController initialized
DEBUG - 2026-01-29 08:33:06 --> ApiController initialized
DEBUG - 2026-01-29 08:33:06 --> Groups data: []
DEBUG - 2026-01-29 08:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:06 --> ApiController initialized
DEBUG - 2026-01-29 08:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:06 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 07:22:22","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 08:32:34","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:06 --> ApiController initialized
DEBUG - 2026-01-29 08:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> ApiController initialized
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> ApiController initialized
DEBUG - 2026-01-29 08:33:13 --> Groups data: []
DEBUG - 2026-01-29 08:33:13 --> ApiController initialized
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> ApiController initialized
DEBUG - 2026-01-29 08:33:13 --> ApiController initialized
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:13 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 08:32:41","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 08:32:41","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:13 --> ApiController initialized
DEBUG - 2026-01-29 08:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> ApiController initialized
DEBUG - 2026-01-29 08:33:14 --> ApiController initialized
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> Groups data: []
DEBUG - 2026-01-29 08:33:14 --> ApiController initialized
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> ApiController initialized
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 08:32:41","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 08:32:41","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> ApiController initialized
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:14 --> ApiController initialized
DEBUG - 2026-01-29 08:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:15 --> ApiController initialized
DEBUG - 2026-01-29 08:33:15 --> ApiController initialized
DEBUG - 2026-01-29 08:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:15 --> ApiController initialized
DEBUG - 2026-01-29 08:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:15 --> Groups data: []
DEBUG - 2026-01-29 08:33:15 --> ApiController initialized
DEBUG - 2026-01-29 08:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:15 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"offline","role":"user","last_active":"2026-01-29 07:22:22","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 08:32:34","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:15 --> ApiController initialized
DEBUG - 2026-01-29 08:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:16 --> ApiController initialized
DEBUG - 2026-01-29 08:33:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> ApiController initialized
DEBUG - 2026-01-29 08:33:36 --> ApiController initialized
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> ApiController initialized
DEBUG - 2026-01-29 08:33:36 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 08:32:41","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 08:32:41","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> Groups data: []
DEBUG - 2026-01-29 08:33:36 --> ApiController initialized
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> ApiController initialized
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:36 --> ApiController initialized
DEBUG - 2026-01-29 08:33:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> ApiController initialized
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 08:32:41","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 08:32:41","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:41 --> ApiController initialized
DEBUG - 2026-01-29 08:33:41 --> ApiController initialized
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> Groups data: []
DEBUG - 2026-01-29 08:33:41 --> ApiController initialized
DEBUG - 2026-01-29 08:33:41 --> ApiController initialized
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:41 --> ApiController initialized
DEBUG - 2026-01-29 08:33:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:45 --> ApiController initialized
DEBUG - 2026-01-29 08:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:48 --> ApiController initialized
DEBUG - 2026-01-29 08:33:48 --> ApiController initialized
DEBUG - 2026-01-29 08:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:48 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 08:32:41","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 08:32:41","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:48 --> ApiController initialized
DEBUG - 2026-01-29 08:33:48 --> ApiController initialized
DEBUG - 2026-01-29 08:33:48 --> ApiController initialized
DEBUG - 2026-01-29 08:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:48 --> Groups data: []
DEBUG - 2026-01-29 08:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:48 --> ApiController initialized
DEBUG - 2026-01-29 08:33:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:51 --> ApiController initialized
DEBUG - 2026-01-29 08:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:51 --> ApiController initialized
DEBUG - 2026-01-29 08:33:51 --> ApiController initialized
DEBUG - 2026-01-29 08:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:51 --> ApiController initialized
DEBUG - 2026-01-29 08:33:51 --> Groups data: []
DEBUG - 2026-01-29 08:33:51 --> ApiController initialized
DEBUG - 2026-01-29 08:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:51 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 07:22:22","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 08:32:34","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:33:51 --> ApiController initialized
DEBUG - 2026-01-29 08:33:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:15 --> ApiController initialized
DEBUG - 2026-01-29 08:34:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:15 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:34:15 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:34:15 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:34:15 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:34:15"}}
ERROR - 2026-01-29 08:34:15 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:34:15 --> Found 83 direct messages
DEBUG - 2026-01-29 08:34:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:21 --> ApiController initialized
DEBUG - 2026-01-29 08:34:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> ApiController initialized
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> ApiController initialized
DEBUG - 2026-01-29 08:34:25 --> ApiController initialized
DEBUG - 2026-01-29 08:34:25 --> Groups data: []
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> ApiController initialized
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> ApiController initialized
DEBUG - 2026-01-29 08:34:25 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 07:22:22","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 08:32:34","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:25 --> ApiController initialized
DEBUG - 2026-01-29 08:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:34:55 --> ApiController initialized
DEBUG - 2026-01-29 08:34:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:35:26 --> ApiController initialized
DEBUG - 2026-01-29 08:35:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:35:56 --> ApiController initialized
DEBUG - 2026-01-29 08:35:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:36:26 --> ApiController initialized
DEBUG - 2026-01-29 08:36:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:36:55 --> ApiController initialized
DEBUG - 2026-01-29 08:36:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:26 --> ApiController initialized
DEBUG - 2026-01-29 08:37:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:53 --> ApiController initialized
DEBUG - 2026-01-29 08:37:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:53 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:37:54 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:37:54 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:37:54 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:37:54"}}
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2026-01-29 08:37:56 --> Failed to send messages_read event to socket server: 7 : Failed to connect to localhost port 3001 after 2248 ms: Couldn't connect to server
DEBUG - 2026-01-29 08:37:56 --> Found 83 direct messages
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:56 --> Users data: [{"id":"1","username":"test","email":"test@gmail.com","password":"$2y$10$vbN2XYbSpt.JRmC2TesWN.uZIoRtSYi8Ym9TBHfxIlVnRaa9t6Qt.","nickname":"test","avatar":"default-avatar.png","status":"online","role":"tsr","last_active":"2026-01-29 08:32:41","created_at":"2026-01-29 01:12:20","updated_at":"2026-01-29 08:32:41","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:56 --> Groups data: []
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:37:56 --> ApiController initialized
DEBUG - 2026-01-29 08:37:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:38:26 --> ApiController initialized
DEBUG - 2026-01-29 08:38:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:38:27 --> ApiController initialized
DEBUG - 2026-01-29 08:38:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:38:56 --> ApiController initialized
DEBUG - 2026-01-29 08:38:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:38:57 --> ApiController initialized
DEBUG - 2026-01-29 08:38:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:26 --> ApiController initialized
DEBUG - 2026-01-29 08:39:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:26 --> ApiController initialized
DEBUG - 2026-01-29 08:39:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:40 --> ApiController initialized
DEBUG - 2026-01-29 08:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:40 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 08:39:40 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:39:40 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 08:39:40 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 08:39:40"}}
ERROR - 2026-01-29 08:39:40 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:39:40 --> Found 83 direct messages
DEBUG - 2026-01-29 08:39:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:45 --> ApiController initialized
DEBUG - 2026-01-29 08:39:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:45 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:39:45 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:39:45 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:39:45 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:39:45"}}
ERROR - 2026-01-29 08:39:45 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:39:45 --> Found 83 direct messages
DEBUG - 2026-01-29 08:39:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:58 --> ApiController initialized
DEBUG - 2026-01-29 08:39:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:39:58 --> Getting direct messages between user 3 and 1
DEBUG - 2026-01-29 08:39:58 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
OR    (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:39:58 --> Marked messages from user 1 to 3 as read
DEBUG - 2026-01-29 08:39:58 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"3","chat_id":"1","is_group":false,"timestamp":"2026-01-29 08:39:58"}}
ERROR - 2026-01-29 08:39:58 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:39:58 --> Found 83 direct messages
DEBUG - 2026-01-29 08:40:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:02 --> ApiController initialized
DEBUG - 2026-01-29 08:40:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:02 --> Getting direct messages between user 1 and 3
DEBUG - 2026-01-29 08:40:02 --> Last query: SELECT `messages`.*, `users`.`username`, `users`.`nickname`, `users`.`avatar`, `message_status`.`status`
FROM `messages`
JOIN `users` ON `users`.`id` = `messages`.`sender_id`
LEFT JOIN `message_status` ON `messages`.`id` = `message_status`.`message_id`
WHERE `messages`.`is_group` = 0
AND   (
   (
`messages`.`sender_id` = '1'
AND `messages`.`receiver_id` = '3'
  )
OR    (
`messages`.`sender_id` = '3'
AND `messages`.`receiver_id` = '1'
  )
 )
ORDER BY `messages`.`created_at` ASC
DEBUG - 2026-01-29 08:40:02 --> Marked messages from user 3 to 1 as read
DEBUG - 2026-01-29 08:40:02 --> Sending messages_read event to socket server: {"event":"messages_read","data":{"reader_id":"1","chat_id":"3","is_group":false,"timestamp":"2026-01-29 08:40:02"}}
ERROR - 2026-01-29 08:40:02 --> Failed to send messages_read event to socket server: 22 : The requested URL returned error: 404
DEBUG - 2026-01-29 08:40:02 --> Found 83 direct messages
DEBUG - 2026-01-29 08:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:08 --> ApiController initialized
DEBUG - 2026-01-29 08:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:08 --> ApiController initialized
DEBUG - 2026-01-29 08:40:08 --> ApiController initialized
DEBUG - 2026-01-29 08:40:08 --> ApiController initialized
DEBUG - 2026-01-29 08:40:08 --> Users data: [{"id":"3","username":"test1","email":"test1@gmail.com","password":"$2y$10$jICcO5xTe1eroaxWRwBLWeRFA6K.4VDVy0lQAtMD1yq\/TEs0sryCG","nickname":"test1","avatar":"default-avatar.png","status":"online","role":"user","last_active":"2026-01-29 07:22:22","created_at":"2026-01-29 01:26:41","updated_at":"2026-01-29 08:32:34","last_message":{"id":"83","sender_id":"3","receiver_id":"1","group_id":null,"content":"try","type":"text","file_url":null,"is_group":"0","created_at":"2026-01-29 15:21:34","is_read":"1","reply_to_id":null,"reply_to_sender_id":null,"reply_to_content":"This message","reply_to_sender_name":null,"original_filename":null,"file_size":null},"unread_count":0,"online":false}]
DEBUG - 2026-01-29 08:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:08 --> ApiController initialized
DEBUG - 2026-01-29 08:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:09 --> Groups data: []
DEBUG - 2026-01-29 08:40:09 --> ApiController initialized
DEBUG - 2026-01-29 08:40:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:40:38 --> ApiController initialized
DEBUG - 2026-01-29 08:40:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:41:08 --> ApiController initialized
DEBUG - 2026-01-29 08:41:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2026-01-29 08:41:39 --> ApiController initialized
DEBUG - 2026-01-29 08:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
